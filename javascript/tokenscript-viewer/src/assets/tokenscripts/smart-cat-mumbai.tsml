<ts:token xmlns:ethereum="urn:ethereum:constantinople" xmlns:ts="http://tokenscript.org/2022/09/tokenscript" xmlns:xhmtl="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="SmartCat" xsi:schemaLocation="http://tokenscript.org/2022/09/tokenscript http://tokenscript.org/2022/09/tokenscript.xsd">
	<ts:label>
		<ts:plurals xml:lang="en">
			<ts:string quantity="one">SmartCat</ts:string>
			<ts:string quantity="other">SmartCats</ts:string>
		</ts:plurals>
	</ts:label>

	<ts:meta>
		<ts:description xml:lang="en">Adopt a cat and boost their intelligence through fun care tasks.</ts:description>
		<ts:aboutUrl xml:lang="en">https://medium.com/alphawallet/the-smart-cat-is-out-of-the-bag-b631d2588de2</ts:aboutUrl>
	</ts:meta>

	<ts:contract interface="erc721" name="SmartCatNFT">
		
		
		
		
		<ts:address network="80001">0x614cF3021705977c2eF4beb9D7f10a6bF4EAEBF6</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatScore">
		
		
		
		
		<ts:address network="80001">0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F</ts:address>
	</ts:contract>
	<ts:contract name="wETH">
		
		
		<ts:address network="80001">0x3B0deCF3FCe1abD6717B045C47f4558C67fE79fa</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatLoot">
		
		
		<ts:address network="80001">0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
	</ts:contract>

	<ts:origins>
		
		<ts:ethereum contract="SmartCatNFT"/>
	</ts:origins>

	<ts:selection filter="canFeed=FALSE" name="alreadyFed">
		<ts:label>
			<ts:string xml:lang="en">Already fed!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canPlay=FALSE" name="alreadyPlayed">
		<ts:label>
			<ts:string xml:lang="en">Too tired!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canClean=FALSE" name="alreadyCleaned">
		<ts:label>
			<ts:string xml:lang="en">Already cleaned!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canLevelUp=FALSE" name="cantLevelUp">
		<ts:label>
			<ts:string xml:lang="en">Can't level up yet!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level=0" name="notAdoptedYet">
		<ts:label>
			<ts:string xml:lang="en">You must adopt and feed your cat first!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level&gt;0" name="adopted">
		<ts:label>
			<ts:string xml:lang="en">Cat already adopted</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="wethAllowance&gt;99999999999999999" name="sufficientAllowance">
		<ts:label>
			<ts:string xml:lang="en">Already approved</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="wethAllowance&lt;100000000000000000" name="insufficientAllowance">
		<ts:label>
			<ts:string xml:lang="en">Approve wETH first</ts:string>
		</ts:label>
	</ts:selection>

	<ts:cards>
		<ts:viewContent xmlns="http://www.w3.org/1999/xhtml" name="common">
			
			
		<style>/*&lt;![CDATA[*/ 

.cat-image-container.svelte-tfvrcw.svelte-tfvrcw{width:100%;max-width:400px;position:relative;margin:0 auto;height:fit-content;display:flex}.cat-image-container.svelte-tfvrcw img.svelte-tfvrcw{width:100%;border-radius:12px}.cat-header.svelte-10wbk5q.svelte-10wbk5q{display:flex}.cat-details.svelte-10wbk5q.svelte-10wbk5q{flex-grow:1;padding:10px;text-align:left}.cat-details.svelte-10wbk5q h2.svelte-10wbk5q{margin-top:0;margin-bottom:10px;font-size:18px}.cat-icon.svelte-10wbk5q.svelte-10wbk5q{width:100px}.cat-list-image.svelte-1iuqlfv.svelte-1iuqlfv{width:64px;position:relative}.cat-list-image.svelte-1iuqlfv img.svelte-1iuqlfv{width:64px}.shimmer.svelte-1iuqlfv.svelte-1iuqlfv{display:inline-block;background-color:#dddbdd;height:100%;width:64px}.shimmer.svelte-1iuqlfv.svelte-1iuqlfv:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0));animation:svelte-1iuqlfv-shimmer 2s infinite;content:""}@keyframes svelte-1iuqlfv-shimmer{to{transform:translate(100%)}}.loader-container.svelte-i4cppe.svelte-i4cppe{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ring.svelte-i4cppe.svelte-i4cppe{display:inline-block;position:relative;width:80px;height:80px}.lds-ring.svelte-i4cppe div.svelte-i4cppe{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #656565;border-radius:50%;animation:svelte-i4cppe-lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#656565 transparent transparent transparent}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(1){animation-delay:-.45s}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(2){animation-delay:-.3s}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(3){animation-delay:-.15s}@keyframes svelte-i4cppe-lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.progress-contain.svelte-7mdbmt{display:flex;align-items:center;position:relative}.progress-text.svelte-7mdbmt{color:#9d9d9d;flex:40%}.progress-bar.svelte-7mdbmt{margin-left:10px;flex-grow:1;height:12px;border-radius:80px;background:#EEEEEE;flex:60%}.progress-inner.svelte-7mdbmt{position:relative;border-radius:80px;left:0;height:100%;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.btn-container.svelte-1ql4qcj{display:flex;align-items:center;justify-content:center}.load-more-btn.svelte-1ql4qcj{margin-top:16px;height:36px;padding:8px 32px;border-radius:8px;border:none;background:#EEE;cursor:pointer}.load-more-btn.svelte-1ql4qcj:hover{border-color:#dadada;background:#dadada}.share-container.svelte-17dj48s.svelte-17dj48s{display:flex;flex-direction:column;background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,rgba(255,255,255,.8) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%);text-align:left;width:100%}.share-header.svelte-17dj48s.svelte-17dj48s{font-size:18px;font-style:normal;font-weight:600;margin:0;padding:32px 16px 24px}.share-list.svelte-17dj48s.svelte-17dj48s{display:flex;padding-bottom:32px;padding-left:16px;padding-right:16px;gap:16px;overflow-x:auto}.share-option.svelte-17dj48s.svelte-17dj48s{width:264px;background-color:#fffefe;display:flex;flex-direction:column;border-radius:7px;padding:16px;gap:8px;flex-shrink:0;cursor:pointer}.share-option.svelte-17dj48s h5.svelte-17dj48s{font-size:16px;font-weight:600;margin:0}.share-option.svelte-17dj48s p.svelte-17dj48s{font-size:14px;font-weight:400;margin:0}.share-image.svelte-17dj48s.svelte-17dj48s{width:40px}.info-container.svelte-uinh42.svelte-uinh42{border-top:1px solid #EEE;padding:32px 16px}.task-header-wrapper.svelte-uinh42.svelte-uinh42{display:flex;align-items:center;margin-bottom:24px}.task-header.svelte-uinh42.svelte-uinh42{font-size:18px;text-align:left;margin:0 10px 0 0}.action-limits.svelte-uinh42.svelte-uinh42{border-radius:170px;height:22px;font-size:16px;font-weight:400;color:#8b8b8b;background:#eee;display:flex;padding:0 8px;justify-content:center;align-items:center;gap:10px}.task-table.svelte-uinh42.svelte-uinh42{text-align:left;width:100%;font-size:16px}.task-table.svelte-uinh42 thead.svelte-uinh42{font-size:14px;font-weight:400;color:#9d9d9d}.task-table.svelte-uinh42 td.svelte-uinh42{margin:10px 0}.link-button.svelte-uinh42.svelte-uinh42{cursor:pointer}.link-button.opened.svelte-uinh42.svelte-uinh42{background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,rgba(255,255,255,.8) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.gif-container.svelte-ygkdxn.svelte-ygkdxn{max-width:400px;width:100%;position:relative;margin:0 20px}.gif-container.svelte-ygkdxn .static.svelte-ygkdxn{width:100%}.gif-container.svelte-ygkdxn .gif.svelte-ygkdxn{width:100%;display:none}.gif-container.play.svelte-ygkdxn .static.svelte-ygkdxn{display:none}.gif-container.play.svelte-ygkdxn .gif.svelte-ygkdxn{display:block}.tabs.svelte-1hmkp7d{padding:0 10px}.tabs-header.svelte-1hmkp7d{display:flex;align-items:center;padding:20px 0;gap:20px}.tab-item.svelte-1hmkp7d{font-size:18px;font-style:normal;font-weight:500;color:#8b8b8b;cursor:pointer}.tab-item.selected.svelte-1hmkp7d{color:#001aff}.invite-btn-wrapper.svelte-1hmkp7d{display:flex;justify-content:center;align-items:center;padding:0 8px}.invite-btn.svelte-1hmkp7d{width:88px}.fade-out-image.svelte-vmrgry{animation:svelte-vmrgry-fadeOut 5s;animation-fill-mode:initial;animation-iteration-count:infinite}@keyframes svelte-vmrgry-fadeOut{0%{opacity:1}to{opacity:0}}.smart-level-wrapper.svelte-qgh38x.svelte-qgh38x{position:absolute;width:100%;left:0;bottom:-30px;z-index:30}.smart-level-box.svelte-qgh38x.svelte-qgh38x{position:relative;margin:0 auto;display:flex;width:190px;padding:8px 24px;flex-direction:column;align-items:center;gap:4px;border-radius:8px;border:1px solid #001AFF;background:#FAFAFA;box-shadow:0 4px 16px #00000014}.meme-wrapper.svelte-qgh38x.svelte-qgh38x{position:absolute;width:100%;height:100%;left:0;top:0;z-index:20;overflow:hidden}.meme-wrapper.svelte-qgh38x .level-image.svelte-qgh38x{position:absolute;width:0;left:50%;top:50%;transform:translate(-50%,-50%);animation:svelte-qgh38x-zoom;animation-iteration-count:infinite;animation-fill-mode:initial;animation-timing-function:ease-in;animation-duration:1.5s}.meme-wrapper.svelte-qgh38x .level-image2.svelte-qgh38x{animation-delay:.5s}.meme-wrapper.svelte-qgh38x .level-image3.svelte-qgh38x{animation-delay:1s}@keyframes svelte-qgh38x-zoom{0%{width:1%}to{width:250%}}.message-bubble.svelte-s0p2vl{margin:5px;border-radius:10px;width:80%;background:#EEE;color:#000;padding:8px}.message-content.svelte-s0p2vl{font-size:14px;text-align:left;word-break:break-word}.message-meta.svelte-s0p2vl{padding-top:6px;font-size:11px;text-align:right;display:block}.message-bubble.sender.svelte-s0p2vl{align-self:end;background:#0084ff;color:#fff}#message-popup.svelte-ramucj.svelte-ramucj{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background:#fff}#message-header.svelte-ramucj.svelte-ramucj{display:flex;border-bottom:#EEE;background:#FAFAFA}#message-title.svelte-ramucj.svelte-ramucj{flex-grow:1;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:16px;font-weight:500}#message-close.svelte-ramucj.svelte-ramucj{width:30px;height:50px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:700;cursor:pointer}#message-history.svelte-ramucj.svelte-ramucj{flex-grow:1;display:flex;flex-direction:column;padding:10px;overflow:auto}#send-message.svelte-ramucj.svelte-ramucj{display:flex}#send-message.svelte-ramucj textarea.svelte-ramucj{flex-grow:1;margin:4px;border-radius:4px;border:2px solid #969696;outline:0!important}#send-message.svelte-ramucj textarea.svelte-ramucj:focus{border-radius:4px;border:2px solid #001AFF}#send-message.svelte-ramucj button.svelte-ramucj{flex-grow:1;margin:4px 4px 4px 0;border-radius:4px;border:0;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}#send-message.svelte-ramucj button.svelte-ramucj:disabled{background:linear-gradient(0deg,rgba(255,255,255,.6) 0%,rgba(255,255,255,.6) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.unread-count.has-unread.svelte-zmrcgg{font-weight:600;font-size:14px;display:flex;align-items:center}.unread-count.has-unread.svelte-zmrcgg:before{content:"•";color:#0724ff;font-weight:700;font-size:28px;line-height:14px;padding:0 4px}.partner-link.svelte-1stdw6e.svelte-1stdw6e{margin-top:25px;padding:10px 0;border-top:1px #eee solid}.partner-link.svelte-1stdw6e .link-button.svelte-1stdw6e{cursor:pointer}


 /*//]]&gt;*/</style>
<script type="module" crossorigin="">//&lt;![CDATA[

var ph=Object.defineProperty;var gh=(s,t,e)=&gt;t in s?ph(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var k=(s,t,e)=&gt;(gh(s,typeof t!="symbol"?t+"":t,e),e),ra=(s,t,e)=&gt;{if(!t.has(s))throw TypeError("Cannot "+e)};var d=(s,t,e)=&gt;(ra(s,t,"read from private field"),e?e.call(s):t.get(s)),P=(s,t,e)=&gt;{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},m=(s,t,e,n)=&gt;(ra(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e);var Hr=(s,t,e,n)=&gt;({set _(r){m(s,t,r,e)},get _(){return d(s,t,n)}}),R=(s,t,e)=&gt;(ra(s,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&amp;&amp;t.supports&amp;&amp;t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=&gt;{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&amp;&amp;o.rel==="modulepreload"&amp;&amp;n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&amp;&amp;(i.integrity=r.integrity),r.referrerPolicy&amp;&amp;(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function K(){}function mh(s,t){for(const e in t)s[e]=t[e];return s}function Au(s){return s()}function xl(){return Object.create(null)}function Jn(s){s.forEach(Au)}function bu(s){return typeof s=="function"}function At(s,t){return s!=s?t==t:s!==t||s&amp;&amp;typeof s=="object"||typeof s=="function"}let ji;function pe(s,t){return s===t?!0:(ji||(ji=document.createElement("a")),ji.href=t,s===ji.href)}function yh(s){return Object.keys(s).length===0}function qa(s,t,e,n){if(s){const r=vu(s,t,e,n);return s[0](r)}}function vu(s,t,e,n){return s[1]&amp;&amp;n?mh(e.ctx.slice(),s[1](n(t))):e.ctx}function tl(s,t,e,n){if(s[2]&amp;&amp;n){const r=s[2](n(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a&lt;o;a+=1)i[a]=t.dirty[a]|r[a];return i}return t.dirty|r}return t.dirty}function el(s,t,e,n,r,i){if(r){const o=vu(t,e,n,i);s.p(o,r)}}function nl(s){if(s.ctx.length&gt;32){const t=[],e=s.ctx.length/32;for(let n=0;n&lt;e;n++)t[n]=-1;return t}return-1}function Ao(s){return s??""}function p(s,t){s.appendChild(t)}function L(s,t,e){s.insertBefore(t,e||null)}function _(s){s.parentNode&amp;&amp;s.parentNode.removeChild(s)}function Ui(s,t){for(let e=0;e&lt;s.length;e+=1)s[e]&amp;&amp;s[e].d(t)}function w(s){return document.createElement(s)}function xe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function j(s){return document.createTextNode(s)}function N(){return j(" ")}function Ps(){return j("")}function Ct(s,t,e,n){return s.addEventListener(t,e,n),()=&gt;s.removeEventListener(t,e,n)}function b(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&amp;&amp;s.setAttribute(t,e)}function wh(s){return Array.from(s.childNodes)}function Pt(s,t){t=""+t,s.data!==t&amp;&amp;(s.data=t)}function Il(s,t){s.value=t??""}function H(s,t,e,n){e==null?s.style.removeProperty(t):s.style.setProperty(t,e,n?"important":"")}class Ah{constructor(t=!1){k(this,"is_svg",!1);k(this,"e");k(this,"n");k(this,"t");k(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=xe(e.nodeName):this.e=w(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e&lt;this.n.length;e+=1)L(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(_)}}function Nl(s,t){return new s(t)}let ri;function Zr(s){ri=s}function Eu(){if(!ri)throw new Error("Function called outside component initialization");return ri}function Fi(s){Eu().$$.on_mount.push(s)}function ku(s){Eu().$$.on_destroy.push(s)}const _s=[],ka=[];let $s=[];const Tl=[],bh=Promise.resolve();let Ca=!1;function vh(){Ca||(Ca=!0,bh.then(Cu))}function Pa(s){$s.push(s)}const ia=new Set;let Is=0;function Cu(){if(Is!==0)return;const s=ri;do{try{for(;Is&lt;_s.length;){const t=_s[Is];Is++,Zr(t),Eh(t.$$)}}catch(t){throw _s.length=0,Is=0,t}for(Zr(null),_s.length=0,Is=0;ka.length;)ka.pop()();for(let t=0;t&lt;$s.length;t+=1){const e=$s[t];ia.has(e)||(ia.add(e),e())}$s.length=0}while(_s.length);for(;Tl.length;)Tl.pop()();Ca=!1,ia.clear(),Zr(s)}function Eh(s){if(s.fragment!==null){s.update(),Jn(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&amp;&amp;s.fragment.p(s.ctx,t),s.after_update.forEach(Pa)}}function kh(s){const t=[],e=[];$s.forEach(n=&gt;s.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=&gt;n()),$s=t}const lo=new Set;let Yn;function _t(){Yn={r:0,c:[],p:Yn}}function Lt(){Yn.r||Jn(Yn.c),Yn=Yn.p}function S(s,t){s&amp;&amp;s.i&amp;&amp;(lo.delete(s),s.i(t))}function B(s,t,e,n){if(s&amp;&amp;s.o){if(lo.has(s))return;lo.add(s),Yn.c.push(()=&gt;{lo.delete(s),n&amp;&amp;(e&amp;&amp;s.d(1),n())}),s.o(t)}else n&amp;&amp;n()}function je(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function nt(s){s&amp;&amp;s.c()}function X(s,t,e){const{fragment:n,after_update:r}=s.$$;n&amp;&amp;n.m(t,e),Pa(()=&gt;{const i=s.$$.on_mount.map(Au).filter(bu);s.$$.on_destroy?s.$$.on_destroy.push(...i):Jn(i),s.$$.on_mount=[]}),r.forEach(Pa)}function q(s,t){const e=s.$$;e.fragment!==null&amp;&amp;(kh(e.after_update),Jn(e.on_destroy),e.fragment&amp;&amp;e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ch(s,t){s.$$.dirty[0]===-1&amp;&amp;(_s.push(s),vh(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1&lt;&lt;t%31}function vt(s,t,e,n,r,i,o=null,a=[-1]){const l=ri;Zr(s);const c=s.$$={fragment:null,ctx:[],props:i,update:K,not_equal:r,bound:xl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:xl(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&amp;&amp;o(c.root);let u=!1;if(c.ctx=e?e(s,t.props||{},(f,h,...g)=&gt;{const y=g.length?g[0]:h;return c.ctx&amp;&amp;r(c.ctx[f],c.ctx[f]=y)&amp;&amp;(!c.skip_bound&amp;&amp;c.bound[f]&amp;&amp;c.bound[f](y),u&amp;&amp;Ch(s,f)),h}):[],c.update(),u=!0,Jn(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const f=wh(t.target);c.fragment&amp;&amp;c.fragment.l(f),f.forEach(_)}else c.fragment&amp;&amp;c.fragment.c();t.intro&amp;&amp;S(s.$$.fragment),X(s,t.target,t.anchor),Cu()}Zr(l)}class Et{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){q(this,1),this.$destroy=K}$on(t,e){if(!bu(e))return K;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=&gt;{const r=n.indexOf(e);r!==-1&amp;&amp;n.splice(r,1)}}$set(t){this.$$set&amp;&amp;!yh(t)&amp;&amp;(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ph="4";typeof window&lt;"u"&amp;&amp;(window.__svelte||(window.__svelte={v:new Set})).v.add(Ph);const Ns=[];function xh(s,t=K){let e;const n=new Set;function r(a){if(At(s,a)&amp;&amp;(s=a,e)){const l=!Ns.length;for(const c of n)c[1](),Ns.push(c,s);if(l){for(let c=0;c&lt;Ns.length;c+=2)Ns[c][0](Ns[c+1]);Ns.length=0}}}function i(a){r(a(s))}function o(a,l=K){const c=[a,l];return n.add(c),n.size===1&amp;&amp;(e=t(r,i)||K),a(s),()=&gt;{n.delete(c),n.size===0&amp;&amp;e&amp;&amp;(e(),e=null)}}return{set:r,update:i,subscribe:o}}const Pu=class xu{constructor(t){this.tokenContext=t,this.challengeExp=null,this.challengeText=null,this.challengeSig=null}async getNewMessages(){return await this.requestWithAuth(`/message-count/${this.tokenContext.tokenId}`,"get")}async getMessageHistory(t){return await this.requestWithAuth(`/message-history/${this.tokenContext.tokenId}/${t}`,"get")}async sendMessage(t,e){return await this.requestWithAuth(`/send-message/${this.tokenContext.tokenId}/${e}`,"post",{message:t})}async requestWithAuth(t,e,n){(!this.challengeText||this.challengeExp&lt;Date.now())&amp;&amp;await this.fetchAndSignChallenge();try{return await this.request(t,e,n)}catch(r){if(r.message==="Authorisation failed")return this.challengeText=null,await this.fetchAndSignChallenge(),await this.request(t,e,n);throw r}}async fetchAndSignChallenge(){const t=await this.request("/challenge","get"),e=new Promise((n,r)=&gt;{web3.personal.sign({data:t.text},function(i,o){i!=null?r(i):(n(o),console.log(o))})});try{this.challengeSig=await e,this.challengeExp=t.expiry,this.challengeText=t.text}catch(n){throw console.error("Authentication failed: ",n),new Error(n)}}async request(t,e,n){const r={"Content-type":"application/json",Accept:"application/json"};this.challengeSig&amp;&amp;(r["X-SmartCat-Auth"]=this.challengeText+":"+this.challengeSig);const i=await fetch(xu.BASE_URL+t,{method:e,headers:r,body:n?JSON.stringify(n):void 0});let o;try{o=await i.json()}catch{}if(i.status&gt;299||i.status&lt;200)throw i.status===403?new Error("Authorisation failed"):new Error("HTTP Request failed:"+((o==null?void 0:o.message)??i.statusText));return o}};Pu.BASE_URL="https://chat.tokenscript.org/api";let Ih=Pu,Wi=null;const bo=xh({token:null});function Nh(s){bo.set({...bo,token:s})}async function Th(){return Wi||new Promise((s,t)=&gt;{bo.subscribe(e=&gt;{Wi=new Ih(e.token),s(Wi)})})}const qt={data:bo,setToken:Nh,getMessageClient:Th};function Sh(s){let t,e,n,r,i;const o=s[2].default,a=qa(o,s,s[1],null);return{c(){t=w("div"),e=w("img"),r=N(),a&amp;&amp;a.c(),b(e,"alt","your cat"),H(e,"width","100%"),H(e,"position","relative"),pe(e.src,n=s[0])||b(e,"src",n),b(e,"class","svelte-tfvrcw"),b(t,"class","cat-image-container svelte-tfvrcw")},m(l,c){L(l,t,c),p(t,e),p(t,r),a&amp;&amp;a.m(t,null),i=!0},p(l,[c]){(!i||c&amp;1&amp;&amp;!pe(e.src,n=l[0]))&amp;&amp;b(e,"src",n),a&amp;&amp;a.p&amp;&amp;(!i||c&amp;2)&amp;&amp;el(a,o,l,l[1],i?tl(o,l[1],c,null):nl(l[1]),null)},i(l){i||(S(a,l),i=!0)},o(l){B(a,l),i=!1},d(l){l&amp;&amp;_(t),a&amp;&amp;a.d(l)}}}function Bh(s,t,e){let{$$slots:n={},$$scope:r}=t,{imageUrl:i}=t;return s.$$set=o=&gt;{"imageUrl"in o&amp;&amp;e(0,i=o.imageUrl),"$$scope"in o&amp;&amp;e(1,r=o.$$scope)},[i,r,n]}class Di extends Et{constructor(t){super(),vt(this,t,Bh,Sh,At,{imageUrl:0})}}function Oh(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,A;return u=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=w("div"),e=w("img"),r=N(),i=w("h3"),i.textContent="Once upon a time...",o=N(),a=w("p"),a.textContent=`There was a cat that was pretty cool, but it also wanted to be smart.
		So it went to Smart Layer Labs and got a TokenScript Microchip to boost its mind.`,l=N(),c=w("div"),nt(u.$$.fragment),f=N(),h=w("p"),h.textContent=`Now this cat needs someone to adopt it and help to train its skills. Let's give the cat an initial feed to win it over.
		It's free to adopt and play but you'll need some MATIC to pay for transaction fees on the Polygon network.
		Transactions are generally 0.01 MATIC, starting off with 0.5 MATIC is recommended.`,g=N(),y=w("h3"),y.textContent="Adopt your cat Now!",b(e,"alt","smartcat gameboy"),pe(e.src,n="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Gameboy.png")||b(e,"src",n),H(e,"width","200px"),H(c,"position","relative"),H(c,"margin","0 auto"),H(c,"width","100%"),H(c,"max-width","300px"),H(t,"text-align","center"),H(t,"padding","10px")},m(E,x){L(E,t,x),p(t,e),p(t,r),p(t,i),p(t,o),p(t,a),p(t,l),p(t,c),X(u,c,null),p(t,f),p(t,h),p(t,g),p(t,y),A=!0},p(E,[x]){const C={};x&amp;1&amp;&amp;(C.imageUrl=E[0].image_preview_url),u.$set(C)},i(E){A||(S(u.$$.fragment,E),A=!0)},o(E){B(u.$$.fragment,E),A=!1},d(E){E&amp;&amp;_(t),q(u)}}}function _h(s,t,e){let n;return qt.data.subscribe(r=&gt;{e(0,n=r.token)}),[n]}class Lh extends Et{constructor(t){super(),vt(this,t,_h,Oh,At,{})}}function Rh(s){let t,e,n,r,i,o,a=s[0].name+"",l,c,u,f,h,g=s[0].tokenId+"",y,A;return n=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=w("div"),e=w("div"),nt(n.$$.fragment),r=N(),i=w("div"),o=w("h2"),l=j(a),c=N(),u=w("div"),f=w("div"),h=j("Microchip ID: "),y=j(g),b(e,"class","cat-icon svelte-10wbk5q"),b(o,"class","svelte-10wbk5q"),b(u,"class","cat-stats"),b(i,"class","cat-details svelte-10wbk5q"),b(t,"class","cat-header svelte-10wbk5q")},m(E,x){L(E,t,x),p(t,e),X(n,e,null),p(t,r),p(t,i),p(i,o),p(o,l),p(i,c),p(i,u),p(u,f),p(f,h),p(f,y),A=!0},p(E,[x]){const C={};x&amp;1&amp;&amp;(C.imageUrl=E[0].image_preview_url),n.$set(C),(!A||x&amp;1)&amp;&amp;a!==(a=E[0].name+"")&amp;&amp;Pt(l,a),(!A||x&amp;1)&amp;&amp;g!==(g=E[0].tokenId+"")&amp;&amp;Pt(y,g)},i(E){A||(S(n.$$.fragment,E),A=!0)},o(E){B(n.$$.fragment,E),A=!1},d(E){E&amp;&amp;_(t),q(n)}}}function Uh(s,t,e){let n;return qt.data.subscribe(r=&gt;{e(0,n=r.token)}),[n]}class Fh extends Et{constructor(t){super(),vt(this,t,Uh,Rh,At,{})}}const Dh="6.7.1";function Mh(s,t,e){const n=t.split("|").map(i=&gt;i.trim());for(let i=0;i&lt;n.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof s===t)return}const r=new Error(`invalid value for type ${t}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${e}`,r.value=s,r}async function Wt(s){const t=Object.keys(s);return(await Promise.all(t.map(n=&gt;Promise.resolve(s[n])))).reduce((n,r,i)=&gt;(n[t[i]]=r,n),{})}function V(s,t,e){for(let n in t){let r=t[n];const i=e?e[n]:null;i&amp;&amp;Mh(r,i,n),Object.defineProperty(s,n,{enumerable:!0,value:r,writable:!1})}}function Us(s){if(s==null)return"null";if(Array.isArray(s))return"[ "+s.map(Us).join(", ")+" ]";if(s instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let n=0;n&lt;s.length;n++)e+=t[s[n]&gt;&gt;4],e+=t[s[n]&amp;15];return e}if(typeof s=="object"&amp;&amp;typeof s.toJSON=="function")return Us(s.toJSON());switch(typeof s){case"boolean":case"symbol":return s.toString();case"bigint":return BigInt(s).toString();case"number":return s.toString();case"string":return JSON.stringify(s);case"object":{const t=Object.keys(s);return t.sort(),"{ "+t.map(e=&gt;`${Us(e)}: ${Us(s[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ce(s,t){return s&amp;&amp;s.code===t}function sl(s){return Ce(s,"CALL_EXCEPTION")}function Dt(s,t,e){{const r=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Us(e)}`);for(const i in e){const o=e[i];r.push(i+"="+Us(o))}}r.push(`code=${t}`),r.push(`version=${Dh}`),r.length&amp;&amp;(s+=" ("+r.join(", ")+")")}let n;switch(t){case"INVALID_ARGUMENT":n=new TypeError(s);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(s);break;default:n=new Error(s)}return V(n,{code:t}),e&amp;&amp;Object.assign(n,e),n}function T(s,t,e,n){if(!s)throw Dt(t,e,n)}function v(s,t,e,n){T(s,t,"INVALID_ARGUMENT",{argument:e,value:n})}function Iu(s,t,e){e==null&amp;&amp;(e=""),e&amp;&amp;(e=": "+e),T(s&gt;=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:s,expectedCount:t}),T(s&lt;=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:s,expectedCount:t})}const Hh=["NFD","NFC","NFKD","NFKC"].reduce((s,t)=&gt;{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(e!==n)throw new Error("broken")}s.push(t)}catch{}return s},[]);function Gh(s){T(Hh.indexOf(s)&gt;=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:s}})}function Vo(s,t,e){if(e==null&amp;&amp;(e=""),s!==t){let n=e,r="new";e&amp;&amp;(n+=".",r+=" "+e),T(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Nu(s,t,e){if(s instanceof Uint8Array)return e?new Uint8Array(s):s;if(typeof s=="string"&amp;&amp;s.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((s.length-2)/2);let r=2;for(let i=0;i&lt;n.length;i++)n[i]=parseInt(s.substring(r,r+2),16),r+=2;return n}v(!1,"invalid BytesLike value",t||"value",s)}function ut(s,t){return Nu(s,t,!1)}function re(s,t){return Nu(s,t,!0)}function St(s,t){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&amp;&amp;s.length!==2+2*t||t===!0&amp;&amp;s.length%2!==0)}function $h(s){return St(s,!0)||s instanceof Uint8Array}const Sl="0123456789abcdef";function G(s){const t=ut(s);let e="0x";for(let n=0;n&lt;t.length;n++){const r=t[n];e+=Sl[(r&amp;240)&gt;&gt;4]+Sl[r&amp;15]}return e}function Ut(s){return"0x"+s.map(t=&gt;G(t).substring(2)).join("")}function Qs(s){return St(s,!0)?(s.length-2)/2:ut(s).length}function Ot(s,t,e){const n=ut(s);return e!=null&amp;&amp;e&gt;n.length&amp;&amp;T(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:e}),G(n.slice(t??0,e??n.length))}function Tu(s,t,e){const n=ut(s);T(t&gt;=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const r=new Uint8Array(t);return r.fill(0),e?r.set(n,t-n.length):r.set(n,0),G(r)}function bs(s,t){return Tu(s,t,!0)}function Qh(s,t){return Tu(s,t,!1)}const zo=BigInt(0),Oe=BigInt(1),Fs=9007199254740991;function Vh(s,t){const e=Jo(s,"value"),n=BigInt(it(t,"width"));if(T(e&gt;&gt;n===zo,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:s}),e&gt;&gt;n-Oe){const r=(Oe&lt;&lt;n)-Oe;return-((~e&amp;r)+Oe)}return e}function Su(s,t){let e=$(s,"value");const n=BigInt(it(t,"width")),r=Oe&lt;&lt;n-Oe;if(e&lt;zo){e=-e,T(e&lt;=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});const i=(Oe&lt;&lt;n)-Oe;return(~e&amp;i)+Oe}else T(e&lt;r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});return e}function zr(s,t){const e=Jo(s,"value"),n=BigInt(it(t,"bits"));return e&amp;(Oe&lt;&lt;n)-Oe}function $(s,t){switch(typeof s){case"bigint":return s;case"number":return v(Number.isInteger(s),"underflow",t||"value",s),v(s&gt;=-Fs&amp;&amp;s&lt;=Fs,"overflow",t||"value",s),BigInt(s);case"string":try{if(s==="")throw new Error("empty string");return s[0]==="-"&amp;&amp;s[1]!=="-"?-BigInt(s.substring(1)):BigInt(s)}catch(e){v(!1,`invalid BigNumberish string: ${e.message}`,t||"value",s)}}v(!1,"invalid BigNumberish value",t||"value",s)}function Jo(s,t){const e=$(s,t);return T(e&gt;=zo,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:s}),e}const Bl="0123456789abcdef";function rl(s){if(s instanceof Uint8Array){let t="0x0";for(const e of s)t+=Bl[e&gt;&gt;4],t+=Bl[e&amp;15];return BigInt(t)}return $(s)}function it(s,t){switch(typeof s){case"bigint":return v(s&gt;=-Fs&amp;&amp;s&lt;=Fs,"overflow",t||"value",s),Number(s);case"number":return v(Number.isInteger(s),"underflow",t||"value",s),v(s&gt;=-Fs&amp;&amp;s&lt;=Fs,"overflow",t||"value",s),s;case"string":try{if(s==="")throw new Error("empty string");return it(BigInt(s),t)}catch(e){v(!1,`invalid numeric string: ${e.message}`,t||"value",s)}}v(!1,"invalid numeric value",t||"value",s)}function zh(s){return it(rl(s))}function Qn(s,t){let n=Jo(s,"value").toString(16);if(t==null)n.length%2&amp;&amp;(n="0"+n);else{const r=it(t,"width");for(T(r*2&gt;=n.length,`value exceeds width (${r} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:s});n.length&lt;r*2;)n="0"+n}return"0x"+n}function de(s){const t=Jo(s,"value");if(t===zo)return new Uint8Array([]);let e=t.toString(16);e.length%2&amp;&amp;(e="0"+e);const n=new Uint8Array(e.length/2);for(let r=0;r&lt;n.length;r++){const i=r*2;n[r]=parseInt(e.substring(i,i+2),16)}return n}function Ds(s){let t=G($h(s)?s:de(s)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&amp;&amp;(t="0"),"0x"+t}const Jh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ol=BigInt(58);function Kh(s){let t=rl(ut(s)),e="";for(;t;)e=Jh[Number(t%Ol)]+e,t/=Ol;return e}function jh(s){s=atob(s);const t=new Uint8Array(s.length);for(let e=0;e&lt;s.length;e++)t[e]=s.charCodeAt(e);return ut(t)}function Wh(s){const t=ut(s);let e="";for(let n=0;n&lt;t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var Ks;class Bu{constructor(t,e,n){k(this,"filter");k(this,"emitter");P(this,Ks,void 0);m(this,Ks,e),V(this,{emitter:t,filter:n})}async removeListener(){d(this,Ks)!=null&amp;&amp;await this.emitter.off(this.filter,d(this,Ks))}}Ks=new WeakMap;function Yh(s,t,e,n,r){v(!1,`invalid codepoint at offset ${t}; ${s}`,"bytes",e)}function Ou(s,t,e,n,r){if(s==="BAD_PREFIX"||s==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o&lt;e.length&amp;&amp;e[o]&gt;&gt;6===2;o++)i++;return i}return s==="OVERRUN"?e.length-t-1:0}function Zh(s,t,e,n,r){return s==="OVERLONG"?(v(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),n.push(r),0):(n.push(65533),Ou(s,t,e))}const Xh=Object.freeze({error:Yh,ignore:Ou,replace:Zh});function qh(s,t){t==null&amp;&amp;(t=Xh.error);const e=ut(s,"bytes"),n=[];let r=0;for(;r&lt;e.length;){const i=e[r++];if(!(i&gt;&gt;7)){n.push(i);continue}let o=null,a=null;if((i&amp;224)===192)o=1,a=127;else if((i&amp;240)===224)o=2,a=2047;else if((i&amp;248)===240)o=3,a=65535;else{(i&amp;192)===128?r+=t("UNEXPECTED_CONTINUE",r-1,e,n):r+=t("BAD_PREFIX",r-1,e,n);continue}if(r-1+o&gt;=e.length){r+=t("OVERRUN",r-1,e,n);continue}let l=i&amp;(1&lt;&lt;8-o-1)-1;for(let c=0;c&lt;o;c++){let u=e[r];if((u&amp;192)!=128){r+=t("MISSING_CONTINUE",r,e,n),l=null;break}l=l&lt;&lt;6|u&amp;63,r++}if(l!==null){if(l&gt;1114111){r+=t("OUT_OF_RANGE",r-1-o,e,n,l);continue}if(l&gt;=55296&amp;&amp;l&lt;=57343){r+=t("UTF16_SURROGATE",r-1-o,e,n,l);continue}if(l&lt;=a){r+=t("OVERLONG",r-1-o,e,n,l);continue}n.push(l)}}return n}function pn(s,t){t!=null&amp;&amp;(Gh(t),s=s.normalize(t));let e=[];for(let n=0;n&lt;s.length;n++){const r=s.charCodeAt(n);if(r&lt;128)e.push(r);else if(r&lt;2048)e.push(r&gt;&gt;6|192),e.push(r&amp;63|128);else if((r&amp;64512)==55296){n++;const i=s.charCodeAt(n);v(n&lt;s.length&amp;&amp;(i&amp;64512)===56320,"invalid surrogate pair","str",s);const o=65536+((r&amp;1023)&lt;&lt;10)+(i&amp;1023);e.push(o&gt;&gt;18|240),e.push(o&gt;&gt;12&amp;63|128),e.push(o&gt;&gt;6&amp;63|128),e.push(o&amp;63|128)}else e.push(r&gt;&gt;12|224),e.push(r&gt;&gt;6&amp;63|128),e.push(r&amp;63|128)}return new Uint8Array(e)}function td(s){return s.map(t=&gt;t&lt;=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t&gt;&gt;10&amp;1023)+55296,(t&amp;1023)+56320))).join("")}function il(s,t){return td(qh(s,t))}async function ed(s,t){const e=s.url.split(":")[0].toLowerCase();T(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),T(e==="https"||!s.credentials||s.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(t){const c=new AbortController;n=c.signal,t.addListener(()=&gt;{c.abort()})}const r={method:s.method,headers:new Headers(Array.from(s)),body:s.body||void 0,signal:n},i=await fetch(s.url,r),o={};i.headers.forEach((c,u)=&gt;{o[u.toLowerCase()]=c});const a=await i.arrayBuffer(),l=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:l}}const nd=12,sd=250;let _l=ed;const rd=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),id=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let oa=!1;async function _u(s,t){try{const e=s.match(rd);if(!e)throw new Error("invalid data");return new Gn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?jh(e[3]):ad(e[3]))}catch{return new Gn(599,"BAD REQUEST (invalid data: URI)",{},null,new mn(s))}}function Lu(s){async function t(e,n){try{const r=e.match(id);if(!r)throw new Error("invalid link");return new mn(`${s}${r[2]}`)}catch{return new Gn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new mn(e))}}return t}const Yi={data:_u,ipfs:Lu("https://gateway.ipfs.io/ipfs/")},Ru=new WeakMap;var Xn,Pn;class od{constructor(t){P(this,Xn,void 0);P(this,Pn,void 0);m(this,Xn,[]),m(this,Pn,!1),Ru.set(t,()=&gt;{if(!d(this,Pn)){m(this,Pn,!0);for(const e of d(this,Xn))setTimeout(()=&gt;{e()},0);m(this,Xn,[])}})}addListener(t){T(!d(this,Pn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,Xn).push(t)}get cancelled(){return d(this,Pn)}checkSignal(){T(!this.cancelled,"cancelled","CANCELLED",{})}}Xn=new WeakMap,Pn=new WeakMap;function Zi(s){if(s==null)throw new Error("missing signal; should not happen");return s.checkSignal(),s}var js,Ws,Ne,qe,Ys,Zs,Mt,ce,tn,qn,ts,es,De,en,ns,Jr;const Uo=class Uo{constructor(t){P(this,ns);P(this,js,void 0);P(this,Ws,void 0);P(this,Ne,void 0);P(this,qe,void 0);P(this,Ys,void 0);P(this,Zs,void 0);P(this,Mt,void 0);P(this,ce,void 0);P(this,tn,void 0);P(this,qn,void 0);P(this,ts,void 0);P(this,es,void 0);P(this,De,void 0);P(this,en,void 0);m(this,Zs,String(t)),m(this,js,!1),m(this,Ws,!0),m(this,Ne,{}),m(this,qe,""),m(this,Ys,3e5),m(this,en,{slotInterval:sd,maxAttempts:nd})}get url(){return d(this,Zs)}set url(t){m(this,Zs,String(t))}get body(){return d(this,Mt)==null?null:new Uint8Array(d(this,Mt))}set body(t){if(t==null)m(this,Mt,void 0),m(this,ce,void 0);else if(typeof t=="string")m(this,Mt,pn(t)),m(this,ce,"text/plain");else if(t instanceof Uint8Array)m(this,Mt,t),m(this,ce,"application/octet-stream");else if(typeof t=="object")m(this,Mt,pn(JSON.stringify(t))),m(this,ce,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,Mt)!=null}get method(){return d(this,qe)?d(this,qe):this.hasBody()?"POST":"GET"}set method(t){t==null&amp;&amp;(t=""),m(this,qe,String(t).toUpperCase())}get headers(){const t=Object.assign({},d(this,Ne));return d(this,tn)&amp;&amp;(t.authorization=`Basic ${Wh(pn(d(this,tn)))}`),this.allowGzip&amp;&amp;(t["accept-encoding"]="gzip"),t["content-type"]==null&amp;&amp;d(this,ce)&amp;&amp;(t["content-type"]=d(this,ce)),this.body&amp;&amp;(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){d(this,Ne)[String(t).toLowerCase()]=String(e)}clearHeaders(){m(this,Ne,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=&gt;{if(n&lt;e.length){const r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,tn)||null}setCredentials(t,e){v(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),m(this,tn,`${t}:${e}`)}get allowGzip(){return d(this,Ws)}set allowGzip(t){m(this,Ws,!!t)}get allowInsecureAuthentication(){return!!d(this,js)}set allowInsecureAuthentication(t){m(this,js,!!t)}get timeout(){return d(this,Ys)}set timeout(t){v(t&gt;=0,"timeout must be non-zero","timeout",t),m(this,Ys,t)}get preflightFunc(){return d(this,qn)||null}set preflightFunc(t){m(this,qn,t)}get processFunc(){return d(this,ts)||null}set processFunc(t){m(this,ts,t)}get retryFunc(){return d(this,es)||null}set retryFunc(t){m(this,es,t)}toString(){return`&lt;FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,Mt)?G(d(this,Mt)):"null"}&gt;`}setThrottleParams(t){t.slotInterval!=null&amp;&amp;(d(this,en).slotInterval=t.slotInterval),t.maxAttempts!=null&amp;&amp;(d(this,en).maxAttempts=t.maxAttempts)}send(){return T(d(this,De)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),m(this,De,new od(this)),R(this,ns,Jr).call(this,0,Ll()+this.timeout,0,this,new Gn(0,"",{},null,this))}cancel(){T(d(this,De)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=Ru.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();T(this.method==="GET"&amp;&amp;(e!=="https"||n!=="http")&amp;&amp;t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} =&gt; ${JSON.stringify(t)})`});const r=new Uo(t);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,m(r,Ne,Object.assign({},d(this,Ne))),d(this,Mt)&amp;&amp;m(r,Mt,new Uint8Array(d(this,Mt))),m(r,ce,d(this,ce)),r}clone(){const t=new Uo(this.url);return m(t,qe,d(this,qe)),d(this,Mt)&amp;&amp;m(t,Mt,d(this,Mt)),m(t,ce,d(this,ce)),m(t,Ne,Object.assign({},d(this,Ne))),m(t,tn,d(this,tn)),this.allowGzip&amp;&amp;(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&amp;&amp;(t.allowInsecureAuthentication=!0),m(t,qn,d(this,qn)),m(t,ts,d(this,ts)),m(t,es,d(this,es)),t}static lockConfig(){oa=!0}static getGateway(t){return Yi[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(oa)throw new Error("gateways locked");Yi[t]=e}static registerGetUrl(t){if(oa)throw new Error("gateways locked");_l=t}static createDataGateway(){return _u}static createIpfsGatewayFunc(t){return Lu(t)}};js=new WeakMap,Ws=new WeakMap,Ne=new WeakMap,qe=new WeakMap,Ys=new WeakMap,Zs=new WeakMap,Mt=new WeakMap,ce=new WeakMap,tn=new WeakMap,qn=new WeakMap,ts=new WeakMap,es=new WeakMap,De=new WeakMap,en=new WeakMap,ns=new WeakSet,Jr=async function(t,e,n,r,i){var u,f,h;if(t&gt;=d(this,en).maxAttempts)return i.makeServerError("exceeded maximum retry limit");T(Ll()&lt;=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n&gt;0&amp;&amp;await ld(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Yi){const g=await Yi[a](o.url,Zi(d(r,De)));if(g instanceof Gn){let y=g;if(this.processFunc){Zi(d(r,De));try{y=await this.processFunc(o,y)}catch(A){(A.throttle==null||typeof A.stall!="number")&amp;&amp;y.makeServerError("error in post-processing function",A).assertOk()}}return y}o=g}this.preflightFunc&amp;&amp;(o=await this.preflightFunc(o));const l=await _l(o,Zi(d(r,De)));let c=new Gn(l.statusCode,l.statusMessage,l.headers,l.body,r);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return R(u=o.redirect(g),ns,Jr).call(u,t+1,e,0,r,c)}catch{}return c}else if(c.statusCode===429&amp;&amp;(this.retryFunc==null||await this.retryFunc(o,c,t))){const g=c.headers["retry-after"];let y=d(this,en).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof g=="string"&amp;&amp;g.match(/^[1-9][0-9]*$/)&amp;&amp;(y=parseInt(g)),R(f=o.clone(),ns,Jr).call(f,t+1,e,y,r,c)}if(this.processFunc){Zi(d(r,De));try{c=await this.processFunc(o,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&amp;&amp;c.makeServerError("error in post-processing function",g).assertOk();let y=d(this,en).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return g.stall&gt;=0&amp;&amp;(y=g.stall),R(h=o.clone(),ns,Jr).call(h,t+1,e,y,r,c)}}return c};let mn=Uo;var Ai,bi,vi,Te,Xs,ss;const vl=class vl{constructor(t,e,n,r,i){P(this,Ai,void 0);P(this,bi,void 0);P(this,vi,void 0);P(this,Te,void 0);P(this,Xs,void 0);P(this,ss,void 0);m(this,Ai,t),m(this,bi,e),m(this,vi,Object.keys(n).reduce((o,a)=&gt;(o[a.toLowerCase()]=String(n[a]),o),{})),m(this,Te,r==null?null:new Uint8Array(r)),m(this,Xs,i||null),m(this,ss,{message:""})}toString(){return`&lt;FetchResponse status=${this.statusCode} body=${d(this,Te)?G(d(this,Te)):"null"}&gt;`}get statusCode(){return d(this,Ai)}get statusMessage(){return d(this,bi)}get headers(){return Object.assign({},d(this,vi))}get body(){return d(this,Te)==null?null:new Uint8Array(d(this,Te))}get bodyText(){try{return d(this,Te)==null?"":il(d(this,Te))}catch{T(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{T(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=&gt;{if(n&lt;e.length){const r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const r=new vl(599,n,this.headers,this.body,d(this,Xs)||void 0);return m(r,ss,{message:t,error:e}),r}throwThrottleError(t,e){e==null?e=-1:v(Number.isInteger(e)&amp;&amp;e&gt;=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw V(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return d(this,Te)!=null}get request(){return d(this,Xs)}ok(){return d(this,ss).message===""&amp;&amp;this.statusCode&gt;=200&amp;&amp;this.statusCode&lt;300}assertOk(){if(this.ok())return;let{message:t,error:e}=d(this,ss);t===""&amp;&amp;(t=`server response ${this.statusCode} ${this.statusMessage}`),T(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};Ai=new WeakMap,bi=new WeakMap,vi=new WeakMap,Te=new WeakMap,Xs=new WeakMap,ss=new WeakMap;let Gn=vl;function Ll(){return new Date().getTime()}function ad(s){return pn(s.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=&gt;String.fromCharCode(parseInt(e,16))))}function ld(s){return new Promise(t=&gt;setTimeout(t,s))}function cd(s){let t=s.toString(16);for(;t.length&lt;2;)t="0"+t;return"0x"+t}function Rl(s,t,e){let n=0;for(let r=0;r&lt;e;r++)n=n*256+s[t+r];return n}function Ul(s,t,e,n){const r=[];for(;e&lt;t+1+n;){const i=Uu(s,e);r.push(i.result),e+=i.consumed,T(e&lt;=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:s,length:n,offset:t})}return{consumed:1+n,result:r}}function Uu(s,t){T(s.length!==0,"data too short","BUFFER_OVERRUN",{buffer:s,length:0,offset:1});const e=n=&gt;{T(n&lt;=s.length,"data short segment too short","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:n})};if(s[t]&gt;=248){const n=s[t]-247;e(t+1+n);const r=Rl(s,t+1,n);return e(t+1+n+r),Ul(s,t,t+1+n,n+r)}else if(s[t]&gt;=192){const n=s[t]-192;return e(t+1+n),Ul(s,t,t+1,n)}else if(s[t]&gt;=184){const n=s[t]-183;e(t+1+n);const r=Rl(s,t+1,n);e(t+1+n+r);const i=G(s.slice(t+1+n,t+1+n+r));return{consumed:1+n+r,result:i}}else if(s[t]&gt;=128){const n=s[t]-128;e(t+1+n);const r=G(s.slice(t+1,t+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:cd(s[t])}}function ol(s){const t=ut(s,"data"),e=Uu(t,0);return v(e.consumed===t.length,"unexpected junk after rlp payload","data",s),e.result}function Fl(s){const t=[];for(;s;)t.unshift(s&amp;255),s&gt;&gt;=8;return t}function Fu(s){if(Array.isArray(s)){let n=[];if(s.forEach(function(i){n=n.concat(Fu(i))}),n.length&lt;=55)return n.unshift(192+n.length),n;const r=Fl(n.length);return r.unshift(247+r.length),r.concat(n)}const t=Array.prototype.slice.call(ut(s,"object"));if(t.length===1&amp;&amp;t[0]&lt;=127)return t;if(t.length&lt;=55)return t.unshift(128+t.length),t;const e=Fl(t.length);return e.unshift(183+e.length),e.concat(t)}const Dl="0123456789abcdef";function ii(s){let t="0x";for(const e of Fu(s))t+=Dl[e&gt;&gt;4],t+=Dl[e&amp;15];return t}const Zt=32,xa=new Uint8Array(Zt),ud=["then"],Xi={};function Gr(s,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${s}`);throw e.error=t,e}var xn;const ni=class ni extends Array{constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==Xi&amp;&amp;(r=e,i=[],o=!1);super(r.length);P(this,xn,void 0);r.forEach((l,c)=&gt;{this[c]=l});const a=i.reduce((l,c)=&gt;(typeof c=="string"&amp;&amp;l.set(c,(l.get(c)||0)+1),l),new Map);if(m(this,xn,Object.freeze(r.map((l,c)=&gt;{const u=i[c];return u!=null&amp;&amp;a.get(u)===1?u:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(l,c,u)=&gt;{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const h=it(c,"%index");if(h&lt;0||h&gt;=this.length)throw new RangeError("out of result range");const g=l[h];return g instanceof Error&amp;&amp;Gr(`index ${h}`,g),g}if(ud.indexOf(c)&gt;=0)return Reflect.get(l,c,u);const f=l[c];if(f instanceof Function)return function(...h){return f.apply(this===u?l:this,h)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}})}toArray(){const e=[];return this.forEach((n,r)=&gt;{n instanceof Error&amp;&amp;Gr(`index ${r}`,n),e.push(n)}),e}toObject(){return d(this,xn).reduce((e,n,r)=&gt;(T(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in e||(e[n]=this.getValue(n)),e),{})}slice(e,n){e==null&amp;&amp;(e=0),e&lt;0&amp;&amp;(e+=this.length,e&lt;0&amp;&amp;(e=0)),n==null&amp;&amp;(n=this.length),n&lt;0&amp;&amp;(n+=this.length,n&lt;0&amp;&amp;(n=0)),n&gt;this.length&amp;&amp;(n=this.length);const r=[],i=[];for(let o=e;o&lt;n;o++)r.push(this[o]),i.push(d(this,xn)[o]);return new ni(Xi,r,i)}filter(e,n){const r=[],i=[];for(let o=0;o&lt;this.length;o++){const a=this[o];a instanceof Error&amp;&amp;Gr(`index ${o}`,a),e.call(n,a,o,this)&amp;&amp;(r.push(a),i.push(d(this,xn)[o]))}return new ni(Xi,r,i)}map(e,n){const r=[];for(let i=0;i&lt;this.length;i++){const o=this[i];o instanceof Error&amp;&amp;Gr(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=d(this,xn).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&amp;&amp;Gr(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new ni(Xi,e,n)}};xn=new WeakMap;let vo=ni;function Ml(s){let t=de(s);return T(t.length&lt;=Zt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Zt,offset:t.length}),t.length!==Zt&amp;&amp;(t=re(Ut([xa.slice(t.length%Zt),t]))),t}class wn{constructor(t,e,n,r){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");V(this,{name:t,type:e,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){v(!1,t,this.localName,e)}}var nn,rs,qs,co;class Ia{constructor(){P(this,qs);P(this,nn,void 0);P(this,rs,void 0);m(this,nn,[]),m(this,rs,0)}get data(){return Ut(d(this,nn))}get length(){return d(this,rs)}appendWriter(t){return R(this,qs,co).call(this,re(t.data))}writeBytes(t){let e=re(t);const n=e.length%Zt;return n&amp;&amp;(e=re(Ut([e,xa.slice(n)]))),R(this,qs,co).call(this,e)}writeValue(t){return R(this,qs,co).call(this,Ml(t))}writeUpdatableValue(){const t=d(this,nn).length;return d(this,nn).push(xa),m(this,rs,d(this,rs)+Zt),e=&gt;{d(this,nn)[t]=Ml(e)}}}nn=new WeakMap,rs=new WeakMap,qs=new WeakSet,co=function(t){return d(this,nn).push(t),m(this,rs,d(this,rs)+t.length),t.length};var ue,be,Fo,Du;const El=class El{constructor(t,e){P(this,Fo);k(this,"allowLoose");P(this,ue,void 0);P(this,be,void 0);V(this,{allowLoose:!!e}),m(this,ue,re(t)),m(this,be,0)}get data(){return G(d(this,ue))}get dataLength(){return d(this,ue).length}get consumed(){return d(this,be)}get bytes(){return new Uint8Array(d(this,ue))}subReader(t){return new El(d(this,ue).slice(d(this,be)+t),this.allowLoose)}readBytes(t,e){let n=R(this,Fo,Du).call(this,0,t,!!e);return m(this,be,d(this,be)+n.length),n.slice(0,t)}readValue(){return rl(this.readBytes(Zt))}readIndex(){return zh(this.readBytes(Zt))}};ue=new WeakMap,be=new WeakMap,Fo=new WeakSet,Du=function(t,e,n){let r=Math.ceil(e/Zt)*Zt;return d(this,be)+r&gt;d(this,ue).length&amp;&amp;(this.allowLoose&amp;&amp;n&amp;&amp;d(this,be)+e&lt;=d(this,ue).length?r=e:T(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:re(d(this,ue)),length:d(this,ue).length,offset:d(this,be)+r})),d(this,ue).slice(d(this,be),d(this,be)+r)};let Na=El;function Ta(s){if(!Number.isSafeInteger(s)||s&lt;0)throw new Error(`Wrong positive integer: ${s}`)}function fd(s){if(typeof s!="boolean")throw new Error(`Expected boolean, not ${s}`)}function Mu(s,...t){if(!(s instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length&gt;0&amp;&amp;!t.includes(s.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${s.length}`)}function hd(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ta(s.outputLen),Ta(s.blockLen)}function dd(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&amp;&amp;s.finished)throw new Error("Hash#digest() has already been called")}function pd(s,t){Mu(s);const e=t.outputLen;if(s.length&lt;e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const he={number:Ta,bool:fd,bytes:Mu,hash:hd,exists:dd,output:pd};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gd=s=&gt;new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)),aa=s=&gt;new DataView(s.buffer,s.byteOffset,s.byteLength),Fe=(s,t)=&gt;s&lt;&lt;32-t|s&gt;&gt;&gt;t,md=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!md)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(s,t)=&gt;t.toString(16).padStart(2,"0"));function yd(s){if(typeof s!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof s}`);return new TextEncoder().encode(s)}function Mi(s){if(typeof s=="string"&amp;&amp;(s=yd(s)),!(s instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof s})`);return s}class Eo{clone(){return this._cloneInto()}}function Hi(s){const t=n=&gt;s().update(Mi(n)).digest(),e=s();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=&gt;s(),t}function wd(s){const t=(n,r)=&gt;s(r).update(Mi(n)).digest(),e=s({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=&gt;s(n),t}class Hu extends Eo{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,he.hash(t);const n=Mi(e);if(this.iHash=t.create(),!(this.iHash instanceof Eo))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(r);i.set(n.length&gt;this.iHash.blockLen?t.create().update(n).digest():n);for(let o=0;o&lt;i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o&lt;i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return he.exists(this),this.iHash.update(t),this}digestInto(t){he.exists(this),he.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Gu=(s,t,e)=&gt;new Hu(s,t).update(e).digest();Gu.create=(s,t)=&gt;new Hu(s,t);function Ad(s,t,e,n){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,e,n);const r=BigInt(32),i=BigInt(4294967295),o=Number(e&gt;&gt;r&amp;i),a=Number(e&amp;i),l=n?4:0,c=n?0:4;s.setUint32(t+l,o,n),s.setUint32(t+c,a,n)}class $u extends Eo{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=aa(this.buffer)}update(t){he.exists(this);const{view:e,buffer:n,blockLen:r}=this;t=Mi(t);const i=t.length;for(let o=0;o&lt;i;){const a=Math.min(r-this.pos,i-o);if(a===r){const l=aa(t);for(;r&lt;=i-o;o+=r)this.process(l,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&amp;&amp;(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){he.exists(this),he.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset&gt;r-o&amp;&amp;(this.process(n,0),o=0);for(let l=o;l&lt;r;l++)e[l]=0;Ad(n,r-8,BigInt(this.length*8),i),this.process(n,0);const a=aa(t);this.get().forEach((l,c)=&gt;a.setUint32(4*c,l,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=i,t.destroyed=o,r%e&amp;&amp;t.buffer.set(n),t}}const bd=(s,t,e)=&gt;s&amp;t^~s&amp;e,vd=(s,t,e)=&gt;s&amp;t^s&amp;e^t&amp;e,Ed=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),An=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bn=new Uint32Array(64);class kd extends $u{constructor(){super(64,32,8,!1),this.A=An[0]|0,this.B=An[1]|0,this.C=An[2]|0,this.D=An[3]|0,this.E=An[4]|0,this.F=An[5]|0,this.G=An[6]|0,this.H=An[7]|0}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:a,H:l}=this;return[t,e,n,r,i,o,a,l]}set(t,e,n,r,i,o,a,l){this.A=t|0,this.B=e|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,e){for(let f=0;f&lt;16;f++,e+=4)bn[f]=t.getUint32(e,!1);for(let f=16;f&lt;64;f++){const h=bn[f-15],g=bn[f-2],y=Fe(h,7)^Fe(h,18)^h&gt;&gt;&gt;3,A=Fe(g,17)^Fe(g,19)^g&gt;&gt;&gt;10;bn[f]=A+bn[f-7]+y+bn[f-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f&lt;64;f++){const h=Fe(a,6)^Fe(a,11)^Fe(a,25),g=u+h+bd(a,l,c)+Ed[f]+bn[f]|0,A=(Fe(n,2)^Fe(n,13)^Fe(n,22))+vd(n,r,i)|0;u=c,c=l,l=a,a=o+g|0,o=i,i=r,r=n,n=g+A|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,a,l,c,u)}roundClean(){bn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Cd=Hi(()=&gt;new kd),qi=BigInt(2**32-1),Sa=BigInt(32);function Qu(s,t=!1){return t?{h:Number(s&amp;qi),l:Number(s&gt;&gt;Sa&amp;qi)}:{h:Number(s&gt;&gt;Sa&amp;qi)|0,l:Number(s&amp;qi)|0}}function Pd(s,t=!1){let e=new Uint32Array(s.length),n=new Uint32Array(s.length);for(let r=0;r&lt;s.length;r++){const{h:i,l:o}=Qu(s[r],t);[e[r],n[r]]=[i,o]}return[e,n]}const xd=(s,t)=&gt;BigInt(s&gt;&gt;&gt;0)&lt;&lt;Sa|BigInt(t&gt;&gt;&gt;0),Id=(s,t,e)=&gt;s&gt;&gt;&gt;e,Nd=(s,t,e)=&gt;s&lt;&lt;32-e|t&gt;&gt;&gt;e,Td=(s,t,e)=&gt;s&gt;&gt;&gt;e|t&lt;&lt;32-e,Sd=(s,t,e)=&gt;s&lt;&lt;32-e|t&gt;&gt;&gt;e,Bd=(s,t,e)=&gt;s&lt;&lt;64-e|t&gt;&gt;&gt;e-32,Od=(s,t,e)=&gt;s&gt;&gt;&gt;e-32|t&lt;&lt;64-e,_d=(s,t)=&gt;t,Ld=(s,t)=&gt;s,Rd=(s,t,e)=&gt;s&lt;&lt;e|t&gt;&gt;&gt;32-e,Ud=(s,t,e)=&gt;t&lt;&lt;e|s&gt;&gt;&gt;32-e,Fd=(s,t,e)=&gt;t&lt;&lt;e-32|s&gt;&gt;&gt;64-e,Dd=(s,t,e)=&gt;s&lt;&lt;e-32|t&gt;&gt;&gt;64-e;function Md(s,t,e,n){const r=(t&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0);return{h:s+e+(r/2**32|0)|0,l:r|0}}const Hd=(s,t,e)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0),Gd=(s,t,e,n)=&gt;t+e+n+(s/2**32|0)|0,$d=(s,t,e,n)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0),Qd=(s,t,e,n,r)=&gt;t+e+n+r+(s/2**32|0)|0,Vd=(s,t,e,n,r)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0),zd=(s,t,e,n,r,i)=&gt;t+e+n+r+i+(s/2**32|0)|0,z={fromBig:Qu,split:Pd,toBig:xd,shrSH:Id,shrSL:Nd,rotrSH:Td,rotrSL:Sd,rotrBH:Bd,rotrBL:Od,rotr32H:_d,rotr32L:Ld,rotlSH:Rd,rotlSL:Ud,rotlBH:Fd,rotlBL:Dd,add:Md,add3L:Hd,add3H:Gd,add4L:$d,add4H:Qd,add5H:zd,add5L:Vd},[Jd,Kd]=z.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=&gt;BigInt(s))),vn=new Uint32Array(80),En=new Uint32Array(80);class al extends $u{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:g,Gl:y,Hh:A,Hl:E}=this;return[t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E]}set(t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=r|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=y|0,this.Hh=A|0,this.Hl=E|0}process(t,e){for(let I=0;I&lt;16;I++,e+=4)vn[I]=t.getUint32(e),En[I]=t.getUint32(e+=4);for(let I=16;I&lt;80;I++){const O=vn[I-15]|0,M=En[I-15]|0,W=z.rotrSH(O,M,1)^z.rotrSH(O,M,8)^z.shrSH(O,M,7),tt=z.rotrSL(O,M,1)^z.rotrSL(O,M,8)^z.shrSL(O,M,7),U=vn[I-2]|0,Q=En[I-2]|0,st=z.rotrSH(U,Q,19)^z.rotrBH(U,Q,61)^z.shrSH(U,Q,6),ot=z.rotrSL(U,Q,19)^z.rotrBL(U,Q,61)^z.shrSL(U,Q,6),bt=z.add4L(tt,ot,En[I-7],En[I-16]),kt=z.add4H(bt,W,st,vn[I-7],vn[I-16]);vn[I]=kt|0,En[I]=bt|0}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:y,Gh:A,Gl:E,Hh:x,Hl:C}=this;for(let I=0;I&lt;80;I++){const O=z.rotrSH(f,h,14)^z.rotrSH(f,h,18)^z.rotrBH(f,h,41),M=z.rotrSL(f,h,14)^z.rotrSL(f,h,18)^z.rotrBL(f,h,41),W=f&amp;g^~f&amp;A,tt=h&amp;y^~h&amp;E,U=z.add5L(C,M,tt,Kd[I],En[I]),Q=z.add5H(U,x,O,W,Jd[I],vn[I]),st=U|0,ot=z.rotrSH(n,r,28)^z.rotrBH(n,r,34)^z.rotrBH(n,r,39),bt=z.rotrSL(n,r,28)^z.rotrBL(n,r,34)^z.rotrBL(n,r,39),kt=n&amp;i^n&amp;a^i&amp;a,mt=r&amp;o^r&amp;l^o&amp;l;x=A|0,C=E|0,A=g|0,E=y|0,g=f|0,y=h|0,{h:f,l:h}=z.add(c|0,u|0,Q|0,st|0),c=a|0,u=l|0,a=i|0,l=o|0,i=n|0,o=r|0;const Ft=z.add3L(st,bt,mt);n=z.add3H(Ft,Q,ot,kt),r=Ft|0}({h:n,l:r}=z.add(this.Ah|0,this.Al|0,n|0,r|0)),{h:i,l:o}=z.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=z.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=z.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=z.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:y}=z.add(this.Fh|0,this.Fl|0,g|0,y|0),{h:A,l:E}=z.add(this.Gh|0,this.Gl|0,A|0,E|0),{h:x,l:C}=z.add(this.Hh|0,this.Hl|0,x|0,C|0),this.set(n,r,i,o,a,l,c,u,f,h,g,y,A,E,x,C)}roundClean(){vn.fill(0),En.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class jd extends al{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Wd extends al{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Yd=Hi(()=&gt;new al);Hi(()=&gt;new jd);Hi(()=&gt;new Wd);function Zd(){if(typeof self&lt;"u")return self;if(typeof window&lt;"u")return window;if(typeof global&lt;"u")return global;throw new Error("unable to locate global object")}const Hl=Zd();Hl.crypto||Hl.msCrypto;function Xd(s,t){const e={sha256:Cd,sha512:Yd}[s];return v(e!=null,"invalid hmac algorithm","algorithm",s),Gu.create(e,t)}let Vu=!1;const zu=function(s,t,e){return Xd(s,t).update(e).digest()};let Ju=zu;function Gi(s,t,e){const n=ut(t,"key"),r=ut(e,"data");return G(Ju(s,n,r))}Gi._=zu;Gi.lock=function(){Vu=!0};Gi.register=function(s){if(Vu)throw new Error("computeHmac is locked");Ju=s};Object.freeze(Gi);const[Ku,ju,Wu]=[[],[],[]],qd=BigInt(0),$r=BigInt(1),tp=BigInt(2),ep=BigInt(7),np=BigInt(256),sp=BigInt(113);for(let s=0,t=$r,e=1,n=0;s&lt;24;s++){[e,n]=[n,(2*e+3*n)%5],Ku.push(2*(5*n+e)),ju.push((s+1)*(s+2)/2%64);let r=qd;for(let i=0;i&lt;7;i++)t=(t&lt;&lt;$r^(t&gt;&gt;ep)*sp)%np,t&amp;tp&amp;&amp;(r^=$r&lt;&lt;($r&lt;&lt;BigInt(i))-$r);Wu.push(r)}const[rp,ip]=z.split(Wu,!0),Gl=(s,t,e)=&gt;e&gt;32?z.rotlBH(s,t,e):z.rotlSH(s,t,e),$l=(s,t,e)=&gt;e&gt;32?z.rotlBL(s,t,e):z.rotlSL(s,t,e);function op(s,t=24){const e=new Uint32Array(10);for(let n=24-t;n&lt;24;n++){for(let o=0;o&lt;10;o++)e[o]=s[o]^s[o+10]^s[o+20]^s[o+30]^s[o+40];for(let o=0;o&lt;10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=e[l],u=e[l+1],f=Gl(c,u,1)^e[a],h=$l(c,u,1)^e[a+1];for(let g=0;g&lt;50;g+=10)s[o+g]^=f,s[o+g+1]^=h}let r=s[2],i=s[3];for(let o=0;o&lt;24;o++){const a=ju[o],l=Gl(r,i,a),c=$l(r,i,a),u=Ku[o];r=s[u],i=s[u+1],s[u]=l,s[u+1]=c}for(let o=0;o&lt;50;o+=10){for(let a=0;a&lt;10;a++)e[a]=s[o+a];for(let a=0;a&lt;10;a++)s[o+a]^=~e[(a+2)%10]&amp;e[(a+4)%10]}s[0]^=rp[n],s[1]^=ip[n]}e.fill(0)}class Ko extends Eo{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,he.number(n),0&gt;=this.blockLen||this.blockLen&gt;=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=gd(this.state)}keccak(){op(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){he.exists(this);const{blockLen:e,state:n}=this;t=Mi(t);const r=t.length;for(let i=0;i&lt;r;){const o=Math.min(e-this.pos,r-i);for(let a=0;a&lt;o;a++)n[this.pos++]^=t[i++];this.pos===e&amp;&amp;this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,e&amp;128&amp;&amp;n===r-1&amp;&amp;this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){he.exists(this,!1),he.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r&lt;i;){this.posOut&gt;=n&amp;&amp;this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return he.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(he.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new Ko(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Kn=(s,t,e)=&gt;Hi(()=&gt;new Ko(t,s,e));Kn(6,144,224/8);Kn(6,136,256/8);Kn(6,104,384/8);Kn(6,72,512/8);Kn(1,144,224/8);const ap=Kn(1,136,256/8);Kn(1,104,384/8);Kn(1,72,512/8);const Yu=(s,t,e)=&gt;wd((n={})=&gt;new Ko(t,s,n.dkLen===void 0?e:n.dkLen,!0));Yu(31,168,128/8);Yu(31,136,256/8);let Zu=!1;const Xu=function(s){return ap(s)};let qu=Xu;function Tt(s){const t=ut(s,"data");return G(qu(t))}Tt._=Xu;Tt.lock=function(){Zu=!0};Tt.register=function(s){if(Zu)throw new TypeError("keccak256 is locked");qu=s};Object.freeze(Tt);const lp={},cp=Object.freeze(Object.defineProperty({__proto__:null,default:lp},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ct=BigInt(0),xt=BigInt(1),Mn=BigInt(2),Xr=BigInt(3),Ql=BigInt(8),Rt=Object.freeze({a:ct,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Vl=(s,t)=&gt;(s+t/Mn)/t,to={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(s){const{n:t}=Rt,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=Vl(i*s,t),l=Vl(-n*s,t);let c=D(s-a*e-l*r,t),u=D(-a*n-l*i,t);const f=c&gt;o,h=u&gt;o;if(f&amp;&amp;(c=t-c),h&amp;&amp;(u=t-u),c&gt;o||u&gt;o)throw new Error("splitScalarEndo: Endomorphism failed, k="+s);return{k1neg:f,k1:c,k2neg:h,k2:u}}},_e=32,Or=32,up=32,ko=_e+1,Co=2*_e+1;function zl(s){const{a:t,b:e}=Rt,n=D(s*s),r=D(n*s);return D(r+t*s+e)}const eo=Rt.a===ct;class tf extends Error{constructor(t){super(t)}}function Jl(s){if(!(s instanceof dt))throw new TypeError("JacobianPoint expected")}class dt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof gt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(gt.ZERO)?dt.ZERO:new dt(t.x,t.y,xt)}static toAffineBatch(t){const e=gp(t.map(n=&gt;n.z));return t.map((n,r)=&gt;n.toAffine(e[r]))}static normalizeZ(t){return dt.toAffineBatch(t).map(dt.fromAffine)}equals(t){Jl(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:a}=t,l=D(r*r),c=D(a*a),u=D(e*c),f=D(i*l),h=D(D(n*a)*c),g=D(D(o*r)*l);return u===f&amp;&amp;h===g}negate(){return new dt(this.x,D(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=D(t*t),i=D(e*e),o=D(i*i),a=t+i,l=D(Mn*(D(a*a)-r-o)),c=D(Xr*r),u=D(c*c),f=D(u-Mn*l),h=D(c*(l-f)-Ql*o),g=D(Mn*e*n);return new dt(f,h,g)}add(t){Jl(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:a}=t;if(i===ct||o===ct)return this;if(e===ct||n===ct)return t;const l=D(r*r),c=D(a*a),u=D(e*c),f=D(i*l),h=D(D(n*a)*c),g=D(D(o*r)*l),y=D(f-u),A=D(g-h);if(y===ct)return A===ct?this.double():dt.ZERO;const E=D(y*y),x=D(y*E),C=D(u*E),I=D(A*A-x-Mn*C),O=D(A*(C-I)-h*x),M=D(r*a*y);return new dt(I,O,M)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=dt.ZERO;if(typeof t=="bigint"&amp;&amp;t===ct)return e;let n=Wl(t);if(n===xt)return this;if(!eo){let f=e,h=this;for(;n&gt;ct;)n&amp;xt&amp;&amp;(f=f.add(h)),h=h.double(),n&gt;&gt;=xt;return f}let{k1neg:r,k1:i,k2neg:o,k2:a}=to.splitScalar(n),l=e,c=e,u=this;for(;i&gt;ct||a&gt;ct;)i&amp;xt&amp;&amp;(l=l.add(u)),a&amp;xt&amp;&amp;(c=c.add(u)),u=u.double(),i&gt;&gt;=xt,a&gt;&gt;=xt;return r&amp;&amp;(l=l.negate()),o&amp;&amp;(c=c.negate()),c=new dt(D(c.x*to.beta),c.y,c.z),l.add(c)}precomputeWindow(t){const e=eo?128/t+1:256/t+1,n=[];let r=this,i=r;for(let o=0;o&lt;e;o++){i=r,n.push(i);for(let a=1;a&lt;2**(t-1);a++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&amp;&amp;this.equals(dt.BASE)&amp;&amp;(e=gt.BASE);const n=e&amp;&amp;e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&amp;&amp;Ba.get(e);r||(r=this.precomputeWindow(n),e&amp;&amp;n!==1&amp;&amp;(r=dt.normalizeZ(r),Ba.set(e,r)));let i=dt.ZERO,o=dt.BASE;const a=1+(eo?128/n:256/n),l=2**(n-1),c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let h=0;h&lt;a;h++){const g=h*l;let y=Number(t&amp;c);t&gt;&gt;=f,y&gt;l&amp;&amp;(y-=u,t+=xt);const A=g,E=g+Math.abs(y)-1,x=h%2!==0,C=y&lt;0;y===0?o=o.add(no(x,r[A])):i=i.add(no(C,r[E]))}return{p:i,f:o}}multiply(t,e){let n=Wl(t),r,i;if(eo){const{k1neg:o,k1:a,k2neg:l,k2:c}=to.splitScalar(n);let{p:u,f}=this.wNAF(a,e),{p:h,f:g}=this.wNAF(c,e);u=no(o,u),h=no(l,h),h=new dt(D(h.x*to.beta),h.y,h.z),r=u.add(h),i=f.add(g)}else{const{p:o,f:a}=this.wNAF(n,e);r=o,i=a}return dt.normalizeZ([r,i])[0]}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(dt.ZERO);t==null&amp;&amp;(t=i?Ql:$i(r));const o=t,a=D(o*o),l=D(a*o),c=D(e*a),u=D(n*l),f=D(r*o);if(i)return gt.ZERO;if(f!==xt)throw new Error("invZ was invalid");return new gt(c,u)}}dt.BASE=new dt(Rt.Gx,Rt.Gy,xt);dt.ZERO=new dt(ct,xt,ct);function no(s,t){const e=t.negate();return s?e:t}const Ba=new WeakMap;class gt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ba.delete(this)}hasEvenY(){return this.y%Mn===ct}static fromCompressedHex(t){const e=t.length===32,n=$n(e?t:t.subarray(1));if(!la(n))throw new Error("Point is not on curve");const r=zl(n);let i=pp(r);const o=(i&amp;xt)===xt;e?o&amp;&amp;(i=D(-i)):(t[0]&amp;1)===1!==o&amp;&amp;(i=D(-i));const a=new gt(n,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=$n(t.subarray(1,_e+1)),n=$n(t.subarray(_e+1,_e*2+1)),r=new gt(e,n);return r.assertValidity(),r}static fromHex(t){const e=oi(t),n=e.length,r=e[0];if(n===_e)return this.fromCompressedHex(e);if(n===ko&amp;&amp;(r===2||r===3))return this.fromCompressedHex(e);if(n===Co&amp;&amp;r===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${ko} compressed bytes or ${Co} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return gt.BASE.multiply(li(t))}static fromSignature(t,e,n){const{r,s:i}=bp(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=ef(oi(t)),{n:a}=Rt,l=n===2||n===3?r+a:r,c=$i(l,a),u=D(-o*c,a),f=D(i*c,a),h=n&amp;1?"03":"02",g=gt.fromHex(h+zs(l)),y=gt.BASE.multiplyAndAddUnsafe(g,u,f);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(t=!1){return ys(this.toHex(t))}toHex(t=!1){const e=zs(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${zs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!la(e)||!la(n))throw new Error(t);const r=D(n*n),i=zl(e);if(D(r-i)!==ct)throw new Error(t)}equals(t){return this.x===t.x&amp;&amp;this.y===t.y}negate(){return new gt(this.x,D(-this.y))}double(){return dt.fromAffine(this).double().toAffine()}add(t){return dt.fromAffine(this).add(dt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return dt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=dt.fromAffine(this),i=e===ct||e===xt||this!==gt.BASE?r.multiplyUnsafe(e):r.multiply(e),o=dt.fromAffine(t).multiplyUnsafe(n),a=i.add(o);return a.equals(dt.ZERO)?void 0:a.toAffine()}}gt.BASE=new gt(Rt.Gx,Rt.Gy);gt.ZERO=new gt(ct,ct);function Kl(s){return Number.parseInt(s[0],16)&gt;=8?"00"+s:s}function jl(s){if(s.length&lt;2||s[0]!==2)throw new Error(`Invalid signature integer tag: ${_r(s)}`);const t=s[1],e=s.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&amp;&amp;e[1]&lt;=127)throw new Error("Invalid signature integer: trailing length");return{data:$n(e),left:s.subarray(t+2)}}function fp(s){if(s.length&lt;2||s[0]!=48)throw new Error(`Invalid signature tag: ${_r(s)}`);if(s[1]!==s.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=jl(s.subarray(2)),{data:n,left:r}=jl(e);if(r.length)throw new Error(`Invalid signature: left bytes after parsing: ${_r(r)}`);return{r:t,s:n}}let Vs=class uo{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&amp;&amp;!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?_r(t):t;if(r.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new uo(Po(r.slice(0,64)),Po(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&amp;&amp;!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=fp(e?t:ys(t));return new uo(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!ai(t))throw new Error("Invalid Signature: r must be 0 &lt; r &lt; n");if(!ai(e))throw new Error("Invalid Signature: s must be 0 &lt; s &lt; n")}hasHighS(){const t=Rt.n&gt;&gt;xt;return this.s&gt;t}normalizeS(){return this.hasHighS()?new uo(this.r,D(-this.s,Rt.n)):this}toDERRawBytes(){return ys(this.toDERHex())}toDERHex(){const t=Kl(Qr(this.s)),e=Kl(Qr(this.r)),n=t.length/2,r=e.length/2,i=Qr(n),o=Qr(r);return`30${Qr(r+n+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ys(this.toCompactHex())}toCompactHex(){return zs(this.r)+zs(this.s)}};function Cn(...s){if(!s.every(n=&gt;n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(s.length===1)return s[0];const t=s.reduce((n,r)=&gt;n+r.length,0),e=new Uint8Array(t);for(let n=0,r=0;n&lt;s.length;n++){const i=s[n];e.set(i,r),r+=i.length}return e}const hp=Array.from({length:256},(s,t)=&gt;t.toString(16).padStart(2,"0"));function _r(s){if(!(s instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e&lt;s.length;e++)t+=hp[s[e]];return t}const dp=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function zs(s){if(typeof s!="bigint")throw new Error("Expected bigint");if(!(ct&lt;=s&amp;&amp;s&lt;dp))throw new Error("Expected number 0 &lt;= n &lt; 2^256");return s.toString(16).padStart(64,"0")}function Oa(s){const t=ys(zs(s));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Qr(s){const t=s.toString(16);return t.length&amp;1?`0${t}`:t}function Po(s){if(typeof s!="string")throw new TypeError("hexToNumber: expected string, got "+typeof s);return BigInt(`0x${s}`)}function ys(s){if(typeof s!="string")throw new TypeError("hexToBytes: expected string, got "+typeof s);if(s.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+s.length);const t=new Uint8Array(s.length/2);for(let e=0;e&lt;t.length;e++){const n=e*2,r=s.slice(n,n+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i&lt;0)throw new Error("Invalid byte sequence");t[e]=i}return t}function $n(s){return Po(_r(s))}function oi(s){return s instanceof Uint8Array?Uint8Array.from(s):ys(s)}function Wl(s){if(typeof s=="number"&amp;&amp;Number.isSafeInteger(s)&amp;&amp;s&gt;0)return BigInt(s);if(typeof s=="bigint"&amp;&amp;ai(s))return s;throw new TypeError("Expected valid private scalar: 0 &lt; scalar &lt; curve.n")}function D(s,t=Rt.P){const e=s%t;return e&gt;=ct?e:t+e}function me(s,t){const{P:e}=Rt;let n=s;for(;t-- &gt;ct;)n*=n,n%=e;return n}function pp(s){const{P:t}=Rt,e=BigInt(6),n=BigInt(11),r=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),l=s*s*s%t,c=l*l*s%t,u=me(c,Xr)*c%t,f=me(u,Xr)*c%t,h=me(f,Mn)*l%t,g=me(h,n)*h%t,y=me(g,r)*g%t,A=me(y,o)*y%t,E=me(A,a)*A%t,x=me(E,o)*y%t,C=me(x,Xr)*c%t,I=me(C,i)*g%t,O=me(I,e)*l%t,M=me(O,Mn);if(M*M%t!==s)throw new Error("Cannot find square root");return M}function $i(s,t=Rt.P){if(s===ct||t&lt;=ct)throw new Error(`invert: expected positive integers, got n=${s} mod=${t}`);let e=D(s,t),n=t,r=ct,i=xt;for(;e!==ct;){const a=n/e,l=n%e,c=r-i*a;n=e,e=l,r=i,i=c}if(n!==xt)throw new Error("invert: does not exist");return D(r,t)}function gp(s,t=Rt.P){const e=new Array(s.length),n=s.reduce((i,o,a)=&gt;o===ct?i:(e[a]=i,D(i*o,t)),xt),r=$i(n,t);return s.reduceRight((i,o,a)=&gt;o===ct?i:(e[a]=D(i*e[a],t),D(i*o,t)),r),e}function mp(s){const t=s.length*8-Or*8,e=$n(s);return t&gt;0?e&gt;&gt;BigInt(t):e}function ef(s,t=!1){const e=mp(s);if(t)return e;const{n}=Rt;return e&gt;=n?e-n:e}let Js,qr;class yp{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t&lt;2)throw new Error("hashLen must be a number");if(typeof e!="number"||e&lt;2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Hn.hmacSha256(this.k,...t)}hmacSync(...t){return qr(this.k,...t)}checkSync(){if(typeof qr!="function")throw new tf("hmacSha256Sync needs to be set")}incr(){if(this.counter&gt;=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&amp;&amp;(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&amp;&amp;(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Cn(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Cn(...e)}}function ai(s){return ct&lt;s&amp;&amp;s&lt;Rt.n}function la(s){return ct&lt;s&amp;&amp;s&lt;Rt.P}function wp(s,t,e,n=!0){const{n:r}=Rt,i=ef(s,!0);if(!ai(i))return;const o=$i(i,r),a=gt.BASE.multiply(i),l=D(a.x,r);if(l===ct)return;const c=D(o*D(t+e*l,r),r);if(c===ct)return;let u=new Vs(l,c),f=(a.x===u.r?0:2)|Number(a.y&amp;xt);return n&amp;&amp;u.hasHighS()&amp;&amp;(u=u.normalizeS(),f^=1),{sig:u,recovery:f}}function li(s){let t;if(typeof s=="bigint")t=s;else if(typeof s=="number"&amp;&amp;Number.isSafeInteger(s)&amp;&amp;s&gt;0)t=BigInt(s);else if(typeof s=="string"){if(s.length!==2*Or)throw new Error("Expected 32 bytes of private key");t=Po(s)}else if(s instanceof Uint8Array){if(s.length!==Or)throw new Error("Expected 32 bytes of private key");t=$n(s)}else throw new TypeError("Expected valid private key");if(!ai(t))throw new Error("Expected private key: 0 &lt; key &lt; n");return t}function Ap(s){return s instanceof gt?(s.assertValidity(),s):gt.fromHex(s)}function bp(s){if(s instanceof Vs)return s.assertValidity(),s;try{return Vs.fromDER(s)}catch{return Vs.fromCompact(s)}}function vp(s,t=!1){return gt.fromPrivateKey(s).toRawBytes(t)}function Ep(s,t,e,n=!1){return gt.fromSignature(s,t,e).toRawBytes(n)}function Yl(s){const t=s instanceof Uint8Array,e=typeof s=="string",n=(t||e)&amp;&amp;s.length;return t?n===ko||n===Co:e?n===ko*2||n===Co*2:s instanceof gt}function kp(s,t,e=!1){if(Yl(s))throw new TypeError("getSharedSecret: first arg must be private key");if(!Yl(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=Ap(t);return n.assertValidity(),n.multiply(li(s)).toRawBytes(e)}function nf(s){const t=s.length&gt;_e?s.slice(0,_e):s;return $n(t)}function Cp(s){const t=nf(s),e=D(t,Rt.n);return sf(e&lt;ct?t:e)}function sf(s){return Oa(s)}function Pp(s,t,e){if(s==null)throw new Error(`sign: expected valid message hash, not "${s}"`);const n=oi(s),r=li(t),i=[sf(r),Cp(n)];if(e!=null){e===!0&amp;&amp;(e=Hn.randomBytes(_e));const l=oi(e);if(l.length!==_e)throw new Error(`sign: Expected ${_e} bytes of extra data`);i.push(l)}const o=Cn(...i),a=nf(n);return{seed:o,m:a,d:r}}function xp(s,t){const{sig:e,recovery:n}=s,{der:r,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=r?e.toDERRawBytes():e.toCompactRawBytes();return i?[o,n]:o}function Ip(s,t,e={}){const{seed:n,m:r,d:i}=Pp(s,t,e.extraEntropy),o=new yp(up,Or);o.reseedSync(n);let a;for(;!(a=wp(o.generateSync(),r,i,e.canonical));)o.reseedSync();return xp(a,e)}gt.BASE._setWindowSize(8);const ae={node:cp,web:typeof self=="object"&amp;&amp;"crypto"in self?self.crypto:void 0},so={},Hn={bytesToHex:_r,hexToBytes:ys,concatBytes:Cn,mod:D,invert:$i,isValidPrivateKey(s){try{return li(s),!0}catch{return!1}},_bigintTo32Bytes:Oa,_normalizePrivateKey:li,hashToPrivateKey:s=&gt;{s=oi(s);const t=Or+8;if(s.length&lt;t||s.length&gt;1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=D($n(s),Rt.n-xt)+xt;return Oa(e)},randomBytes:(s=32)=&gt;{if(ae.web)return ae.web.getRandomValues(new Uint8Array(s));if(ae.node){const{randomBytes:t}=ae.node;return Uint8Array.from(t(s))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=&gt;Hn.hashToPrivateKey(Hn.randomBytes(Or+8)),precompute(s=8,t=gt.BASE){const e=t===gt.BASE?t:new gt(t.x,t.y);return e._setWindowSize(s),e.multiply(Xr),e},sha256:async(...s)=&gt;{if(ae.web){const t=await ae.web.subtle.digest("SHA-256",Cn(...s));return new Uint8Array(t)}else if(ae.node){const{createHash:t}=ae.node,e=t("sha256");return s.forEach(n=&gt;e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(s,...t)=&gt;{if(ae.web){const e=await ae.web.subtle.importKey("raw",s,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Cn(...t),r=await ae.web.subtle.sign("HMAC",e,n);return new Uint8Array(r)}else if(ae.node){const{createHmac:e}=ae.node,n=e("sha256",s);return t.forEach(r=&gt;n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(s,...t)=&gt;{let e=so[s];if(e===void 0){const n=await Hn.sha256(Uint8Array.from(s,r=&gt;r.charCodeAt(0)));e=Cn(n,n),so[s]=e}return Hn.sha256(e,...t)},taggedHashSync:(s,...t)=&gt;{if(typeof Js!="function")throw new tf("sha256Sync is undefined, you need to set it");let e=so[s];if(e===void 0){const n=Js(Uint8Array.from(s,r=&gt;r.charCodeAt(0)));e=Cn(n,n),so[s]=e}return Js(e,...t)},_JacobianPoint:dt};Object.defineProperties(Hn,{sha256Sync:{configurable:!1,get(){return Js},set(s){Js||(Js=s)}},hmacSha256Sync:{configurable:!1,get(){return qr},set(s){qr||(qr=s)}}});const _a="0x0000000000000000000000000000000000000000",Zl="0x0000000000000000000000000000000000000000000000000000000000000000",Xl=BigInt(0),ql=BigInt(1),tc=BigInt(2),ec=BigInt(27),nc=BigInt(28),ro=BigInt(35),Ts={};function sc(s){return bs(de(s),32)}var tr,er,nr,is;const Ie=class Ie{constructor(t,e,n,r){P(this,tr,void 0);P(this,er,void 0);P(this,nr,void 0);P(this,is,void 0);Vo(t,Ts,"Signature"),m(this,tr,e),m(this,er,n),m(this,nr,r),m(this,is,null)}get r(){return d(this,tr)}set r(t){v(Qs(t)===32,"invalid r","value",t),m(this,tr,G(t))}get s(){return d(this,er)}set s(t){v(Qs(t)===32,"invalid s","value",t);const e=G(t);v(parseInt(e.substring(0,3))&lt;8,"non-canonical s","value",e),m(this,er,e)}get v(){return d(this,nr)}set v(t){const e=it(t,"value");v(e===27||e===28,"invalid v","v",t),m(this,nr,e)}get networkV(){return d(this,is)}get legacyChainId(){const t=this.networkV;return t==null?null:Ie.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=ut(this.s);return this.yParity&amp;&amp;(t[0]|=128),G(t)}get compactSerialized(){return Ut([this.r,this.yParityAndS])}get serialized(){return Ut([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Ie(Ts,this.r,this.s,this.v);return this.networkV&amp;&amp;m(t,is,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=$(t,"v");return e==ec||e==nc?Xl:(v(e&gt;=ro,"invalid EIP-155 v","v",t),(e-ro)/tc)}static getChainIdV(t,e){return $(t)*tc+BigInt(35+e-27)}static getNormalizedV(t){const e=$(t);return e===Xl||e===ec?27:e===ql||e===nc?28:(v(e&gt;=ro,"invalid v","v",t),e&amp;ql?27:28)}static from(t){function e(c,u){v(c,u,"signature",t)}if(t==null)return new Ie(Ts,Zl,Zl,27);if(typeof t=="string"){const c=ut(t,"signature");if(c.length===64){const u=G(c.slice(0,32)),f=c.slice(32,64),h=f[0]&amp;128?28:27;return f[0]&amp;=127,new Ie(Ts,u,G(f),h)}if(c.length===65){const u=G(c.slice(0,32)),f=c.slice(32,64);e((f[0]&amp;128)===0,"non-canonical s");const h=Ie.getNormalizedV(c[64]);return new Ie(Ts,u,G(f),h)}e(!1,"invalid raw signature length")}if(t instanceof Ie)return t.clone();const n=t.r;e(n!=null,"missing r");const r=sc(n),i=function(c,u){if(c!=null)return sc(c);if(u!=null){e(St(u,32),"invalid yParityAndS");const f=ut(u);return f[0]&amp;=127,G(f)}e(!1,"missing s")}(t.s,t.yParityAndS);e((ut(i)[0]&amp;128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,u,f){if(c!=null){const h=$(c);return{networkV:h&gt;=ro?h:void 0,v:Ie.getNormalizedV(h)}}if(u!=null)return e(St(u,32),"invalid yParityAndS"),{v:ut(u)[0]&amp;128?28:27};if(f!=null){switch(it(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),l=new Ie(Ts,r,i,a);return o&amp;&amp;m(l,is,o),e(t.yParity==null||it(t.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};tr=new WeakMap,er=new WeakMap,nr=new WeakMap,is=new WeakMap;let Le=Ie;Hn.hmacSha256Sync=function(s,...t){return ut(Gi("sha256",s,Ut(t)))};var sn;const Wn=class Wn{constructor(t){P(this,sn,void 0);v(Qs(t)===32,"invalid private key","privateKey","[REDACTED]"),m(this,sn,G(t))}get privateKey(){return d(this,sn)}get publicKey(){return Wn.computePublicKey(d(this,sn))}get compressedPublicKey(){return Wn.computePublicKey(d(this,sn),!0)}sign(t){v(Qs(t)===32,"invalid digest length","digest",t);const[e,n]=Ip(re(t),re(d(this,sn)),{recovered:!0,canonical:!0}),r=Vs.fromHex(e);return Le.from({r:Qn("0x"+r.r.toString(16),32),s:Qn("0x"+r.s.toString(16),32),v:n?28:27})}computeSharedSecret(t){const e=Wn.computePublicKey(t);return G(kp(re(d(this,sn)),ut(e)))}static computePublicKey(t,e){let n=ut(t,"key");if(n.length===32){const i=vp(n,!!e);return G(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const r=gt.fromHex(n);return G(r.toRawBytes(e))}static recoverPublicKey(t,e){v(Qs(t)===32,"invalid digest length","digest",t);const n=Le.from(e),r=Vs.fromCompact(re(Ut([n.r,n.s]))).toDERRawBytes(),i=Ep(re(t),r,n.yParity);return v(i!=null,"invalid signature for digest","signature",e),G(i)}static addPoints(t,e,n){const r=gt.fromHex(Wn.computePublicKey(t).substring(2)),i=gt.fromHex(Wn.computePublicKey(e).substring(2));return"0x"+r.add(i).toHex(!!n)}};sn=new WeakMap;let ci=Wn;const Np=BigInt(0),Tp=BigInt(36);function rc(s){s=s.toLowerCase();const t=s.substring(2).split(""),e=new Uint8Array(40);for(let r=0;r&lt;40;r++)e[r]=t[r].charCodeAt(0);const n=ut(Tt(e));for(let r=0;r&lt;40;r+=2)n[r&gt;&gt;1]&gt;&gt;4&gt;=8&amp;&amp;(t[r]=t[r].toUpperCase()),(n[r&gt;&gt;1]&amp;15)&gt;=8&amp;&amp;(t[r+1]=t[r+1].toUpperCase());return"0x"+t.join("")}const ll={};for(let s=0;s&lt;10;s++)ll[String(s)]=String(s);for(let s=0;s&lt;26;s++)ll[String.fromCharCode(65+s)]=String(10+s);const ic=15;function Sp(s){s=s.toUpperCase(),s=s.substring(4)+s.substring(0,2)+"00";let t=s.split("").map(n=&gt;ll[n]).join("");for(;t.length&gt;=ic;){let n=t.substring(0,ic);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length&lt;2;)e="0"+e;return e}const Bp=function(){const s={};for(let t=0;t&lt;36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];s[e]=BigInt(t)}return s}();function Op(s){s=s.toLowerCase();let t=Np;for(let e=0;e&lt;s.length;e++)t=t*Tp+Bp[s[e]];return t}function pt(s){if(v(typeof s=="string","invalid address","address",s),s.match(/^(0x)?[0-9a-fA-F]{40}$/)){s.startsWith("0x")||(s="0x"+s);const t=rc(s);return v(!s.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===s,"bad address checksum","address",s),t}if(s.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){v(s.substring(2,4)===Sp(s),"bad icap checksum","address",s);let t=Op(s.substring(4)).toString(16);for(;t.length&lt;40;)t="0"+t;return rc("0x"+t)}v(!1,"invalid address","address",s)}function _p(s){const t=pt(s.from);let n=$(s.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,pt(Ot(Tt(ii([t,n])),12))}function rf(s){return s&amp;&amp;typeof s.getAddress=="function"}async function ca(s,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&amp;&amp;(T(typeof s!="string","unconfigured name","UNCONFIGURED_NAME",{value:s}),v(!1,"invalid AddressLike value; did not resolve to a value address","target",s)),pt(e)}function ie(s,t){if(typeof s=="string")return s.match(/^0x[0-9a-f]{40}$/i)?pt(s):(T(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ca(s,t.resolveName(s)));if(rf(s))return ca(s,s.getAddress());if(s&amp;&amp;typeof s.then=="function")return ca(s,s);v(!1,"unsupported addressable value","target",s)}const Ye={};function F(s,t){let e=!1;return t&lt;0&amp;&amp;(e=!0,t*=-1),new jt(Ye,`${e?"":"u"}int${t}`,s,{signed:e,width:t})}function ht(s,t){return new jt(Ye,`bytes${t||""}`,s,{size:t})}const oc=Symbol.for("_ethers_typed");var os;const Ze=class Ze{constructor(t,e,n,r){k(this,"type");k(this,"value");P(this,os,void 0);k(this,"_typedSymbol");r==null&amp;&amp;(r=null),Vo(Ye,t,"Typed"),V(this,{_typedSymbol:oc,type:e,value:n}),m(this,os,r),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=&gt;t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,os)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,os)===!0?-1:d(this,os)===!1?this.value.length:null}static from(t,e){return new Ze(Ye,t,e)}static uint8(t){return F(t,8)}static uint16(t){return F(t,16)}static uint24(t){return F(t,24)}static uint32(t){return F(t,32)}static uint40(t){return F(t,40)}static uint48(t){return F(t,48)}static uint56(t){return F(t,56)}static uint64(t){return F(t,64)}static uint72(t){return F(t,72)}static uint80(t){return F(t,80)}static uint88(t){return F(t,88)}static uint96(t){return F(t,96)}static uint104(t){return F(t,104)}static uint112(t){return F(t,112)}static uint120(t){return F(t,120)}static uint128(t){return F(t,128)}static uint136(t){return F(t,136)}static uint144(t){return F(t,144)}static uint152(t){return F(t,152)}static uint160(t){return F(t,160)}static uint168(t){return F(t,168)}static uint176(t){return F(t,176)}static uint184(t){return F(t,184)}static uint192(t){return F(t,192)}static uint200(t){return F(t,200)}static uint208(t){return F(t,208)}static uint216(t){return F(t,216)}static uint224(t){return F(t,224)}static uint232(t){return F(t,232)}static uint240(t){return F(t,240)}static uint248(t){return F(t,248)}static uint256(t){return F(t,256)}static uint(t){return F(t,256)}static int8(t){return F(t,-8)}static int16(t){return F(t,-16)}static int24(t){return F(t,-24)}static int32(t){return F(t,-32)}static int40(t){return F(t,-40)}static int48(t){return F(t,-48)}static int56(t){return F(t,-56)}static int64(t){return F(t,-64)}static int72(t){return F(t,-72)}static int80(t){return F(t,-80)}static int88(t){return F(t,-88)}static int96(t){return F(t,-96)}static int104(t){return F(t,-104)}static int112(t){return F(t,-112)}static int120(t){return F(t,-120)}static int128(t){return F(t,-128)}static int136(t){return F(t,-136)}static int144(t){return F(t,-144)}static int152(t){return F(t,-152)}static int160(t){return F(t,-160)}static int168(t){return F(t,-168)}static int176(t){return F(t,-176)}static int184(t){return F(t,-184)}static int192(t){return F(t,-192)}static int200(t){return F(t,-200)}static int208(t){return F(t,-208)}static int216(t){return F(t,-216)}static int224(t){return F(t,-224)}static int232(t){return F(t,-232)}static int240(t){return F(t,-240)}static int248(t){return F(t,-248)}static int256(t){return F(t,-256)}static int(t){return F(t,-256)}static bytes1(t){return ht(t,1)}static bytes2(t){return ht(t,2)}static bytes3(t){return ht(t,3)}static bytes4(t){return ht(t,4)}static bytes5(t){return ht(t,5)}static bytes6(t){return ht(t,6)}static bytes7(t){return ht(t,7)}static bytes8(t){return ht(t,8)}static bytes9(t){return ht(t,9)}static bytes10(t){return ht(t,10)}static bytes11(t){return ht(t,11)}static bytes12(t){return ht(t,12)}static bytes13(t){return ht(t,13)}static bytes14(t){return ht(t,14)}static bytes15(t){return ht(t,15)}static bytes16(t){return ht(t,16)}static bytes17(t){return ht(t,17)}static bytes18(t){return ht(t,18)}static bytes19(t){return ht(t,19)}static bytes20(t){return ht(t,20)}static bytes21(t){return ht(t,21)}static bytes22(t){return ht(t,22)}static bytes23(t){return ht(t,23)}static bytes24(t){return ht(t,24)}static bytes25(t){return ht(t,25)}static bytes26(t){return ht(t,26)}static bytes27(t){return ht(t,27)}static bytes28(t){return ht(t,28)}static bytes29(t){return ht(t,29)}static bytes30(t){return ht(t,30)}static bytes31(t){return ht(t,31)}static bytes32(t){return ht(t,32)}static address(t){return new Ze(Ye,"address",t)}static bool(t){return new Ze(Ye,"bool",!!t)}static bytes(t){return new Ze(Ye,"bytes",t)}static string(t){return new Ze(Ye,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Ze(Ye,"overrides",Object.assign({},t))}static isTyped(t){return t&amp;&amp;typeof t=="object"&amp;&amp;"_typedSymbol"in t&amp;&amp;t._typedSymbol===oc}static dereference(t,e){if(Ze.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};os=new WeakMap;let jt=Ze;class Lp extends wn{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=jt.dereference(e,"string");try{n=pt(n)}catch(r){return this._throwError(r.message,e)}return t.writeValue(n)}decode(t){return pt(Qn(t.readValue(),20))}}class Rp extends wn{constructor(e){super(e.name,e.type,"_",e.dynamic);k(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function of(s,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&amp;&amp;typeof e=="object"){let l={};n=t.map(c=&gt;{const u=c.localName;return T(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),T(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),l[u]=!0,e[u]})}else v(!1,"invalid tuple value","tuple",e);v(t.length===n.length,"types/value length mismatch","tuple",e);let r=new Ia,i=new Ia,o=[];t.forEach((l,c)=&gt;{let u=n[c];if(l.dynamic){let f=i.length;l.encode(i,u);let h=r.writeUpdatableValue();o.push(g=&gt;{h(g+f)})}else l.encode(r,u)}),o.forEach(l=&gt;{l(r.length)});let a=s.appendWriter(r);return a+=s.appendWriter(i),a}function af(s,t){let e=[],n=[],r=s.subReader(0);return t.forEach(i=&gt;{let o=null;if(i.dynamic){let a=s.readIndex(),l=r.subReader(a);try{o=i.decode(l)}catch(c){if(Ce(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(s)}catch(a){if(Ce(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),n.push(i.localName||null)}),vo.fromItems(e,n)}class Up extends wn{constructor(e,n,r){const i=e.type+"["+(n&gt;=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o);k(this,"coder");k(this,"length");V(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r&lt;this.length;r++)n.push(e);return n}encode(e,n){const r=jt.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&amp;&amp;(i=r.length,e.writeValue(r.length)),Iu(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a&lt;r.length;a++)o.push(this.coder);return of(e,o,r)}decode(e){let n=this.length;n===-1&amp;&amp;(n=e.readIndex(),T(n*Zt&lt;=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Zt,length:e.dataLength}));let r=[];for(let i=0;i&lt;n;i++)r.push(new Rp(this.coder));return af(e,r)}}class Fp extends wn{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=jt.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class lf extends wn{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=re(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class Dp extends lf{constructor(t){super("bytes",t)}decode(t){return G(super.decode(t))}}class Mp extends wn{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1);k(this,"size");V(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=re(jt.dereference(n,this.type));return r.length!==this.size&amp;&amp;this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return G(e.readBytes(this.size))}}const Hp=new Uint8Array([]);class Gp extends wn{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&amp;&amp;this._throwError("not null",e),t.writeBytes(Hp)}decode(t){return t.readBytes(0),null}}const $p=BigInt(0),Qp=BigInt(1),Vp=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class zp extends wn{constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1);k(this,"size");k(this,"signed");V(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=$(jt.dereference(n,this.type)),i=zr(Vp,Zt*8);if(this.signed){let o=zr(i,this.size*8-1);(r&gt;o||r&lt;-(o+Qp))&amp;&amp;this._throwError("value out-of-bounds",n),r=Su(r,8*Zt)}else(r&lt;$p||r&gt;zr(i,this.size*8))&amp;&amp;this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=zr(e.readValue(),this.size*8);return this.signed&amp;&amp;(n=Vh(n,this.size*8)),n}}class Jp extends lf{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,pn(jt.dereference(e,"string")))}decode(t){return il(super.decode(t))}}class io extends wn{constructor(e,n){let r=!1;const i=[];e.forEach(a=&gt;{a.dynamic&amp;&amp;(r=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r);k(this,"coders");V(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=&gt;{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=&gt;{const o=i.localName;return o&amp;&amp;(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=&gt;{let o=r.localName;!o||n[o]!==1||(o==="length"&amp;&amp;(o="_length"),e[o]==null&amp;&amp;(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=jt.dereference(n,"tuple");return of(e,this.coders,r)}decode(e){return af(e,this.coders)}}function vs(s){return Tt(pn(s))}function Kp(s){let t=0;function e(){return s[t++]&lt;&lt;8|s[t++]}let n=e(),r=1,i=[0,1];for(let M=1;M&lt;n;M++)i.push(r+=e());let o=e(),a=t;t+=o;let l=0,c=0;function u(){return l==0&amp;&amp;(c=c&lt;&lt;8|s[t++],l=8),c&gt;&gt;--l&amp;1}const f=31,h=2**f,g=h&gt;&gt;&gt;1,y=g&gt;&gt;1,A=h-1;let E=0;for(let M=0;M&lt;f;M++)E=E&lt;&lt;1|u();let x=[],C=0,I=h;for(;;){let M=Math.floor(((E-C+1)*r-1)/I),W=0,tt=n;for(;tt-W&gt;1;){let st=W+tt&gt;&gt;&gt;1;M&lt;i[st]?tt=st:W=st}if(W==0)break;x.push(W);let U=C+Math.floor(I*i[W]/r),Q=C+Math.floor(I*i[W+1]/r)-1;for(;!((U^Q)&amp;g);)E=E&lt;&lt;1&amp;A|u(),U=U&lt;&lt;1&amp;A,Q=Q&lt;&lt;1&amp;A|1;for(;U&amp;~Q&amp;y;)E=E&amp;g|E&lt;&lt;1&amp;A&gt;&gt;&gt;1|u(),U=U&lt;&lt;1^g,Q=(Q^g)&lt;&lt;1|g|1;C=U,I=1+Q-U}let O=n-4;return x.map(M=&gt;{switch(M-O){case 3:return O+65792+(s[a++]&lt;&lt;16|s[a++]&lt;&lt;8|s[a++]);case 2:return O+256+(s[a++]&lt;&lt;8|s[a++]);case 1:return O+s[a++];default:return M-1}})}function jp(s){let t=0;return()=&gt;s[t++]}function cf(s){return jp(Kp(Wp(s)))}function Wp(s){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,i)=&gt;t[r.charCodeAt(0)]=i);let e=s.length,n=new Uint8Array(6*e&gt;&gt;3);for(let r=0,i=0,o=0,a=0;r&lt;e;r++)a=a&lt;&lt;6|t[s.charCodeAt(r)],o+=6,o&gt;=8&amp;&amp;(n[i++]=a&gt;&gt;(o-=8));return n}function Yp(s){return s&amp;1?~s&gt;&gt;1:s&gt;&gt;1}function Zp(s,t){let e=Array(s);for(let n=0,r=0;n&lt;s;n++)e[n]=r+=Yp(t());return e}function Vn(s,t=0){let e=[];for(;;){let n=s(),r=s();if(!r)break;t+=n;for(let i=0;i&lt;r;i++)e.push(t+i);t+=r+1}return e}function uf(s){return ui(()=&gt;{let t=Vn(s);if(t.length)return t})}function ff(s){let t=[];for(;;){let e=s();if(e==0)break;t.push(Xp(e,s))}for(;;){let e=s()-1;if(e&lt;0)break;t.push(qp(e,s))}return t.flat()}function ui(s){let t=[];for(;;){let e=s(t.length);if(!e)break;t.push(e)}return t}function hf(s,t,e){let n=Array(s).fill().map(()=&gt;[]);for(let r=0;r&lt;t;r++)Zp(s,e).forEach((i,o)=&gt;n[o].push(i));return n}function Xp(s,t){let e=1+t(),n=t(),r=ui(t);return hf(r.length,1+s,t).flatMap((o,a)=&gt;{let[l,...c]=o;return Array(r[a]).fill().map((u,f)=&gt;{let h=f*n;return[l+f*e,c.map(g=&gt;g+h)]})})}function qp(s,t){let e=1+t();return hf(e,1+s,t).map(r=&gt;[r[0],r.slice(1)])}var ge=cf("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");const ac=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),lc=4;function tg(s){return s.toString(16).toUpperCase().padStart(2,"0")}function df(s){return`{${tg(s)}}`}function eg(s){let t=[];for(let e=0,n=s.length;e&lt;n;){let r=s.codePointAt(e);e+=r&lt;65536?1:2,t.push(r)}return t}function fi(s){let e=s.length;if(e&lt;4096)return String.fromCodePoint(...s);let n=[];for(let r=0;r&lt;e;)n.push(String.fromCodePoint(...s.slice(r,r+=4096)));return n.join("")}var cl=cf("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");function Kr(s){return s&gt;&gt;24&amp;255}function pf(s){return s&amp;16777215}const ng=new Map(uf(cl).flatMap((s,t)=&gt;s.map(e=&gt;[e,t+1&lt;&lt;24]))),sg=new Set(Vn(cl)),gf=new Map,La=new Map;for(let[s,t]of ff(cl)){if(!sg.has(s)&amp;&amp;t.length==2){let[e,n]=t,r=La.get(e);r||(r=new Map,La.set(e,r)),r.set(n,s)}gf.set(s,t.reverse())}const hi=44032,xo=4352,Io=4449,No=4519,mf=19,yf=21,Lr=28,To=yf*Lr,rg=mf*To,ig=hi+rg,og=xo+mf,ag=Io+yf,lg=No+Lr;function wf(s){return s&gt;=hi&amp;&amp;s&lt;ig}function cg(s,t){if(s&gt;=xo&amp;&amp;s&lt;og&amp;&amp;t&gt;=Io&amp;&amp;t&lt;ag)return hi+(s-xo)*To+(t-Io)*Lr;if(wf(s)&amp;&amp;t&gt;No&amp;&amp;t&lt;lg&amp;&amp;(s-hi)%Lr==0)return s+(t-No);{let e=La.get(s);return e&amp;&amp;(e=e.get(t),e)?e:-1}}function Af(s){let t=[],e=[],n=!1;function r(i){let o=ng.get(i);o&amp;&amp;(n=!0,i|=o),t.push(i)}for(let i of s)for(;;){if(i&lt;128)t.push(i);else if(wf(i)){let o=i-hi,a=o/To|0,l=o%To/Lr|0,c=o%Lr;r(xo+a),r(Io+l),c&gt;0&amp;&amp;r(No+c)}else{let o=gf.get(i);o?e.push(...o):r(i)}if(!e.length)break;i=e.pop()}if(n&amp;&amp;t.length&gt;1){let i=Kr(t[0]);for(let o=1;o&lt;t.length;o++){let a=Kr(t[o]);if(a==0||i&lt;=a){i=a;continue}let l=o-1;for(;;){let c=t[l+1];if(t[l+1]=t[l],t[l]=c,!l||(i=Kr(t[--l]),i&lt;=a))break}i=Kr(t[o])}}return t}function ug(s){let t=[],e=[],n=-1,r=0;for(let i of s){let o=Kr(i),a=pf(i);if(n==-1)o==0?n=a:t.push(a);else if(r&gt;0&amp;&amp;r&gt;=o)o==0?(t.push(n,...e),e.length=0,n=a):e.push(a),r=o;else{let l=cg(n,a);l&gt;=0?n=l:r==0&amp;&amp;o==0?(t.push(n),n=a):(e.push(a),r=o)}}return n&gt;=0&amp;&amp;t.push(n,...e),t}function bf(s){return Af(s).map(pf)}function fg(s){return ug(Af(s))}const Ra=65039,vf=".",Ef=1,cc=45;function Fr(){return new Set(Vn(ge))}const hg=new Map(ff(ge)),dg=Fr(),So=Fr(),uc=new Set(Vn(ge).map(function(s){return this[s]},[...So])),pg=Fr();Fr();const gg=uf(ge);function fc(){return new Set([Vn(ge).map(s=&gt;gg[s]),Vn(ge)].flat(2))}const mg=ge(),di=ui(s=&gt;{let t=ui(ge).map(e=&gt;e+96);if(t.length){let e=s&gt;=mg;t[0]-=32,t=fi(t),e&amp;&amp;(t=`Restricted[${t}]`);let n=fc(),r=fc(),i=[...n,...r].sort((a,l)=&gt;a-l),o=!ge();return{N:t,P:n,M:o,R:e,V:new Set(i)}}}),hc=Fr(),pi=new Map;[...hc,...Fr()].sort((s,t)=&gt;s-t).map((s,t,e)=&gt;{let n=ge(),r=e[t]=n?e[t-n]:{V:[],M:new Map};r.V.push(s),hc.has(s)||pi.set(s,r)});for(let{V:s,M:t}of new Set(pi.values())){let e=[];for(let r of s){let i=di.filter(a=&gt;a.V.has(r)),o=e.find(({G:a})=&gt;i.some(l=&gt;a.has(l)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(r),i.forEach(a=&gt;o.G.add(a))}let n=e.flatMap(({G:r})=&gt;[...r]);for(let{G:r,V:i}of e){let o=new Set(n.filter(a=&gt;!r.has(a)));for(let a of i)t.set(a,o)}}let gi=new Set,kf=new Set;for(let s of di)for(let t of s.V)(gi.has(t)?kf:gi).add(t);for(let s of gi)!pi.has(s)&amp;&amp;!kf.has(s)&amp;&amp;pi.set(s,Ef);const yg=new Set([...gi,...bf(gi)]),wg=Vn(ge),Ag=Cf([]);function Cf(s){let t=ui(()=&gt;{let a=Vn(ge).map(l=&gt;wg[l]);if(a.length)return Cf(a)}).sort((a,l)=&gt;l.Q.size-a.Q.size),e=ge(),n=e%3;e=e/3|0;let r=e&amp;1;e&gt;&gt;=1;let i=e&amp;1,o=e&amp;2;return{B:t,V:n,F:r,S:i,C:o,Q:new Set(s)}}class bg extends Array{get is_emoji(){return!0}}function jo(s,t=df){let e=[];kg(s[0])&amp;&amp;e.push("◌");let n=0,r=s.length;for(let i=0;i&lt;r;i++){let o=s[i];Pf(o)&amp;&amp;(e.push(fi(s.slice(n,i))),e.push(t(o)),n=i+1)}return e.push(fi(s.slice(n,r))),e.join("")}function ul(s){return(Pf(s)?"":`${fl(jo([s]))} `)+df(s)}function fl(s){return`"${s}"‎`}function vg(s){if(s.length&gt;=4&amp;&amp;s[2]==cc&amp;&amp;s[3]==cc)throw new Error("invalid label extension")}function dc(s){for(let e=s.lastIndexOf(95);e&gt;0;)if(s[--e]!==95)throw new Error("underscore allowed only at start")}function Eg(s){let t=s[0],e=ac.get(t);if(e)throw ti(`leading ${e}`);let n=s.length,r=-1;for(let i=1;i&lt;n;i++){t=s[i];let o=ac.get(t);if(o){if(r==i)throw ti(`${e} + ${o}`);r=i+1,e=o}}if(r==n)throw ti(`trailing ${e}`)}function kg(s){return So.has(s)}function Pf(s){return pg.has(s)}function Cg(s){return Ng(Pg(s))}function Pg(s,t){let e=0;return s.split(vf).map(n=&gt;{let r=eg(n),i={input:r,offset:e};e+=r.length+1;let o;try{let a=i.tokens=Sg(r,fg),l=a.length,c;if(l){let u=a[0],f=l&gt;1||u.is_emoji;if(!f&amp;&amp;u.every(h=&gt;h&lt;128))o=u,dc(o),vg(o),c="ASCII";else if(f&amp;&amp;(i.emoji=!0,u=a.flatMap(h=&gt;h.is_emoji?[]:h)),o=a.flatMap(h=&gt;!t&amp;&amp;h.is_emoji?Bg(h):h),dc(o),!u.length)c="Emoji";else{if(So.has(o[0]))throw ti("leading combining mark");for(let y=1;y&lt;l;y++){let A=a[y];if(!A.is_emoji&amp;&amp;So.has(A[0]))throw ti(`emoji + combining mark: "${fi(a[y-1])} + ${jo([A[0]])}"`)}Eg(o);let h=[...new Set(u)],[g]=Ig(h);Tg(g,u),xg(g,h),c=g.N}}else throw new Error("empty label");i.type=c}catch(a){i.error=a}return i.output=o,i})}function xg(s,t){let e,n=[];for(let r of t){let i=pi.get(r);if(i===Ef)return;if(i){let o=i.M.get(r);if(e=e?e.filter(a=&gt;o.has(a)):[...o],!e.length)return}else n.push(r)}if(e){for(let r of e)if(n.every(i=&gt;r.V.has(i)))throw new Error(`whole-script confusable: ${s.N}/${r.N}`)}}function Ig(s){let t=di;for(let e of s){let n=t.filter(r=&gt;r.V.has(e));if(!n.length)throw t===di?xf(e):If(t[0],e);if(t=n,n.length==1)break}return t}function Ng(s){return s.map(({input:t,error:e,output:n})=&gt;{if(e){let r=e.message;throw new Error(s.length==1?r:`Invalid label ${fl(jo(t))}: ${r}`)}return fi(n)}).join(vf)}function xf(s){return new Error(`disallowed character: ${ul(s)}`)}function If(s,t){let e=ul(t),n=di.find(r=&gt;r.P.has(t));return n&amp;&amp;(e=`${n.N} ${e}`),new Error(`illegal mixture: ${s.N} + ${e}`)}function ti(s){return new Error(`illegal placement: ${s}`)}function Tg(s,t){let{V:e,M:n}=s;for(let r of t)if(!e.has(r))throw If(s,r);if(n){let r=bf(t);for(let i=1,o=r.length;i&lt;o;i++)if(uc.has(r[i])){let a=i+1;for(let l;a&lt;o&amp;&amp;uc.has(l=r[a]);a++)for(let c=i;c&lt;a;c++)if(r[c]==l)throw new Error(`non-spacing marks: repeated ${ul(l)}`);if(a-i&gt;lc)throw new Error(`non-spacing marks: too many ${fl(jo(r.slice(i-1,a)))} (${a-i}/${lc})`);i=a}}}function Sg(s,t){let e=[],n=[];for(s=s.slice().reverse();s.length;){let r=Og(s);if(r)n.length&amp;&amp;(e.push(t(n)),n=[]),e.push(r);else{let i=s.pop();if(yg.has(i))n.push(i);else{let o=hg.get(i);if(o)n.push(...o);else if(!dg.has(i))throw xf(i)}}}return n.length&amp;&amp;e.push(t(n)),e}function Bg(s){return s.filter(t=&gt;t!=Ra)}function Og(s,t){let e=Ag,n,r,i=[],o=s.length;for(t&amp;&amp;(t.length=0);o;){let a=s[--o];if(e=e.B.find(l=&gt;l.Q.has(a)),!e)break;if(e.S)r=a;else if(e.C&amp;&amp;a===r)break;i.push(a),e.F&amp;&amp;(i.push(Ra),o&gt;0&amp;&amp;s[o-1]==Ra&amp;&amp;o--),e.V&amp;&amp;(n=_g(i,e),t&amp;&amp;t.push(...s.slice(o).reverse()),s.length=o)}return n}function _g(s,t){let e=bg.from(s);return t.V==2&amp;&amp;e.splice(1,1),e}const Nf=new Uint8Array(32);Nf.fill(0);function pc(s){return v(s.length!==0,"invalid ENS name; empty component","comp",s),s}function Tf(s){const t=pn(Lg(s)),e=[];if(s.length===0)return e;let n=0;for(let r=0;r&lt;t.length;r++)t[r]===46&amp;&amp;(e.push(pc(t.slice(n,r))),n=r+1);return v(n&lt;t.length,"invalid ENS name; empty component","name",s),e.push(pc(t.slice(n))),e}function Lg(s){try{return Cg(s)}catch(t){v(!1,`invalid ENS name (${t.message})`,"name",s)}}function Ua(s){v(typeof s=="string","invalid ENS name; not a string","name",s);let t=Nf;const e=Tf(s);for(;e.length;)t=Tt(Ut([t,Tt(e.pop())]));return G(t)}function Rg(s){return G(Ut(Tf(s).map(t=&gt;{if(t.length&gt;63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function ua(s,t){return{address:pt(s),storageKeys:t.map((e,n)=&gt;(v(St(e,32),"invalid slot",`storageKeys[${n}]`,e),e.toLowerCase()))}}function xs(s){if(Array.isArray(s))return s.map((e,n)=&gt;Array.isArray(e)?(v(e.length===2,"invalid slot set",`value[${n}]`,e),ua(e[0],e[1])):(v(e!=null&amp;&amp;typeof e=="object","invalid address-slot set","value",s),ua(e.address,e.storageKeys)));v(s!=null&amp;&amp;typeof s=="object","invalid access list","value",s);const t=Object.keys(s).map(e=&gt;{const n=s[e].reduce((r,i)=&gt;(r[i]=!0,r),{});return ua(e,Object.keys(n).sort())});return t.sort((e,n)=&gt;e.address.localeCompare(n.address)),t}function Ug(s){let t;return typeof s=="string"?t=ci.computePublicKey(s,!1):t=s.publicKey,pt(Tt("0x"+t.substring(4)).substring(26))}function Fg(s,t){return Ug(ci.recoverPublicKey(s,t))}const ne=BigInt(0),Dg=BigInt(2),Mg=BigInt(27),Hg=BigInt(28),Gg=BigInt(35),$g=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hl(s){return s==="0x"?null:pt(s)}function Sf(s,t){try{return xs(s)}catch(e){v(!1,e.message,t,s)}}function Wo(s,t){return s==="0x"?0:it(s,t)}function Yt(s,t){if(s==="0x")return ne;const e=$(s,t);return v(e&lt;=$g,"value exceeds uint size",t,e),e}function Gt(s,t){const e=$(s,"value"),n=de(e);return v(n.length&lt;=32,"value too large",`tx.${t}`,e),n}function Bf(s){return xs(s).map(t=&gt;[t.address,t.storageKeys])}function Qg(s){const t=ol(s);v(Array.isArray(t)&amp;&amp;(t.length===9||t.length===6),"invalid field count for legacy transaction","data",s);const e={type:0,nonce:Wo(t[0],"nonce"),gasPrice:Yt(t[1],"gasPrice"),gasLimit:Yt(t[2],"gasLimit"),to:hl(t[3]),value:Yt(t[4],"value"),data:G(t[5]),chainId:ne};if(t.length===6)return e;const n=Yt(t[6],"v"),r=Yt(t[7],"r"),i=Yt(t[8],"s");if(r===ne&amp;&amp;i===ne)e.chainId=n;else{let o=(n-Gg)/Dg;o&lt;ne&amp;&amp;(o=ne),e.chainId=o,v(o!==ne||n===Mg||n===Hg,"non-canonical legacy v","v",t[6]),e.signature=Le.from({r:bs(t[7],32),s:bs(t[8],32),v:n}),e.hash=Tt(s)}return e}function gc(s,t){const e=[Gt(s.nonce||0,"nonce"),Gt(s.gasPrice||0,"gasPrice"),Gt(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",Gt(s.value||0,"value"),s.data||"0x"];let n=ne;if(s.chainId!=ne)n=$(s.chainId,"tx.chainId"),v(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(s.signature){const i=s.signature.legacyChainId;i!=null&amp;&amp;(n=i)}if(!t)return n!==ne&amp;&amp;(e.push(de(n)),e.push("0x"),e.push("0x")),ii(e);let r=BigInt(27+t.yParity);return n!==ne?r=Le.getChainIdV(n,t.v):BigInt(t.v)!==r&amp;&amp;v(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(de(r)),e.push(de(t.r)),e.push(de(t.s)),ii(e)}function Of(s,t){let e;try{if(e=Wo(t[0],"yParity"),e!==0&amp;&amp;e!==1)throw new Error("bad yParity")}catch{v(!1,"invalid yParity","yParity",t[0])}const n=bs(t[1],32),r=bs(t[2],32),i=Le.from({r:n,s:r,yParity:e});s.signature=i}function Vg(s){const t=ol(ut(s).slice(1));v(Array.isArray(t)&amp;&amp;(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",G(s));const e=Yt(t[2],"maxPriorityFeePerGas"),n=Yt(t[3],"maxFeePerGas"),r={type:2,chainId:Yt(t[0],"chainId"),nonce:Wo(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:Yt(t[4],"gasLimit"),to:hl(t[5]),value:Yt(t[6],"value"),data:G(t[7]),accessList:Sf(t[8],"accessList")};return t.length===9||(r.hash=Tt(s),Of(r,t.slice(9))),r}function mc(s,t){const e=[Gt(s.chainId||0,"chainId"),Gt(s.nonce||0,"nonce"),Gt(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Gt(s.maxFeePerGas||0,"maxFeePerGas"),Gt(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",Gt(s.value||0,"value"),s.data||"0x",Bf(s.accessList||[])];return t&amp;&amp;(e.push(Gt(t.yParity,"yParity")),e.push(de(t.r)),e.push(de(t.s))),Ut(["0x02",ii(e)])}function zg(s){const t=ol(ut(s).slice(1));v(Array.isArray(t)&amp;&amp;(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",G(s));const e={type:1,chainId:Yt(t[0],"chainId"),nonce:Wo(t[1],"nonce"),gasPrice:Yt(t[2],"gasPrice"),gasLimit:Yt(t[3],"gasLimit"),to:hl(t[4]),value:Yt(t[5],"value"),data:G(t[6]),accessList:Sf(t[7],"accessList")};return t.length===8||(e.hash=Tt(s),Of(e,t.slice(8))),e}function yc(s,t){const e=[Gt(s.chainId||0,"chainId"),Gt(s.nonce||0,"nonce"),Gt(s.gasPrice||0,"gasPrice"),Gt(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",Gt(s.value||0,"value"),s.data||"0x",Bf(s.accessList||[])];return t&amp;&amp;(e.push(Gt(t.yParity,"recoveryParam")),e.push(de(t.r)),e.push(de(t.s))),Ut(["0x01",ii(e)])}var rn,sr,rr,ir,or,ar,lr,cr,ur,fr,hr,dr;const kn=class kn{constructor(){P(this,rn,void 0);P(this,sr,void 0);P(this,rr,void 0);P(this,ir,void 0);P(this,or,void 0);P(this,ar,void 0);P(this,lr,void 0);P(this,cr,void 0);P(this,ur,void 0);P(this,fr,void 0);P(this,hr,void 0);P(this,dr,void 0);m(this,rn,null),m(this,sr,null),m(this,ir,0),m(this,or,BigInt(0)),m(this,ar,null),m(this,lr,null),m(this,cr,null),m(this,rr,"0x"),m(this,ur,BigInt(0)),m(this,fr,BigInt(0)),m(this,hr,null),m(this,dr,null)}get type(){return d(this,rn)}set type(t){switch(t){case null:m(this,rn,null);break;case 0:case"legacy":m(this,rn,0);break;case 1:case"berlin":case"eip-2930":m(this,rn,1);break;case 2:case"london":case"eip-1559":m(this,rn,2);break;default:v(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return d(this,sr)}set to(t){m(this,sr,t==null?null:pt(t))}get nonce(){return d(this,ir)}set nonce(t){m(this,ir,it(t,"value"))}get gasLimit(){return d(this,or)}set gasLimit(t){m(this,or,$(t))}get gasPrice(){const t=d(this,ar);return t==null&amp;&amp;(this.type===0||this.type===1)?ne:t}set gasPrice(t){m(this,ar,t==null?null:$(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=d(this,lr);return t??(this.type===2?ne:null)}set maxPriorityFeePerGas(t){m(this,lr,t==null?null:$(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=d(this,cr);return t??(this.type===2?ne:null)}set maxFeePerGas(t){m(this,cr,t==null?null:$(t,"maxFeePerGas"))}get data(){return d(this,rr)}set data(t){m(this,rr,G(t))}get value(){return d(this,ur)}set value(t){m(this,ur,$(t,"value"))}get chainId(){return d(this,fr)}set chainId(t){m(this,fr,$(t))}get signature(){return d(this,hr)||null}set signature(t){m(this,hr,t==null?null:Le.from(t))}get accessList(){const t=d(this,dr)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){m(this,dr,t==null?null:xs(t))}get hash(){return this.signature==null?null:Tt(this.serialized)}get unsignedHash(){return Tt(this.unsignedSerialized)}get from(){return this.signature==null?null:Fg(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ci.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(T(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return gc(this,this.signature);case 1:return yc(this,this.signature);case 2:return mc(this,this.signature)}T(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return gc(this);case 1:return yc(this);case 2:return mc(this)}T(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&amp;&amp;this.maxPriorityFeePerGas!=null&amp;&amp;T(this.maxFeePerGas&gt;=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),T(!e||this.type!==0&amp;&amp;this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),T(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):e?r.push(2):t?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return kn.from(this)}toJSON(){const t=e=&gt;e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new kn;if(typeof t=="string"){const n=ut(t);if(n[0]&gt;=127)return kn.from(Qg(n));switch(n[0]){case 1:return kn.from(zg(n));case 2:return kn.from(Vg(n))}T(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new kn;return t.type!=null&amp;&amp;(e.type=t.type),t.to!=null&amp;&amp;(e.to=t.to),t.nonce!=null&amp;&amp;(e.nonce=t.nonce),t.gasLimit!=null&amp;&amp;(e.gasLimit=t.gasLimit),t.gasPrice!=null&amp;&amp;(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&amp;&amp;(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&amp;&amp;(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&amp;&amp;(e.data=t.data),t.value!=null&amp;&amp;(e.value=t.value),t.chainId!=null&amp;&amp;(e.chainId=t.chainId),t.signature!=null&amp;&amp;(e.signature=Le.from(t.signature)),t.accessList!=null&amp;&amp;(e.accessList=t.accessList),t.hash!=null&amp;&amp;(v(e.isSigned(),"unsigned transaction cannot define hash","tx",t),v(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&amp;&amp;(v(e.isSigned(),"unsigned transaction cannot define from","tx",t),v(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};rn=new WeakMap,sr=new WeakMap,rr=new WeakMap,ir=new WeakMap,or=new WeakMap,ar=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,fr=new WeakMap,hr=new WeakMap,dr=new WeakMap;let Bo=kn;const _f=new Uint8Array(32);_f.fill(0);const Jg=BigInt(-1),Lf=BigInt(0),Rf=BigInt(1),Kg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jg(s){const t=ut(s),e=t.length%32;return e?Ut([t,_f.slice(e)]):G(t)}const Wg=Qn(Rf,32),Yg=Qn(Lf,32),wc={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},fa=["name","version","chainId","verifyingContract","salt"];function Ac(s){return function(t){return v(typeof t=="string",`invalid domain value for ${JSON.stringify(s)}`,`domain.${s}`,t),t}}const Zg={name:Ac("name"),version:Ac("version"),chainId:function(s){const t=$(s,"domain.chainId");return v(t&gt;=0,"invalid chain ID","domain.chainId",s),Number.isSafeInteger(t)?Number(t):Ds(t)},verifyingContract:function(s){try{return pt(s).toLowerCase()}catch{}v(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",s)},salt:function(s){const t=ut(s,"domain.salt");return v(t.length===32,'invalid domain value "salt"',"domain.salt",s),G(t)}};function ha(s){{const t=s.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");v(n%8===0&amp;&amp;n!==0&amp;&amp;n&lt;=256&amp;&amp;(t[2]==null||t[2]===String(n)),"invalid numeric width","type",s);const r=zr(Kg,e?n-1:n),i=e?(r+Rf)*Jg:Lf;return function(o){const a=$(o,"value");return v(a&gt;=i&amp;&amp;a&lt;=r,`value out-of-bounds for ${s}`,"value",a),Qn(e?Su(a,256):a,32)}}}{const t=s.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return v(e!==0&amp;&amp;e&lt;=32&amp;&amp;t[1]===String(e),"invalid bytes width","type",s),function(n){const r=ut(n);return v(r.length===e,`invalid length for ${s}`,"value",n),jg(n)}}}switch(s){case"address":return function(t){return bs(pt(t),32)};case"bool":return function(t){return t?Wg:Yg};case"bytes":return function(t){return Tt(t)};case"string":return function(t){return vs(t)}}return null}function bc(s,t){return`${s}(${t.map(({name:e,type:n})=&gt;n+" "+e).join(",")})`}var Ei,on,pr,Do,Uf;const we=class we{constructor(t){P(this,Do);k(this,"primaryType");P(this,Ei,void 0);P(this,on,void 0);P(this,pr,void 0);m(this,Ei,JSON.stringify(t)),m(this,on,new Map),m(this,pr,new Map);const e=new Map,n=new Map,r=new Map;Object.keys(t).forEach(a=&gt;{e.set(a,new Set),n.set(a,[]),r.set(a,new Set)});for(const a in t){const l=new Set;for(const c of t[a]){v(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",t),l.add(c.name);const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;v(u!==a,`circular type reference to ${JSON.stringify(u)}`,"types",t),!ha(u)&amp;&amp;(v(n.has(u),`unknown type ${JSON.stringify(u)}`,"types",t),n.get(u).push(a),e.get(a).add(u))}}const i=Array.from(n.keys()).filter(a=&gt;n.get(a).length===0);v(i.length!==0,"missing primary type","types",t),v(i.length===1,`ambiguous primary types or unused types: ${i.map(a=&gt;JSON.stringify(a)).join(", ")}`,"types",t),V(this,{primaryType:i[0]});function o(a,l){v(!l.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),l.add(a);for(const c of e.get(a))if(n.has(c)){o(c,l);for(const u of l)r.get(u).add(c)}l.delete(a)}o(this.primaryType,new Set);for(const[a,l]of r){const c=Array.from(l);c.sort(),d(this,on).set(a,bc(a,t[a])+c.map(u=&gt;bc(u,t[u])).join(""))}}get types(){return JSON.parse(d(this,Ei))}getEncoder(t){let e=d(this,pr).get(t);return e||(e=R(this,Do,Uf).call(this,t),d(this,pr).set(t,e)),e}encodeType(t){const e=d(this,on).get(t);return v(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Tt(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(ha(t))return n(t,e);const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r)return v(!r[3]||parseInt(r[3])===e.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",e),e.map(o=&gt;this._visit(r[1],o,n));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:l})=&gt;(o[a]=this._visit(l,e[a],n),o),{});v(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new we(t)}static getPrimaryType(t){return we.from(t).primaryType}static hashStruct(t,e,n){return we.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const r=wc[n];v(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:r})}return e.sort((n,r)=&gt;fa.indexOf(n.name)-fa.indexOf(r.name)),we.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Ut(["0x1901",we.hashDomain(t),we.from(e).hash(n)])}static hash(t,e,n){return Tt(we.encode(t,e,n))}static async resolveNames(t,e,n,r){t=Object.assign({},t);for(const a in t)t[a]==null&amp;&amp;delete t[a];const i={};t.verifyingContract&amp;&amp;!St(t.verifyingContract,20)&amp;&amp;(i[t.verifyingContract]="0x");const o=we.from(e);o.visit(n,(a,l)=&gt;(a==="address"&amp;&amp;!St(l,20)&amp;&amp;(i[l]="0x"),l));for(const a in i)i[a]=await r(a);return t.verifyingContract&amp;&amp;i[t.verifyingContract]&amp;&amp;(t.verifyingContract=i[t.verifyingContract]),n=o.visit(n,(a,l)=&gt;a==="address"&amp;&amp;i[l]?i[l]:l),{domain:t,value:n}}static getPayload(t,e,n){we.hashDomain(t);const r={},i=[];fa.forEach(l=&gt;{const c=t[l];c!=null&amp;&amp;(r[l]=Zg[l](c),i.push({name:l,type:wc[l]}))});const o=we.from(e),a=Object.assign({},e);return v(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(n),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(n,(l,c)=&gt;{if(l.match(/^bytes(\d*)/))return G(ut(c));if(l.match(/^u?int/))return $(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return v(typeof c=="string","invalid string","value",c),c}v(!1,"unsupported type","type",l)})}}};Ei=new WeakMap,on=new WeakMap,pr=new WeakMap,Do=new WeakSet,Uf=function(t){{const r=ha(t);if(r)return r}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const r=e[1],i=this.getEncoder(r);return o=&gt;{v(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return d(this,on).has(r)&amp;&amp;(a=a.map(Tt)),Tt(Ut(a))}}const n=this.types[t];if(n){const r=vs(d(this,on).get(t));return i=&gt;{const o=n.map(({name:a,type:l})=&gt;{const c=this.getEncoder(l)(i[a]);return d(this,on).has(l)?Tt(c):c});return o.unshift(r),Ut(o)}}v(!1,`unknown type: ${t}`,"type",t)};let Oo=we;function Xt(s){const t=new Set;return s.forEach(e=&gt;t.add(e)),Object.freeze(t)}const Xg="external public payable",qg=Xt(Xg.split(" ")),Ff="constant external internal payable private public pure view",t0=Xt(Ff.split(" ")),Df="constructor error event fallback function receive struct",Mf=Xt(Df.split(" ")),Hf="calldata memory storage payable indexed",e0=Xt(Hf.split(" ")),n0="tuple returns",s0=[Df,Hf,n0,Ff].join(" "),r0=Xt(s0.split(" ")),i0={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},o0=new RegExp("^(\\s*)"),a0=new RegExp("^([0-9]+)"),l0=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Gf=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),$f=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ht,Se,ki,Fa;const Mo=class Mo{constructor(t){P(this,ki);P(this,Ht,void 0);P(this,Se,void 0);m(this,Ht,0),m(this,Se,t.slice())}get offset(){return d(this,Ht)}get length(){return d(this,Se).length-d(this,Ht)}clone(){return new Mo(d(this,Se))}reset(){m(this,Ht,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=R(this,ki,Fa).call(this,d(this,Ht)+1,t.match+1);return m(this,Ht,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;d(this,Ht)&lt;t.match-1;){const n=this.peek().linkNext;e.push(R(this,ki,Fa).call(this,d(this,Ht)+1,n)),m(this,Ht,n)}return m(this,Ht,t.match+1),e}peek(){if(d(this,Ht)&gt;=d(this,Se).length)throw new Error("out-of-bounds");return d(this,Se)[d(this,Ht)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&amp;&amp;t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return Hr(this,Ht)._++,t}toString(){const t=[];for(let e=d(this,Ht);e&lt;d(this,Se).length;e++){const n=d(this,Se)[e];t.push(`${n.type}:${n.text}`)}return`&lt;TokenString ${t.join(" ")}&gt;`}};Ht=new WeakMap,Se=new WeakMap,ki=new WeakSet,Fa=function(t=0,e=0){return new Mo(d(this,Se).slice(t,e).map(n=&gt;Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let Re=Mo;function jn(s){const t=[],e=o=&gt;{const a=i&lt;s.length?JSON.stringify(s[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],r=[],i=0;for(;i&lt;s.length;){let o=s.substring(i),a=o.match(o0);a&amp;&amp;(i+=a[1].length,o=s.substring(i));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let c=i0[o[0]]||"";if(c){if(l.type=c,l.text=o[0],i++,c==="OPEN_PAREN")n.push(t.length-1),r.push(t.length-1);else if(c=="CLOSE_PAREN")n.length===0&amp;&amp;e("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1;else if(c==="COMMA")l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1,r.push(t.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length&gt;0&amp;&amp;t[t.length-1].type==="NUMBER"){const f=t.pop().text;u=f+u,t[t.length-1].value=it(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(a=o.match(l0),a){if(l.text=a[1],i+=l.text.length,r0.has(l.text)){l.type="KEYWORD";continue}if(l.text.match($f)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(a0),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Re(t.map(o=&gt;Object.freeze(o)))}function vc(s,t){let e=[];for(const n in t.keys())s.has(n)&amp;&amp;e.push(n);if(e.length&gt;1)throw new Error(`conflicting types: ${e.join(", ")}`)}function Yo(s,t){if(t.peekKeyword(Mf)){const e=t.pop().text;if(e!==s)throw new Error(`expected ${s}, got ${e}`)}return t.popType("ID")}function yn(s,t){const e=new Set;for(;;){const n=s.peekType("KEYWORD");if(n==null||t&amp;&amp;!t.has(n))break;if(s.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function Qf(s){let t=yn(s,t0);return vc(t,Xt("constant payable nonpayable".split(" "))),vc(t,Xt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function gn(s,t){return s.popParams().map(e=&gt;$t.from(e,t))}function Vf(s){if(s.peekType("AT")){if(s.pop(),s.peekType("NUMBER"))return $(s.pop().text);throw new Error("invalid gas")}return null}function Es(s){if(s.length)throw new Error(`unexpected tokens: ${s.toString()}`)}const c0=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ec(s){const t=s.match($f);if(v(t,"invalid type","type",s),s==="uint")return"uint256";if(s==="int")return"int256";if(t[2]){const e=parseInt(t[2]);v(e!==0&amp;&amp;e&lt;=32,"invalid bytes length","type",s)}else if(t[3]){const e=parseInt(t[3]);v(e!==0&amp;&amp;e&lt;=256&amp;&amp;e%8===0,"invalid numeric width","type",s)}return s}const Nt={},oe=Symbol.for("_ethers_internal"),kc="_ParamTypeInternal",Cc="_ErrorInternal",Pc="_EventInternal",xc="_ConstructorInternal",Ic="_FallbackInternal",Nc="_FunctionInternal",Tc="_StructInternal";var gr,fo;const Ae=class Ae{constructor(t,e,n,r,i,o,a,l){P(this,gr);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(Vo(t,Nt,"ParamType"),Object.defineProperty(this,oe,{value:kc}),o&amp;&amp;(o=Object.freeze(o.slice())),r==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(r==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");V(this,{name:e,type:n,baseType:r,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const r={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&amp;&amp;(r.indexed=this.indexed),this.isTuple()&amp;&amp;(r.components=this.components.map(i=&gt;JSON.parse(i.format(t)))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&amp;&amp;(e+=this.type),e+="("+this.components.map(n=&gt;n.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&amp;&amp;(this.indexed===!0&amp;&amp;(e+=" indexed"),t==="full"&amp;&amp;this.name&amp;&amp;(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(r=&gt;n.arrayChildren.walk(r,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((r,i)=&gt;n.components[i].walk(r,e))}return e(this.type,t)}async walkAsync(t,e){const n=[],r=[t];return R(this,gr,fo).call(this,n,t,e,i=&gt;{r[0]=i}),n.length&amp;&amp;await Promise.all(n),r[0]}static from(t,e){if(Ae.isParamType(t))return t;if(typeof t=="string")try{return Ae.from(jn(t),e)}catch{v(!1,"invalid param type","obj",t)}else if(t instanceof Re){let a="",l="",c=null;yn(t,Xt(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(l="tuple",c=t.popParams().map(A=&gt;Ae.from(A)),a=`tuple(${c.map(A=&gt;A.format()).join(",")})`):(a=Ec(t.popType("TYPE")),l=a);let u=null,f=null;for(;t.length&amp;&amp;t.peekType("BRACKET");){const A=t.pop();u=new Ae(Nt,"",a,l,null,c,f,u),f=A.value,a+=A.text,l="array",c=null}let h=null;if(yn(t,e0).has("indexed")){if(!e)throw new Error("");h=!0}const y=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Ae(Nt,y,a,l,h,c,f,u)}const n=t.name;v(!n||typeof n=="string"&amp;&amp;n.match(Gf),"invalid name","obj.name",n);let r=t.indexed;r!=null&amp;&amp;(v(e,"parameter cannot be indexed","obj.indexed",t.indexed),r=!!r);let i=t.type,o=i.match(c0);if(o){const a=parseInt(o[2]||"-1"),l=Ae.from({type:o[1],components:t.components});return new Ae(Nt,n||"",i,"array",r,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=t.components!=null?t.components.map(c=&gt;Ae.from(c)):null;return new Ae(Nt,n||"",i,"tuple",r,a,null,null)}return i=Ec(t.type),new Ae(Nt,n||"",i,i,r,null,null,null)}static isParamType(t){return t&amp;&amp;t[oe]===kc}};gr=new WeakSet,fo=function(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((l,c)=&gt;{var u;R(u=o,gr,fo).call(u,t,l,n,f=&gt;{a[c]=f})}),r(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(l=&gt;{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in e))throw new Error(`missing value for component ${l.name}`);return e[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=&gt;{var u;R(u=o[c],gr,fo).call(u,t,l,n,f=&gt;{a[c]=f})}),r(a);return}const i=n(this.type,e);i.then?t.push(async function(){r(await i)}()):r(i)};let $t=Ae;class ks{constructor(t,e,n){k(this,"type");k(this,"inputs");Vo(t,Nt,"Fragment"),n=Object.freeze(n.slice()),V(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{ks.from(JSON.parse(t))}catch{}return ks.from(jn(t))}if(t instanceof Re)switch(t.peekKeyword(Mf)){case"constructor":return dn.from(t);case"error":return se.from(t);case"event":return ze.from(t);case"fallback":case"receive":return Xe.from(t);case"function":return Je.from(t);case"struct":return ws.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return dn.from(t);case"error":return se.from(t);case"event":return ze.from(t);case"fallback":case"receive":return Xe.from(t);case"function":return Je.from(t);case"struct":return ws.from(t)}T(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}v(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return dn.isFragment(t)}static isError(t){return se.isFragment(t)}static isEvent(t){return ze.isFragment(t)}static isFunction(t){return Je.isFragment(t)}static isStruct(t){return ws.isFragment(t)}}class Zo extends ks{constructor(e,n,r,i){super(e,n,i);k(this,"name");v(typeof r=="string"&amp;&amp;r.match(Gf),"invalid identifier","name",r),i=Object.freeze(i.slice()),V(this,{name:r})}}function mi(s,t){return"("+t.map(e=&gt;e.format(s)).join(s==="full"?", ":",")+")"}class se extends Zo{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,oe,{value:Cc})}get selector(){return vs(this.format("sighash")).substring(0,10)}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=&gt;JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&amp;&amp;e.push("error"),e.push(this.name+mi(t,this.inputs)),e.join(" ")}static from(t){if(se.isFragment(t))return t;if(typeof t=="string")return se.from(jn(t));if(t instanceof Re){const e=Yo("error",t),n=gn(t);return Es(t),new se(Nt,e,n)}return new se(Nt,t.name,t.inputs?t.inputs.map($t.from):[])}static isFragment(t){return t&amp;&amp;t[oe]===Cc}}class ze extends Zo{constructor(e,n,r,i){super(e,"event",n,r);k(this,"anonymous");Object.defineProperty(this,oe,{value:Pc}),V(this,{anonymous:i})}get topicHash(){return vs(this.format("sighash"))}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&amp;&amp;n.push("event"),n.push(this.name+mi(e,this.inputs)),e!=="sighash"&amp;&amp;this.anonymous&amp;&amp;n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=&gt;$t.from(i)),new ze(Nt,e,n,!1).topicHash}static from(e){if(ze.isFragment(e))return e;if(typeof e=="string")try{return ze.from(jn(e))}catch{v(!1,"invalid event fragment","obj",e)}else if(e instanceof Re){const n=Yo("event",e),r=gn(e,!0),i=!!yn(e,Xt(["anonymous"])).has("anonymous");return Es(e),new ze(Nt,n,r,i)}return new ze(Nt,e.name,e.inputs?e.inputs.map(n=&gt;$t.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&amp;&amp;e[oe]===Pc}}class dn extends ks{constructor(e,n,r,i,o){super(e,n,r);k(this,"payable");k(this,"gas");Object.defineProperty(this,oe,{value:xc}),V(this,{payable:i,gas:o})}format(e){if(T(e!=null&amp;&amp;e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[`constructor${mi(e,this.inputs)}`];return n.push(this.payable?"payable":"nonpayable"),this.gas!=null&amp;&amp;n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(dn.isFragment(e))return e;if(typeof e=="string")try{return dn.from(jn(e))}catch{v(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Re){yn(e,Xt(["constructor"]));const n=gn(e),r=!!yn(e,qg).has("payable"),i=Vf(e);return Es(e),new dn(Nt,"constructor",n,r,i)}return new dn(Nt,"constructor",e.inputs?e.inputs.map($t.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[oe]===xc}}class Xe extends ks{constructor(e,n,r){super(e,"fallback",n);k(this,"payable");Object.defineProperty(this,oe,{value:Ic}),V(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(Xe.isFragment(e))return e;if(typeof e=="string")try{return Xe.from(jn(e))}catch{v(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Re){const n=e.toString(),r=e.peekKeyword(Xt(["fallback","receive"]));if(v(r,"type must be fallback or receive","obj",n),e.popKeyword(Xt(["fallback","receive"]))==="receive"){const l=gn(e);return v(l.length===0,"receive cannot have arguments","obj.inputs",l),yn(e,Xt(["payable"])),Es(e),new Xe(Nt,[],!0)}let o=gn(e);o.length?v(o.length===1&amp;&amp;o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=&gt;l.format("minimal")).join(", ")):o=[$t.from("bytes")];const a=Qf(e);if(v(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),yn(e,Xt(["returns"])).has("returns")){const l=gn(e);v(l.length===1&amp;&amp;l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=&gt;c.format("minimal")).join(", "))}return Es(e),new Xe(Nt,o,a==="payable")}if(e.type==="receive")return new Xe(Nt,[],!0);if(e.type==="fallback"){const n=[$t.from("bytes")],r=e.stateMutability==="payable";return new Xe(Nt,n,r)}v(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&amp;&amp;e[oe]===Ic}}class Je extends Zo{constructor(e,n,r,i,o,a){super(e,"function",n,i);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,oe,{value:Nc}),o=Object.freeze(o.slice()),V(this,{constant:r==="view"||r==="pure",gas:a,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return vs(this.format("sighash")).substring(0,10)}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e))),outputs:this.outputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&amp;&amp;n.push("function"),n.push(this.name+mi(e,this.inputs)),e!=="sighash"&amp;&amp;(this.stateMutability!=="nonpayable"&amp;&amp;n.push(this.stateMutability),this.outputs&amp;&amp;this.outputs.length&amp;&amp;(n.push("returns"),n.push(mi(e,this.outputs))),this.gas!=null&amp;&amp;n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=&gt;$t.from(i)),new Je(Nt,e,"view",n,[],null).selector}static from(e){if(Je.isFragment(e))return e;if(typeof e=="string")try{return Je.from(jn(e))}catch{v(!1,"invalid function fragment","obj",e)}else if(e instanceof Re){const r=Yo("function",e),i=gn(e),o=Qf(e);let a=[];yn(e,Xt(["returns"])).has("returns")&amp;&amp;(a=gn(e));const l=Vf(e);return Es(e),new Je(Nt,r,o,i,a,l)}let n=e.stateMutability;return n==null&amp;&amp;(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(n="nonpayable"))):typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(n="nonpayable")),new Je(Nt,e.name,n,e.inputs?e.inputs.map($t.from):[],e.outputs?e.outputs.map($t.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[oe]===Nc}}class ws extends Zo{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,oe,{value:Tc})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return ws.from(jn(t))}catch{v(!1,"invalid struct fragment","obj",t)}else if(t instanceof Re){const e=Yo("struct",t),n=gn(t);return Es(t),new ws(Nt,e,n)}return new ws(Nt,t.name,t.inputs?t.inputs.map($t.from):[])}static isFragment(t){return t&amp;&amp;t[oe]===Tc}}const Ue=new Map;Ue.set(0,"GENERIC_PANIC");Ue.set(1,"ASSERT_FALSE");Ue.set(17,"OVERFLOW");Ue.set(18,"DIVIDE_BY_ZERO");Ue.set(33,"ENUM_RANGE_ERROR");Ue.set(34,"BAD_STORAGE_DATA");Ue.set(49,"STACK_UNDERFLOW");Ue.set(50,"ARRAY_RANGE_ERROR");Ue.set(65,"OUT_OF_MEMORY");Ue.set(81,"UNINITIALIZED_FUNCTION_CALL");const u0=new RegExp(/^bytes([0-9]*)$/),f0=new RegExp(/^(u?int)([0-9]*)$/);let da=null;function h0(s,t,e,n){let r="missing revert data",i=null;const o=null;let a=null;if(e){r="execution reverted";const c=ut(e);if(e=G(e),c.length===0)r+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(G(c.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},r+=`: ${JSON.stringify(i)}`}catch{r+=" (could not decode reason; invalid string data)"}else if(G(c.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Ue.get(u)||"UNKNOWN"}(${u})`,r+=`: ${i}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}const l={to:t.to?pt(t.to):null,data:t.data||"0x"};return t.from&amp;&amp;(l.from=pt(t.from)),Dt(r,"CALL_EXCEPTION",{action:s,data:e,reason:i,transaction:l,invocation:o,revert:a})}var In,Ls;const Ho=class Ho{constructor(){P(this,In)}getDefaultValue(t){const e=t.map(r=&gt;R(this,In,Ls).call(this,$t.from(r)));return new io(e,"_").defaultValue()}encode(t,e){Iu(e.length,t.length,"types/values length mismatch");const n=t.map(o=&gt;R(this,In,Ls).call(this,$t.from(o))),r=new io(n,"_"),i=new Ia;return r.encode(i,e),i.data}decode(t,e,n){const r=t.map(o=&gt;R(this,In,Ls).call(this,$t.from(o)));return new io(r,"_").decode(new Na(e,n))}static defaultAbiCoder(){return da==null&amp;&amp;(da=new Ho),da}static getBuiltinCallException(t,e,n){return h0(t,e,n,Ho.defaultAbiCoder())}};In=new WeakSet,Ls=function(t){if(t.isArray())return new Up(R(this,In,Ls).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new io(t.components.map(n=&gt;R(this,In,Ls).call(this,n)),t.name);switch(t.baseType){case"address":return new Lp(t.name);case"bool":return new Fp(t.name);case"string":return new Jp(t.name);case"bytes":return new Dp(t.name);case"":return new Gp(t.name)}let e=t.type.match(f0);if(e){let n=parseInt(e[2]||"256");return v(n!==0&amp;&amp;n&lt;=256&amp;&amp;n%8===0,"invalid "+e[1]+" bit length","param",t),new zp(n/8,e[1]==="int",t.name)}if(e=t.type.match(u0),e){let n=parseInt(e[1]);return v(n!==0&amp;&amp;n&lt;=32,"invalid bytes length","param",t),new Mp(n,t.name)}v(!1,"invalid type","type",t.type)};let yi=Ho;class d0{constructor(t,e,n){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const r=t.name,i=t.format();V(this,{fragment:t,name:r,signature:i,topic:e,args:n})}}class p0{constructor(t,e,n,r){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const i=t.name,o=t.format();V(this,{fragment:t,name:i,args:n,signature:o,selector:e,value:r})}}class g0{constructor(t,e,n){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const r=t.name,i=t.format();V(this,{fragment:t,name:r,args:n,signature:i,selector:e})}}class Sc{constructor(t){k(this,"hash");k(this,"_isIndexed");V(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&amp;&amp;t._isIndexed)}}const Bc={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Oc={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:s=&gt;`reverted with reason string ${JSON.stringify(s)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:s=&gt;{let t="unknown panic code";return s&gt;=0&amp;&amp;s&lt;=255&amp;&amp;Bc[s.toString()]&amp;&amp;(t=Bc[s.toString()]),`reverted with panic code 0x${s.toString(16)} (${t})`}}};var Me,He,Ge,Vt,mr,ho,yr,po;const Ms=class Ms{constructor(t){P(this,mr);P(this,yr);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");P(this,Me,void 0);P(this,He,void 0);P(this,Ge,void 0);P(this,Vt,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,m(this,Ge,new Map),m(this,Me,new Map),m(this,He,new Map);const n=[];for(const o of e)try{n.push(ks.from(o))}catch(a){console.log("EE",a)}V(this,{fragments:Object.freeze(n)});let r=null,i=!1;m(this,Vt,this.getAbiCoder()),this.fragments.forEach((o,a)=&gt;{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}V(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(v(!r||o.payable!==r.payable,"conflicting fallback fragments",`fragments[${a}]`,o),r=o,i=r.payable);return;case"function":l=d(this,Ge);break;case"event":l=d(this,He);break;case"error":l=d(this,Me);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||V(this,{deploy:dn.from("constructor()")}),V(this,{fallback:r,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(r=&gt;r.format(e))}formatJson(){const t=this.fragments.map(e=&gt;e.format("json"));return JSON.stringify(t.map(e=&gt;JSON.parse(e)))}getAbiCoder(){return yi.defaultAbiCoder()}getFunctionName(t){const e=R(this,mr,ho).call(this,t,null,!1);return v(e,"no matching function","key",t),e.name}hasFunction(t){return!!R(this,mr,ho).call(this,t,null,!1)}getFunction(t,e){return R(this,mr,ho).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(d(this,Ge).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,Ge).get(r),n)}}getEventName(t){const e=R(this,yr,po).call(this,t,null,!1);return v(e,"no matching event","key",t),e.name}hasEvent(t){return!!R(this,yr,po).call(this,t,null,!1)}getEvent(t,e){return R(this,yr,po).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(d(this,He).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,He).get(r),n)}}getError(t,e){if(St(t)){const r=t.toLowerCase();if(Oc[r])return se.from(Oc[r].signature);for(const i of d(this,Me).values())if(r===i.selector)return i;return null}if(t.indexOf("(")===-1){const r=[];for(const[i,o]of d(this,Me))i.split("(")[0]===t&amp;&amp;r.push(o);if(r.length===0)return t==="Error"?se.from("error Error(string)"):t==="Panic"?se.from("error Panic(uint256)"):null;if(r.length&gt;1){const i=r.map(o=&gt;JSON.stringify(o.format())).join(", ");v(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return r[0]}if(t=se.from(t).format(),t==="Error(string)")return se.from("error Error(string)");if(t==="Panic(uint256)")return se.from("error Panic(uint256)");const n=d(this,Me).get(t);return n||null}forEachError(t){const e=Array.from(d(this,Me).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,Me).get(r),n)}}_decodeParams(t,e){return d(this,Vt).decode(t,e)}_encodeParams(t,e){return d(this,Vt).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);v(n,"unknown error","fragment",t),t=n}return v(Ot(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Ot(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);v(n,"unknown error","fragment",t),t=n}return Ut([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);v(n,"unknown function","fragment",t),t=n}return v(Ot(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Ot(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);v(n,"unknown function","fragment",t),t=n}return Ut([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);v(i,"unknown function","fragment",t),t=i}let n="invalid length for result data";const r=re(e);if(r.length%32===0)try{return d(this,Vt).decode(t.outputs,r)}catch{n="could not decode result data"}T(!1,n,"BAD_DATA",{value:G(r),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=ut(t,"data"),r=yi.getBuiltinCallException("call",e,n),i="execution reverted (unknown custom error)";if(r.message.startsWith(i)){const a=G(n.slice(0,4)),l=this.getError(a);if(l)try{const c=d(this,Vt).decode(l.inputs,n.slice(4));r.revert={name:l.name,signature:l.format(),args:c},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&amp;&amp;(r.invocation={method:o.name,signature:o.signature,args:o.args}),r}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);v(n,"unknown function","fragment",t),t=n}return G(d(this,Vt).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);v(i,"unknown event","eventFragment",t),t=i}T(e.length&lt;=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const r=(i,o)=&gt;i.type==="string"?vs(o):i.type==="bytes"?Tt(G(o)):(i.type==="bool"&amp;&amp;typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Qn(o):i.type.match(/^bytes/)?o=Qh(o,32):i.type==="address"&amp;&amp;d(this,Vt).encode(["address"],[o]),bs(G(o),32));for(e.forEach((i,o)=&gt;{const a=t.inputs[o];if(!a.indexed){v(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?v(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(l=&gt;r(a,l))):n.push(r(a,i))});n.length&amp;&amp;n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);v(o,"unknown event","eventFragment",t),t=o}const n=[],r=[],i=[];return t.anonymous||n.push(t.topicHash),v(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=&gt;{const l=e[a];if(o.indexed)if(o.type==="string")n.push(vs(l));else if(o.type==="bytes")n.push(Tt(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(d(this,Vt).encode([o.type],[l]))}else r.push(o),i.push(l)}),{data:d(this,Vt).encode(r,i),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const g=this.getEvent(t);v(g,"unknown event","eventFragment",t),t=g}if(n!=null&amp;&amp;!t.anonymous){const g=t.topicHash;v(St(n[0],32)&amp;&amp;n[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],o=[];t.inputs.forEach((g,y)=&gt;{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(r.push($t.from({type:"bytes32",name:g.name})),o.push(!0)):(r.push(g),o.push(!1)):(i.push(g),o.push(!1))});const a=n!=null?d(this,Vt).decode(r,Ut(n)):null,l=d(this,Vt).decode(i,e,!0),c=[],u=[];let f=0,h=0;return t.inputs.forEach((g,y)=&gt;{let A=null;if(g.indexed)if(a==null)A=new Sc(null);else if(o[y])A=new Sc(a[h++]);else try{A=a[h++]}catch(E){A=E}else try{A=l[f++]}catch(E){A=E}c.push(A),u.push(g.name||null)}),vo.fromItems(c,u)}parseTransaction(t){const e=ut(t.data,"tx.data"),n=$(t.value!=null?t.value:0,"tx.value"),r=this.getFunction(G(e.slice(0,4)));if(!r)return null;const i=d(this,Vt).decode(r.inputs,e.slice(4));return new p0(r,r.selector,i,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new d0(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=G(t),n=this.getError(Ot(e,0,4));if(!n)return null;const r=d(this,Vt).decode(n.inputs,Ot(e,4));return new g0(n,n.selector,r)}static from(t){return t instanceof Ms?t:typeof t=="string"?new Ms(JSON.parse(t)):typeof t.format=="function"?new Ms(t.format("json")):new Ms(t)}};Me=new WeakMap,He=new WeakMap,Ge=new WeakMap,Vt=new WeakMap,mr=new WeakSet,ho=function(t,e,n){if(St(t)){const i=t.toLowerCase();for(const o of d(this,Ge).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Ge))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){const o=e.length&gt;0?e[e.length-1]:null;let a=e.length,l=!0;jt.isTyped(o)&amp;&amp;o.type==="overrides"&amp;&amp;(l=!1,a--);for(let c=i.length-1;c&gt;=0;c--){const u=i[c].inputs.length;u!==a&amp;&amp;(!l||u!==a-1)&amp;&amp;i.splice(c,1)}for(let c=i.length-1;c&gt;=0;c--){const u=i[c].inputs;for(let f=0;f&lt;e.length;f++)if(jt.isTyped(e[f])){if(f&gt;=u.length){if(e[f].type==="overrides")continue;i.splice(c,1);break}if(e[f].type!==u[f].baseType){i.splice(c,1);break}}}}if(i.length===1&amp;&amp;e&amp;&amp;e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&amp;&amp;i.splice(0,1)}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;n){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");v(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,Ge).get(Je.from(t).format());return r||null},yr=new WeakSet,po=function(t,e,n){if(St(t)){const i=t.toLowerCase();for(const o of d(this,He).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,He))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){for(let o=i.length-1;o&gt;=0;o--)i[o].inputs.length&lt;e.length&amp;&amp;i.splice(o,1);for(let o=i.length-1;o&gt;=0;o--){const a=i[o].inputs;for(let l=0;l&lt;e.length;l++)if(jt.isTyped(e[l])&amp;&amp;e[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;n){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");v(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,He).get(ze.from(t).format());return r||null};let Da=Ms;const zf=BigInt(0);function ei(s){return s??null}function Kt(s){return s==null?null:s.toString()}class _c{constructor(t,e,n){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");V(this,{gasPrice:ei(t),maxFeePerGas:ei(e),maxPriorityFeePerGas:ei(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Kt(t),maxFeePerGas:Kt(e),maxPriorityFeePerGas:Kt(n)}}}function _o(s){const t={};s.to&amp;&amp;(t.to=s.to),s.from&amp;&amp;(t.from=s.from),s.data&amp;&amp;(t.data=G(s.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of e)!(r in s)||s[r]==null||(t[r]=$(s[r],`request.${r}`));const n="type,nonce".split(/,/);for(const r of n)!(r in s)||s[r]==null||(t[r]=it(s[r],`request.${r}`));return s.accessList&amp;&amp;(t.accessList=xs(s.accessList)),"blockTag"in s&amp;&amp;(t.blockTag=s.blockTag),"enableCcipRead"in s&amp;&amp;(t.enableCcipRead=!!s.enableCcipRead),"customData"in s&amp;&amp;(t.customData=s.customData),t}var an;class m0{constructor(t,e){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"miner");k(this,"extraData");k(this,"baseFeePerGas");P(this,an,void 0);m(this,an,t.transactions.map(n=&gt;typeof n!="string"?new wi(n,e):n)),V(this,{provider:e,hash:ei(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:ei(t.baseFeePerGas)})}get transactions(){return d(this,an).map(t=&gt;typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=d(this,an).slice();return t.length===0?[]:(T(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:r,gasUsed:i,hash:o,miner:a,nonce:l,number:c,parentHash:u,timestamp:f,transactions:h}=this;return{_type:"Block",baseFeePerGas:Kt(t),difficulty:Kt(e),extraData:n,gasLimit:Kt(r),gasUsed:Kt(i),hash:o,miner:a,nonce:l,number:c,parentHash:u,timestamp:f,transactions:h}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=&gt;t&lt;this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,an).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=d(this,an)[t];else{const n=t.toLowerCase();for(const r of d(this,an))if(typeof r=="string"){if(r!==n)continue;e=r;break}else{if(r.hash===n)continue;e=r;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;v(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return y0(this)}}an=new WeakMap;class Qi{constructor(t,e){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=e;const n=Object.freeze(t.topics.slice());V(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return T(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return T(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return T(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return w0(this)}}var Ci;class Jf{constructor(t,e){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"type");k(this,"status");k(this,"root");P(this,Ci,void 0);m(this,Ci,Object.freeze(t.logs.map(r=&gt;new Qi(r,e))));let n=zf;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&amp;&amp;(n=t.gasPrice),V(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:n,type:t.type,status:t.status,root:t.root})}get logs(){return d(this,Ci)}toJSON(){const{to:t,from:e,contractAddress:n,hash:r,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Kt(this.cumulativeGasUsed),from:e,gasPrice:Kt(this.gasPrice),gasUsed:Kt(this.gasUsed),hash:r,index:i,logs:c,logsBloom:l,root:f,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=&gt;t&lt;this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return jf(this)}reorderedEvent(t){return T(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Kf(this,t)}}Ci=new WeakMap;var Nn;const kl=class kl{constructor(t,e){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");P(this,Nn,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,m(this,Nn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:r,type:i,to:o,from:a,nonce:l,data:c,signature:u,accessList:f}=this;return{_type:"TransactionReceipt",accessList:f,blockNumber:t,blockHash:e,chainId:Kt(this.chainId),data:c,from:a,gasLimit:Kt(this.gasLimit),gasPrice:Kt(this.gasPrice),hash:r,maxFeePerGas:Kt(this.maxFeePerGas),maxPriorityFeePerGas:Kt(this.maxPriorityFeePerGas),nonce:l,signature:u,to:o,index:n,type:i,value:Kt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&amp;&amp;(t=n.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await Wt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=t??1,r=e??0;let i=d(this,Nn),o=-1,a=i===-1;const l=async()=&gt;{if(a)return null;const{blockNumber:h,nonce:g}=await Wt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g&lt;this.nonce){i=h;return}if(a)return null;const y=await this.getTransaction();if(!(y&amp;&amp;y.blockNumber!=null))for(o===-1&amp;&amp;(o=i-3,o&lt;d(this,Nn)&amp;&amp;(o=d(this,Nn)));o&lt;=h;){if(a)return null;const A=await this.provider.getBlock(o,!0);if(A==null)return;for(const E of A)if(E===this.hash)return;for(let E=0;E&lt;A.length;E++){const x=await A.getTransaction(E);if(x.from===this.from&amp;&amp;x.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(x.hash);if(C==null||h-C.blockNumber+1&lt;n)return;let I="replaced";x.data===this.data&amp;&amp;x.to===this.to&amp;&amp;x.value===this.value?I="repriced":x.data==="0x"&amp;&amp;x.from===x.to&amp;&amp;x.value===zf&amp;&amp;(I="cancelled"),T(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:x.replaceableTransaction(i),hash:x.hash,receipt:C})}}o++}},c=h=&gt;{if(h==null||h.status!==0)return h;T(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(u);if(u){if(await u.confirmations()&gt;=n)return c(u)}else if(await l(),n===0)return null;return await new Promise((h,g)=&gt;{const y=[],A=()=&gt;{y.forEach(x=&gt;x())};if(y.push(()=&gt;{a=!0}),r&gt;0){const x=setTimeout(()=&gt;{A(),g(Dt("wait for transaction timeout","TIMEOUT"))},r);y.push(()=&gt;{clearTimeout(x)})}const E=async x=&gt;{if(await x.confirmations()&gt;=n){A();try{h(c(x))}catch(C){g(C)}}};if(y.push(()=&gt;{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),i&gt;=0){const x=async()=&gt;{try{await l()}catch(C){if(Ce(C,"TRANSACTION_REPLACED")){A(),g(C);return}}a||this.provider.once("block",x)};y.push(()=&gt;{this.provider.off("block",x)}),this.provider.once("block",x)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return T(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),jf(this)}reorderedEvent(t){return T(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),T(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Kf(this,t)}replaceableTransaction(t){v(Number.isInteger(t)&amp;&amp;t&gt;=0,"invalid startBlock","startBlock",t);const e=new kl(this,this.provider);return m(e,Nn,t),e}};Nn=new WeakMap;let wi=kl;function y0(s){return{orphan:"drop-block",hash:s.hash,number:s.number}}function Kf(s,t){return{orphan:"reorder-transaction",tx:s,other:t}}function jf(s){return{orphan:"drop-transaction",tx:s}}function w0(s){return{orphan:"drop-log",log:{transactionHash:s.transactionHash,blockHash:s.blockHash,blockNumber:s.blockNumber,address:s.address,data:s.data,topics:Object.freeze(s.topics.slice()),index:s.index}}}class dl extends Qi{constructor(e,n,r){super(e,e.provider);k(this,"interface");k(this,"fragment");k(this,"args");const i=n.decodeEventLog(r,e.data,e.topics);V(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Wf extends Qi{constructor(e,n){super(e,e.provider);k(this,"error");V(this,{error:n})}}var wr;class A0 extends Jf{constructor(e,n,r){super(r,n);P(this,wr,void 0);m(this,wr,e)}get logs(){return super.logs.map(e=&gt;{const n=e.topics.length?d(this,wr).getEvent(e.topics[0]):null;if(n)try{return new dl(e,d(this,wr),n)}catch(r){return new Wf(e,r)}return e})}}wr=new WeakMap;var Pi;class pl extends wi{constructor(e,n,r){super(r,n);P(this,Pi,void 0);m(this,Pi,e)}async wait(e){const n=await super.wait(e);return n==null?null:new A0(d(this,Pi),this.provider,n)}}Pi=new WeakMap;class Yf extends Bu{constructor(e,n,r,i){super(e,n,r);k(this,"log");V(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class b0 extends Yf{constructor(t,e,n,r,i){super(t,e,n,new dl(i,t.interface,r));const o=t.interface.decodeEventLog(r,this.log.data,this.log.topics);V(this,{args:o,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Lc=BigInt(0);function Zf(s){return s&amp;&amp;typeof s.call=="function"}function Xf(s){return s&amp;&amp;typeof s.estimateGas=="function"}function gl(s){return s&amp;&amp;typeof s.resolveName=="function"}function qf(s){return s&amp;&amp;typeof s.sendTransaction=="function"}var xi;class v0{constructor(t,e,n){P(this,xi,void 0);k(this,"fragment");if(V(this,{fragment:e}),e.inputs.length&lt;n.length)throw new Error("too many arguments");const r=Cs(t.runner,"resolveName"),i=gl(r)?r:null;m(this,xi,async function(){const o=await Promise.all(e.inputs.map((a,l)=&gt;n[l]==null?null:a.walkAsync(n[l],(u,f)=&gt;u==="address"?Array.isArray(f)?Promise.all(f.map(h=&gt;ie(h,i))):ie(f,i):f)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return d(this,xi)}}xi=new WeakMap;function Cs(s,t){return s==null?null:typeof s[t]=="function"?s:s.provider&amp;&amp;typeof s.provider[t]=="function"?s.provider:null}function Zn(s){return s==null?null:s.provider||null}async function th(s,t){const e=jt.dereference(s,"overrides");v(typeof e=="object","invalid overrides parameter","overrides",s);const n=_o(e);return v(n.to==null||(t||[]).indexOf("to")&gt;=0,"cannot override to","overrides.to",n.to),v(n.data==null||(t||[]).indexOf("data")&gt;=0,"cannot override data","overrides.data",n.data),n.from&amp;&amp;(n.from=await ie(n.from)),n}async function E0(s,t,e){const n=Cs(s,"resolveName"),r=gl(n)?n:null;return await Promise.all(t.map((i,o)=&gt;i.walkAsync(e[o],(a,l)=&gt;(l=jt.dereference(l,a),a==="address"?ie(l,r):l))))}function k0(s){const t=async function(o){const a=await th(o,["data"]);a.to=await s.getAddress();const l=s.interface,c=$(a.value||Lc,"overrides.value")===Lc,u=(a.data||"0x")==="0x";l.fallback&amp;&amp;!l.fallback.payable&amp;&amp;l.receive&amp;&amp;!u&amp;&amp;!c&amp;&amp;v(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),v(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&amp;&amp;l.fallback.payable;return v(f||c,"cannot send value to non-payable fallback","overrides.value",a.value),v(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=Cs(s.runner,"call");T(Zf(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await t(o);try{return await a.call(l)}catch(c){throw sl(c)&amp;&amp;c.data?s.interface.makeError(c.data,l):c}},n=async function(o){const a=s.runner;T(qf(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await t(o)),c=Zn(s.runner);return new pl(s.interface,c,l)},r=async function(o){const a=Cs(s.runner,"estimateGas");return T(Xf(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},i=async o=&gt;await n(o);return V(i,{_contract:s,estimateGas:r,populateTransaction:t,send:n,staticCall:e}),i}function C0(s,t){const e=function(...c){const u=s.interface.getFunction(t,c);return T(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:c}}),u},n=async function(...c){const u=e(...c);let f={};if(u.inputs.length+1===c.length&amp;&amp;(f=await th(c.pop())),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await E0(s.runner,u.inputs,c);return Object.assign({},f,await Wt({to:s.getAddress(),data:s.interface.encodeFunctionData(u,h)}))},r=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},i=async function(...c){const u=s.runner;T(qf(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...c)),h=Zn(s.runner);return new pl(s.interface,h,f)},o=async function(...c){const u=Cs(s.runner,"estimateGas");return T(Xf(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...c))},a=async function(...c){const u=Cs(s.runner,"call");T(Zf(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...c);let h="0x";try{h=await u.call(f)}catch(y){throw sl(y)&amp;&amp;y.data?s.interface.makeError(y.data,f):y}const g=e(...c);return s.interface.decodeFunctionResult(g,h)},l=async(...c)=&gt;e(...c).constant?await r(...c):await i(...c);return V(l,{name:s.interface.getFunctionName(t),_contract:s,_key:t,getFragment:e,estimateGas:o,populateTransaction:n,send:i,staticCall:r,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const c=s.interface.getFunction(t);return T(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),c}}),l}function P0(s,t){const e=function(...r){const i=s.interface.getEvent(t,r);return T(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},n=function(...r){return new v0(s,e(...r),r)};return V(n,{name:s.interface.getEventName(t),_contract:s,_key:t,getFragment:e}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const r=s.interface.getEvent(t);return T(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}const Lo=Symbol.for("_ethersInternal_contract"),eh=new WeakMap;function x0(s,t){eh.set(s[Lo],t)}function le(s){return eh.get(s[Lo])}function I0(s){return s&amp;&amp;typeof s=="object"&amp;&amp;"getTopicFilter"in s&amp;&amp;typeof s.getTopicFilter=="function"&amp;&amp;s.fragment}async function ml(s,t){let e,n=null;if(Array.isArray(t)){const i=function(o){if(St(o,32))return o;const a=s.interface.getEvent(o);return v(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=&gt;o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?St(t,32)?e=[t]:(n=s.interface.getEvent(t),v(n,"unknown fragment","event",t),e=[n.topicHash]):I0(t)?e=await t.getTopicFilter():"fragment"in t?(n=t.fragment,e=[n.topicHash]):v(!1,"unknown event name","event",t);e=e.map(i=&gt;{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=&gt;a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const r=e.map(i=&gt;i==null?"null":Array.isArray(i)?i.join("|"):i).join("&amp;");return{fragment:n,tag:r,topics:e}}async function jr(s,t){const{subs:e}=le(s);return e.get((await ml(s,t)).tag)||null}async function Rc(s,t,e){const n=Zn(s.runner);T(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:r,tag:i,topics:o}=await ml(s,e),{addr:a,subs:l}=le(s);let c=l.get(i);if(!c){const f={address:a||s,topics:o},h=E=&gt;{let x=r;if(x==null)try{x=s.interface.getEvent(E.topics[0])}catch{}if(x){const C=x,I=r?s.interface.decodeEventLog(r,E.data,E.topics):[];Ha(s,e,I,O=&gt;new b0(s,O,e,C,E))}else Ha(s,e,[],C=&gt;new Yf(s,C,e,E))};let g=[];c={tag:i,listeners:[],start:()=&gt;{g.length||g.push(n.on(f,h))},stop:async()=&gt;{if(g.length==0)return;let E=g;g=[],await Promise.all(E),n.off(f,h)}},l.set(i,c)}return c}let Ma=Promise.resolve();async function N0(s,t,e,n){await Ma;const r=await jr(s,t);if(!r)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=&gt;{const l=Array.from(e);n&amp;&amp;l.push(n(a?null:o));try{o.call(s,...l)}catch{}return!a}),r.listeners.length===0&amp;&amp;(r.stop(),le(s).subs.delete(r.tag)),i&gt;0}async function Ha(s,t,e,n){try{await Ma}catch{}const r=N0(s,t,e,n);return Ma=r,await r}const oo=["then"];var Hy;const si=class si{constructor(t,e,n,r){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,Hy);k(this,"fallback");v(typeof t=="string"||rf(t),"invalid value for Contract target","target",t),n==null&amp;&amp;(n=null);const i=Da.from(e);V(this,{target:t,runner:n,interface:i}),Object.defineProperty(this,Lo,{value:{}});let o,a=null,l=null;if(r){const f=Zn(n);l=new pl(this.interface,f,r)}let c=new Map;if(typeof t=="string")if(St(t))a=t,o=Promise.resolve(t);else{const f=Cs(n,"resolveName");if(!gl(f))throw Dt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(t).then(h=&gt;{if(h==null)throw Dt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return le(this).addr=h,h})}else o=t.getAddress().then(f=&gt;{if(f==null)throw new Error("TODO");return le(this).addr=f,f});x0(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(f,h,g)=&gt;{if(typeof h=="symbol"||oo.indexOf(h)&gt;=0)return Reflect.get(f,h,g);try{return this.getEvent(h)}catch(y){if(!Ce(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=&gt;oo.indexOf(h)&gt;=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return V(this,{filters:u}),V(this,{fallback:i.receive||i.fallback?k0(this):null}),new Proxy(this,{get:(f,h,g)=&gt;{if(typeof h=="symbol"||h in f||oo.indexOf(h)&gt;=0)return Reflect.get(f,h,g);try{return f.getFunction(h)}catch(y){if(!Ce(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=&gt;typeof h=="symbol"||h in f||oo.indexOf(h)&gt;=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new si(this.target,this.interface,t)}attach(t){return new si(t,this.interface,this.runner)}async getAddress(){return await le(this).addrPromise}async getDeployedCode(){const t=Zn(this.runner);T(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Zn(this.runner);return T(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,i)=&gt;{const o=async()=&gt;{try{if(await this.getDeployedCode()!=null)return r(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return le(this).deployTx}getFunction(t){return typeof t!="string"&amp;&amp;(t=t.format()),C0(this,t)}getEvent(t){return typeof t!="string"&amp;&amp;(t=t.format()),P0(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){e==null&amp;&amp;(e=0),n==null&amp;&amp;(n="latest");const{addr:r,addrPromise:i}=le(this),o=r||await i,{fragment:a,topics:l}=await ml(this,t),c={address:o,topics:l,fromBlock:e,toBlock:n},u=Zn(this.runner);return T(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(f=&gt;{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new dl(f,this.interface,h)}catch(g){return new Wf(f,g)}return new Qi(f,u)})}async on(t,e){const n=await Rc(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await Rc(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await Ha(this,t,e,null)}async listenerCount(t){if(t){const r=await jr(this,t);return r?r.listeners.length:0}const{subs:e}=le(this);let n=0;for(const{listeners:r}of e.values())n+=r.length;return n}async listeners(t){if(t){const r=await jr(this,t);return r?r.listeners.map(({listener:i})=&gt;i):[]}const{subs:e}=le(this);let n=[];for(const{listeners:r}of e.values())n=n.concat(r.map(({listener:i})=&gt;i));return n}async off(t,e){const n=await jr(this,t);if(!n)return this;if(e){const r=n.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;n.listeners.splice(r,1)}return(e==null||n.listeners.length===0)&amp;&amp;(n.stop(),le(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await jr(this,t);if(!e)return this;e.stop(),le(this).subs.delete(e.tag)}else{const{subs:e}=le(this);for(const{tag:n,stop:r}of e.values())r(),e.delete(n)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends si{constructor(r,i=null){super(r,t,i)}}return e}static from(t,e,n){return n==null&amp;&amp;(n=null),new this(t,e,n)}};Hy=Lo;let Ga=si;function T0(){return Ga}class As extends T0(){}function pa(s){return s.match(/^ipfs:\/\/ipfs\//i)?s=s.substring(12):s.match(/^ipfs:\/\//i)?s=s.substring(7):v(!1,"unsupported IPFS format","link",s),`https://gateway.ipfs.io/ipfs/${s}`}class S0{constructor(t){k(this,"name");V(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const nh=new RegExp("^(ipfs)://(.*)$","i"),Uc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),nh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Tn,as,Sn,Rs,Go,sh;const Hs=class Hs{constructor(t,e,n){P(this,Sn);k(this,"provider");k(this,"address");k(this,"name");P(this,Tn,void 0);P(this,as,void 0);V(this,{provider:t,address:e,name:n}),m(this,Tn,null),m(this,as,new As(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return d(this,Tn)==null&amp;&amp;m(this,Tn,(async()=&gt;{try{return await d(this,as).supportsInterface("0x9061b923")}catch(t){if(Ce(t,"CALL_EXCEPTION"))return!1;throw m(this,Tn,null),t}})()),await d(this,Tn)}async getAddress(t){if(t==null&amp;&amp;(t=60),t===60)try{const i=await R(this,Sn,Rs).call(this,"addr(bytes32)");return i==null||i===_a?null:i}catch(i){if(Ce(i,"CALL_EXCEPTION"))return null;throw i}if(t&gt;=0&amp;&amp;t&lt;2147483648){let i=t+2147483648;const o=await R(this,Sn,Rs).call(this,"addr(bytes32,uint)",[i]);if(St(o,20))return pt(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof S0&amp;&amp;i.supportsCoinType(t)){e=i;break}if(e==null)return null;const n=await R(this,Sn,Rs).call(this,"addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const r=await e.decodeAddress(t,n);if(r!=null)return r;T(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await R(this,Sn,Rs).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await R(this,Sn,Rs).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const r=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${r}://${Kh("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&amp;&amp;n[1].length===64)return`bzz://${n[1]}`;T(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n&lt;Uc.length;n++){const r=e.match(Uc[n]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=pa(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const l=(r[2]||"").split("/");if(l.length!==2)return t.push({type:`!${i}caip`,value:r[2]||""}),{url:null,linkage:t};const c=l[1],u=new As(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const A=await u.ownerOf(c);if(a!==A)return t.push({type:"!owner",value:A}),{url:null,linkage:t};t.push({type:"owner",value:A})}else if(i==="erc1155"){const A=await u.balanceOf(a,c);if(!A)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:A.toString()})}let f=await u[o](c);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),i==="erc1155"&amp;&amp;(f=f.replace("{id}",Qn(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&amp;&amp;(f=pa(f)),t.push({type:"metadata-url",value:f});let h={};const g=await new mn(f).send();g.assertOk();try{h=g.bodyJson}catch{try{t.push({type:"!metadata",value:g.bodyText})}catch{const x=g.body;return x&amp;&amp;t.push({type:"!metadata",value:G(x)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(nh)==null)return t.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:y}),y=pa(y)}return t.push({type:"url",value:y}),{linkage:t,url:y}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return T(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async fromName(t,e){var r;let n=e;for(;;){if(n===""||n==="."||e!=="eth"&amp;&amp;n==="eth")return null;const i=await R(r=Hs,Go,sh).call(r,t,n);if(i!=null){const o=new Hs(t,i,e);return n!==e&amp;&amp;!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Tn=new WeakMap,as=new WeakMap,Sn=new WeakSet,Rs=async function(t,e){e=(e||[]).slice();const n=d(this,as).interface;e.unshift(Ua(this.name));let r=null;await this.supportsWildcard()&amp;&amp;(r=n.getFunction(t),T(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[Rg(this.name),n.encodeFunctionData(r,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await d(this,as)[t](...e);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Ce(i,"CALL_EXCEPTION"))throw i}return null},Go=new WeakSet,sh=async function(t,e){const n=await Hs.getEnsAddress(t);try{const i=await new As(n,["function resolver(bytes32) view returns (address)"],t).resolver(Ua(e),{enableCcipRead:!0});return i===_a?null:i}catch(r){throw r}return null},P(Hs,Go);let Ro=Hs;const Fc=BigInt(0);function It(s,t){return function(e){return e==null?t:s(e)}}function yl(s){return t=&gt;{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=&gt;s(e))}}function Vi(s,t){return e=&gt;{const n={};for(const r in s){let i=r;if(t&amp;&amp;r in t&amp;&amp;!(i in e)){for(const o of t[r])if(o in e){i=o;break}}try{const o=s[r](e[i]);o!==void 0&amp;&amp;(n[r]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";T(!1,`invalid value for value.${r} (${a})`,"BAD_DATA",{value:e})}}return n}}function B0(s){switch(s){case!0:case"true":return!0;case!1:case"false":return!1}v(!1,`invalid boolean; ${JSON.stringify(s)}`,"value",s)}function Rr(s){return v(St(s,!0),"invalid data","value",s),s}function Pe(s){return v(St(s,32),"invalid hash","value",s),s}const O0=Vi({address:pt,blockHash:Pe,blockNumber:it,data:Rr,index:it,removed:It(B0,!1),topics:yl(Pe),transactionHash:Pe,transactionIndex:it},{index:["logIndex"]});function _0(s){return O0(s)}const L0=Vi({hash:It(Pe),parentHash:Pe,number:it,timestamp:it,nonce:It(Rr),difficulty:$,gasLimit:$,gasUsed:$,miner:It(pt),extraData:Rr,baseFeePerGas:It($)});function R0(s){const t=L0(s);return t.transactions=s.transactions.map(e=&gt;typeof e=="string"?e:rh(e)),t}const U0=Vi({transactionIndex:it,blockNumber:it,transactionHash:Pe,address:pt,topics:yl(Pe),data:Rr,index:it,blockHash:Pe},{index:["logIndex"]});function F0(s){return U0(s)}const D0=Vi({to:It(pt,null),from:It(pt,null),contractAddress:It(pt,null),index:it,root:It(G),gasUsed:$,logsBloom:It(Rr),blockHash:Pe,hash:Pe,logs:yl(F0),blockNumber:it,cumulativeGasUsed:$,effectiveGasPrice:It($),status:It(it),type:It(it,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function M0(s){return D0(s)}function rh(s){s.to&amp;&amp;$(s.to)===Fc&amp;&amp;(s.to="0x0000000000000000000000000000000000000000");const t=Vi({hash:Pe,type:e=&gt;e==="0x"||e==null?0:it(e),accessList:It(xs,null),blockHash:It(Pe,null),blockNumber:It(it,null),transactionIndex:It(it,null),from:pt,gasPrice:It($),maxPriorityFeePerGas:It($),maxFeePerGas:It($),gasLimit:$,to:It(pt,null),value:$,nonce:it,data:Rr,creates:It(pt,null),chainId:It($,null)},{data:["input"],gasLimit:["gas"]})(s);if(t.to==null&amp;&amp;t.creates==null&amp;&amp;(t.creates=_p(t)),(s.type===1||s.type===2)&amp;&amp;s.accessList==null&amp;&amp;(t.accessList=[]),s.signature?t.signature=Le.from(s.signature):t.signature=Le.from(s),t.chainId==null){const e=t.signature.legacyChainId;e!=null&amp;&amp;(t.chainId=e)}return t.blockHash&amp;&amp;$(t.blockHash)===Fc&amp;&amp;(t.blockHash=null),t}const H0="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class zi{constructor(t){k(this,"name");V(this,{name:t})}clone(){return new zi(this.name)}}class Xo extends zi{constructor(e,n){e==null&amp;&amp;(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const r={effectiveBlock:e};function i(o,a){let l=(n||{})[o];l==null&amp;&amp;(l=a),v(typeof l=="number",`invalud value for ${o}`,"costs",n),r[o]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),V(this,r)}clone(){return new Xo(this.effectiveBlock,this)}}class qo extends zi{constructor(e,n){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");V(this,{address:e||H0,targetNetwork:n??1})}clone(){return new qo(this.address,this.targetNetwork)}}var Ii,Ni;class ih extends zi{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");P(this,Ii,void 0);P(this,Ni,void 0);m(this,Ii,e),m(this,Ni,n)}get url(){return d(this,Ii)}get processFunc(){return d(this,Ni)}clone(){return this}}Ii=new WeakMap,Ni=new WeakMap;const ga=new Map;var Ar,br,Bn;const Gs=class Gs{constructor(t,e){P(this,Ar,void 0);P(this,br,void 0);P(this,Bn,void 0);m(this,Ar,t),m(this,br,$(e)),m(this,Bn,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,Ar)}set name(t){m(this,Ar,t)}get chainId(){return d(this,br)}set chainId(t){m(this,br,$(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===$(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===$(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===$(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(d(this,Bn).values())}attachPlugin(t){if(d(this,Bn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Bn).set(t.name,t.clone()),this}getPlugin(t){return d(this,Bn).get(t)||null}getPlugins(t){return this.plugins.filter(e=&gt;e.name.split("#")[0]===t)}clone(){const t=new Gs(this.name,this.chainId);return this.plugins.forEach(e=&gt;{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Xo;let n=e.txBase;if(t.to==null&amp;&amp;(n+=e.txCreate),t.data)for(let r=2;r&lt;t.data.length;r+=2)t.data.substring(r,r+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const r=xs(t.accessList);for(const i in r)n+=e.txAccessListAddress+e.txAccessListStorageKey*r[i].storageKeys.length}return n}static from(t){if($0(),t==null)return Gs.from("mainnet");if(typeof t=="number"&amp;&amp;(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=ga.get(t);if(e)return e();if(typeof t=="bigint")return new Gs("unknown",t);v(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){v(typeof t.name=="string"&amp;&amp;typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Gs(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&amp;&amp;e.attachPlugin(new qo(t.ensAddress,t.ensNetwork)),e}v(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&amp;&amp;(t=BigInt(t));const n=ga.get(t);n&amp;&amp;v(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),ga.set(t,e)}};Ar=new WeakMap,br=new WeakMap,Bn=new WeakMap;let Ke=Gs;function Dc(s,t){const e=String(s);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${s}`);const n=e.split(".");if(n.length===1&amp;&amp;n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${s}`);for(;n[1].length&lt;t;)n[1]+="0";if(n[1].length&gt;9){let r=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||r++,n[1]=r.toString()}return BigInt(n[0]+n[1])}function Mc(s){return new ih(s,async(t,e,n)=&gt;{n.setHeader("User-Agent","ethers");let r;try{const[i,o]=await Promise.all([n.send(),t()]);r=i;const a=r.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Dc(a.maxFee,9),maxPriorityFeePerGas:Dc(a.maxPriorityFee,9)}}catch(i){T(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}})}function G0(s){return new ih("data:",async(t,e,n)=&gt;{const r=await t();if(r.maxFeePerGas==null||r.maxPriorityFeePerGas==null)return r;const i=r.maxFeePerGas-r.maxPriorityFeePerGas;return{gasPrice:r.gasPrice,maxFeePerGas:i+s,maxPriorityFeePerGas:s}})}let Hc=!1;function $0(){if(Hc)return;Hc=!0;function s(t,e,n){const r=function(){const i=new Ke(t,e);return n.ensNetwork!=null&amp;&amp;i.attachPlugin(new qo(null,n.ensNetwork)),i.attachPlugin(new Xo),(n.plugins||[]).forEach(o=&gt;{i.attachPlugin(o)}),i};Ke.register(t,r),Ke.register(e,r),n.altNames&amp;&amp;n.altNames.forEach(i=&gt;{Ke.register(i,r)})}s("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),s("ropsten",3,{ensNetwork:3}),s("rinkeby",4,{ensNetwork:4}),s("goerli",5,{ensNetwork:5}),s("kovan",42,{ensNetwork:42}),s("sepolia",11155111,{}),s("classic",61,{}),s("classicKotti",6,{}),s("arbitrum",42161,{ensNetwork:1}),s("arbitrum-goerli",421613,{}),s("bnb",56,{ensNetwork:1}),s("bnbt",97,{}),s("linea",59144,{ensNetwork:1}),s("linea-goerli",59140,{}),s("matic",137,{ensNetwork:1,plugins:[Mc("https://gasstation.polygon.technology/v2")]}),s("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Mc("https://gasstation-testnet.polygon.technology/v2")]}),s("optimism",10,{ensNetwork:1,plugins:[G0(BigInt("1000000"))]}),s("optimism-goerli",420,{}),s("xdai",100,{ensNetwork:1})}function $a(s){return JSON.parse(JSON.stringify(s))}var ln,ve,On,$e,vr,go;class Q0{constructor(t){P(this,vr);P(this,ln,void 0);P(this,ve,void 0);P(this,On,void 0);P(this,$e,void 0);m(this,ln,t),m(this,ve,null),m(this,On,4e3),m(this,$e,-2)}get pollingInterval(){return d(this,On)}set pollingInterval(t){m(this,On,t)}start(){d(this,ve)||(m(this,ve,d(this,ln)._setTimeout(R(this,vr,go).bind(this),d(this,On))),R(this,vr,go).call(this))}stop(){d(this,ve)&amp;&amp;(d(this,ln)._clearTimeout(d(this,ve)),m(this,ve,null))}pause(t){this.stop(),t&amp;&amp;m(this,$e,-2)}resume(){this.start()}}ln=new WeakMap,ve=new WeakMap,On=new WeakMap,$e=new WeakMap,vr=new WeakSet,go=async function(){try{const t=await d(this,ln).getBlockNumber();if(d(this,$e)===-2){m(this,$e,t);return}if(t!==d(this,$e)){for(let e=d(this,$e)+1;e&lt;=t;e++){if(d(this,ve)==null)return;await d(this,ln).emit("block",e)}m(this,$e,t)}}catch{}d(this,ve)!=null&amp;&amp;m(this,ve,d(this,ln)._setTimeout(R(this,vr,go).bind(this),d(this,On)))};var ls,cs,_n;class oh{constructor(t){P(this,ls,void 0);P(this,cs,void 0);P(this,_n,void 0);m(this,ls,t),m(this,_n,!1),m(this,cs,e=&gt;{this._poll(e,d(this,ls))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){d(this,_n)||(m(this,_n,!0),d(this,cs).call(this,-2),d(this,ls).on("block",d(this,cs)))}stop(){d(this,_n)&amp;&amp;(m(this,_n,!1),d(this,ls).off("block",d(this,cs)))}pause(t){this.stop()}resume(){this.start()}}ls=new WeakMap,cs=new WeakMap,_n=new WeakMap;var $o;class V0 extends oh{constructor(e,n){super(e);P(this,$o,void 0);m(this,$o,$a(n))}async _poll(e,n){throw new Error("@TODO")}}$o=new WeakMap;var Er;class z0 extends oh{constructor(e,n){super(e);P(this,Er,void 0);m(this,Er,n)}async _poll(e,n){const r=await n.getTransactionReceipt(d(this,Er));r&amp;&amp;n.emit(d(this,Er),r)}}Er=new WeakMap;var cn,kr,Cr,Ln,Ee,Qo,ah;class wl{constructor(t,e){P(this,Qo);P(this,cn,void 0);P(this,kr,void 0);P(this,Cr,void 0);P(this,Ln,void 0);P(this,Ee,void 0);m(this,cn,t),m(this,kr,$a(e)),m(this,Cr,R(this,Qo,ah).bind(this)),m(this,Ln,!1),m(this,Ee,-2)}start(){d(this,Ln)||(m(this,Ln,!0),d(this,Ee)===-2&amp;&amp;d(this,cn).getBlockNumber().then(t=&gt;{m(this,Ee,t)}),d(this,cn).on("block",d(this,Cr)))}stop(){d(this,Ln)&amp;&amp;(m(this,Ln,!1),d(this,cn).off("block",d(this,Cr)))}pause(t){this.stop(),t&amp;&amp;m(this,Ee,-2)}resume(){this.start()}}cn=new WeakMap,kr=new WeakMap,Cr=new WeakMap,Ln=new WeakMap,Ee=new WeakMap,Qo=new WeakSet,ah=async function(t){if(d(this,Ee)===-2)return;const e=$a(d(this,kr));e.fromBlock=d(this,Ee)+1,e.toBlock=t;const n=await d(this,cn).getLogs(e);if(n.length===0){d(this,Ee)&lt;t-60&amp;&amp;m(this,Ee,t-60);return}for(const r of n)d(this,cn).emit(d(this,kr),r),m(this,Ee,r.blockNumber)};const J0=BigInt(2),K0=10;function ao(s){return s&amp;&amp;typeof s.then=="function"}function mo(s,t){return s+":"+JSON.stringify(t,(e,n)=&gt;{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&amp;&amp;!Array.isArray(n)){const r=Object.keys(n);return r.sort(),r.reduce((i,o)=&gt;(i[o]=n[o],i),{})}return n})}class lh{constructor(t){k(this,"name");V(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function j0(s){return JSON.parse(JSON.stringify(s))}function Qa(s){return s=Array.from(new Set(s).values()),s.sort(),s}async function ma(s,t){if(s==null)throw new Error("invalid event");if(Array.isArray(s)&amp;&amp;(s={topics:s}),typeof s=="string")switch(s){case"block":case"pending":case"debug":case"error":case"network":return{type:s,tag:s}}if(St(s,32)){const e=s.toLowerCase();return{type:"transaction",tag:mo("tx",{hash:e}),hash:e}}if(s.orphan){const e=s;return{type:"orphan",tag:mo("orphan",e),filter:j0(e)}}if(s.address||s.topics){const e=s,n={topics:(e.topics||[]).map(r=&gt;r==null?null:Array.isArray(r)?Qa(r.map(i=&gt;i.toLowerCase())):r.toLowerCase())};if(e.address){const r=[],i=[],o=a=&gt;{St(a)?r.push(a):i.push((async()=&gt;{r.push(await ie(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&amp;&amp;await Promise.all(i),n.address=Qa(r.map(a=&gt;a.toLowerCase()))}return{filter:n,tag:mo("event",n),type:"event"}}v(!1,"unknown ProviderEvent","event",s)}function ya(){return new Date().getTime()}const W0={cacheTimeout:250,pollingInterval:4e3};var zt,Rn,Jt,Pr,fe,us,Un,un,Ti,ke,xr,Ir,te,ye,Si,Va,Bi,za,fs,Wr,Oi,Ja,hs,Yr,Nr,yo;class Y0{constructor(t,e){P(this,te);P(this,Si);P(this,Bi);P(this,fs);P(this,Oi);P(this,hs);P(this,Nr);P(this,zt,void 0);P(this,Rn,void 0);P(this,Jt,void 0);P(this,Pr,void 0);P(this,fe,void 0);P(this,us,void 0);P(this,Un,void 0);P(this,un,void 0);P(this,Ti,void 0);P(this,ke,void 0);P(this,xr,void 0);P(this,Ir,void 0);if(m(this,Ir,Object.assign({},W0,e||{})),t==="any")m(this,us,!0),m(this,fe,null);else if(t){const n=Ke.from(t);m(this,us,!1),m(this,fe,Promise.resolve(n)),setTimeout(()=&gt;{this.emit("network",n,null)},0)}else m(this,us,!1),m(this,fe,null);m(this,un,-1),m(this,Un,new Map),m(this,zt,new Map),m(this,Rn,new Map),m(this,Jt,null),m(this,Pr,!1),m(this,Ti,1),m(this,ke,new Map),m(this,xr,!1)}get pollingInterval(){return d(this,Ir).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,Rn).values())}attachPlugin(t){if(d(this,Rn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Rn).set(t.name,t.connect(this)),this}getPlugin(t){return d(this,Rn).get(t)||null}get disableCcipRead(){return d(this,xr)}set disableCcipRead(t){m(this,xr,!!t)}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const r=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a&lt;n.length;a++){const l=n[a],c=l.replace("{sender}",r).replace("{data}",i),u=new mn(c);l.indexOf("{data}")===-1&amp;&amp;(u.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error";const h=await u.send();try{const g=h.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:g}),g.data;g.message&amp;&amp;(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:g})}catch{}T(h.statusCode&lt;400||h.statusCode&gt;=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:l,errorMessage:f}}),o.push(f)}T(!1,`error encountered during CCIP fetch: ${o.map(a=&gt;JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:o}})}_wrapBlock(t,e){return new m0(R0(t),this)}_wrapLog(t,e){return new Qi(_0(t),this)}_wrapTransactionReceipt(t,e){return new Jf(M0(t),this)}_wrapTransactionResponse(t,e){return new wi(rh(t),this)}_detectNetwork(){T(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){T(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=it(await R(this,te,ye).call(this,{method:"getBlockNumber"}),"%response");return d(this,un)&gt;=0&amp;&amp;m(this,un,t),t}_getAddress(t){return ie(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(St(t))return St(t,32)?t:Ds(t);if(typeof t=="bigint"&amp;&amp;(t=it(t,"blockTag")),typeof t=="number")return t&gt;=0?Ds(t):d(this,un)&gt;=0?Ds(d(this,un)+t):this.getBlockNumber().then(e=&gt;Ds(e+t));v(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(l=&gt;l==null?null:Array.isArray(l)?Qa(l.map(c=&gt;c.toLowerCase())):l.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,r=(l,c,u)=&gt;{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(n&amp;&amp;(c!=null||u!=null))throw new Error("invalid filter");const h={};return f&amp;&amp;(h.address=f),e.length&amp;&amp;(h.topics=e),c&amp;&amp;(h.fromBlock=c),u&amp;&amp;(h.toBlock=u),n&amp;&amp;(h.blockHash=n),h};let i=[];if(t.address)if(Array.isArray(t.address))for(const l of t.address)i.push(this._getAddress(l));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&amp;&amp;(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&amp;&amp;(a=this._getBlockTag(t.toBlock)),i.filter(l=&gt;typeof l!="string").length||o!=null&amp;&amp;typeof o!="string"||a!=null&amp;&amp;typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=&gt;r(l[0],l[1],l[2])):r(i,o,a)}_getTransactionRequest(t){const e=_o(t),n=[];if(["to","from"].forEach(r=&gt;{if(e[r]==null)return;const i=ie(e[r]);ao(i)?n.push(async function(){e[r]=await i}()):e[r]=i}),e.blockTag!=null){const r=this._getBlockTag(e.blockTag);ao(r)?n.push(async function(){e.blockTag=await r}()):e.blockTag=r}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(d(this,fe)==null){const r=this._detectNetwork().then(i=&gt;(this.emit("network",i,null),i),i=&gt;{throw d(this,fe)===r&amp;&amp;m(this,fe,null),i});return m(this,fe,r),(await r).clone()}const t=d(this,fe),[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&amp;&amp;(d(this,us)?(this.emit("network",n,e),d(this,fe)===t&amp;&amp;m(this,fe,Promise.resolve(n))):T(!1,`network changed: ${e.chainId} =&gt; ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=&gt;{const{_block:r,gasPrice:i}=await Wt({_block:R(this,Oi,Ja).call(this,"latest",!1),gasPrice:(async()=&gt;{try{const c=await R(this,te,ye).call(this,{method:"getGasPrice"});return $(c,"%response")}catch{}return null})()});let o=null,a=null;const l=this._wrapBlock(r,t);return l&amp;&amp;l.baseFeePerGas&amp;&amp;(a=BigInt("1000000000"),o=l.baseFeePerGas*J0+a),new _c(i,o,a)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const r=new mn(n.url),i=await n.processFunc(e,this,r);return new _c(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return ao(e)&amp;&amp;(e=await e),$(await R(this,te,ye).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:n}=await Wt({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await R(this,Bi,za).call(this,R(this,Si,Va).call(this,e,n,t.enableCcipRead?0:-1))}async getBalance(t,e){return $(await R(this,fs,Wr).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return it(await R(this,fs,Wr).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return G(await R(this,fs,Wr).call(this,{method:"getCode"},t,e))}async getStorage(t,e,n){const r=$(e,"position");return G(await R(this,fs,Wr).call(this,{method:"getStorage",position:r},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:r}=await Wt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=Bo.from(t);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(e)}async getBlock(t,e){const{network:n,params:r}=await Wt({network:this.getNetwork(),params:R(this,Oi,Ja).call(this,t,!!e)});return r==null?null:this._wrapBlock(r,n)}async getTransaction(t){const{network:e,params:n}=await Wt({network:this.getNetwork(),params:R(this,te,ye).call(this,{method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await Wt({network:this.getNetwork(),params:R(this,te,ye).call(this,{method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&amp;&amp;n.effectiveGasPrice==null){const r=await R(this,te,ye).call(this,{method:"getTransaction",hash:t});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await Wt({network:this.getNetwork(),result:R(this,te,ye).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:G(e)}async getLogs(t){let e=this._getFilter(t);ao(e)&amp;&amp;(e=await e);const{network:n,params:r}=await Wt({network:this.getNetwork(),params:R(this,te,ye).call(this,{method:"getLogs",filter:e})});return r.map(i=&gt;this._wrapLog(i,n))}_getProvider(t){T(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Ro.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=pt(t);const e=Ua(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await Ro.getEnsAddress(this),i=await new As(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===_a)return null;const a=await new As(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(n){if(Ce(n,"BAD_DATA")&amp;&amp;n.value==="0x"||Ce(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const r=e??1;return r===0?this.getTransactionReceipt(t):new Promise(async(i,o)=&gt;{let a=null;const l=async c=&gt;{try{const u=await this.getTransactionReceipt(t);if(u!=null&amp;&amp;c-u.blockNumber+1&gt;=r){i(u),a&amp;&amp;(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};n!=null&amp;&amp;(a=setTimeout(()=&gt;{a!=null&amp;&amp;(a=null,this.off("block",l),o(Dt("timeout","TIMEOUT",{reason:"timeout"})))},n)),l(await this.getBlockNumber())})}async waitForBlock(t){T(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=d(this,ke).get(t);e&amp;&amp;(e.timer&amp;&amp;clearTimeout(e.timer),d(this,ke).delete(t))}_setTimeout(t,e){e==null&amp;&amp;(e=0);const n=Hr(this,Ti)._++,r=()=&gt;{d(this,ke).delete(n),t()};if(this.paused)d(this,ke).set(n,{timer:null,func:r,time:e});else{const i=setTimeout(r,e);d(this,ke).set(n,{timer:i,func:r,time:ya()})}return n}_forEachSubscriber(t){for(const e of d(this,zt).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new lh(t.type);case"block":{const e=new Q0(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new wl(this,t.filter);case"transaction":return new z0(this,t.hash);case"orphan":return new V0(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of d(this,zt).values())if(n.subscriber===t){n.started&amp;&amp;n.subscriber.stop(),n.subscriber=e,n.started&amp;&amp;e.start(),d(this,Jt)!=null&amp;&amp;e.pause(d(this,Jt));break}}async on(t,e){const n=await R(this,Nr,yo).call(this,t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,d(this,Jt)!=null&amp;&amp;n.subscriber.pause(d(this,Jt))),this}async once(t,e){const n=await R(this,Nr,yo).call(this,t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,d(this,Jt)!=null&amp;&amp;n.subscriber.pause(d(this,Jt))),this}async emit(t,...e){const n=await R(this,hs,Yr).call(this,t,e);if(!n||n.listeners.length===0)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=&gt;{const a=new Bu(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),n.listeners.length===0&amp;&amp;(n.started&amp;&amp;n.subscriber.stop(),d(this,zt).delete(n.tag)),r&gt;0}async listenerCount(t){if(t){const n=await R(this,hs,Yr).call(this,t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of d(this,zt).values())e+=n.length;return e}async listeners(t){if(t){const n=await R(this,hs,Yr).call(this,t);return n?n.listeners.map(({listener:r})=&gt;r):[]}let e=[];for(const{listeners:n}of d(this,zt).values())e=e.concat(n.map(({listener:r})=&gt;r));return e}async off(t,e){const n=await R(this,hs,Yr).call(this,t);if(!n)return this;if(e){const r=n.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;n.listeners.splice(r,1)}return(!e||n.listeners.length===0)&amp;&amp;(n.started&amp;&amp;n.subscriber.stop(),d(this,zt).delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:r}=await R(this,Nr,yo).call(this,t);n&amp;&amp;r.stop(),d(this,zt).delete(e)}else for(const[e,{started:n,subscriber:r}]of d(this,zt))n&amp;&amp;r.stop(),d(this,zt).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return d(this,Pr)}destroy(){this.removeAllListeners();for(const t of d(this,ke).keys())this._clearTimeout(t);m(this,Pr,!0)}get paused(){return d(this,Jt)!=null}set paused(t){!!t!==this.paused&amp;&amp;(this.paused?this.resume():this.pause(!1))}pause(t){if(m(this,un,-1),d(this,Jt)!=null){if(d(this,Jt)==!!t)return;T(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=&gt;e.pause(t)),m(this,Jt,!!t);for(const e of d(this,ke).values())e.timer&amp;&amp;clearTimeout(e.timer),e.time=ya()-e.time}resume(){if(d(this,Jt)!=null){this._forEachSubscriber(t=&gt;t.resume()),m(this,Jt,null);for(const t of d(this,ke).values()){let e=t.time;e&lt;0&amp;&amp;(e=0),t.time=ya(),setTimeout(t.func,e)}}}}zt=new WeakMap,Rn=new WeakMap,Jt=new WeakMap,Pr=new WeakMap,fe=new WeakMap,us=new WeakMap,Un=new WeakMap,un=new WeakMap,Ti=new WeakMap,ke=new WeakMap,xr=new WeakMap,Ir=new WeakMap,te=new WeakSet,ye=async function(t){const e=d(this,Ir).cacheTimeout;if(e&lt;0)return await this._perform(t);const n=mo(t.method,t);let r=d(this,Un).get(n);return r||(r=this._perform(t),d(this,Un).set(n,r),setTimeout(()=&gt;{d(this,Un).get(n)===r&amp;&amp;d(this,Un).delete(n)},e)),await r},Si=new WeakSet,Va=async function(t,e,n){T(n&lt;K0,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const r=_o(t);try{return G(await this._perform({method:"call",transaction:r,blockTag:e}))}catch(i){if(!this.disableCcipRead&amp;&amp;sl(i)&amp;&amp;i.data&amp;&amp;n&gt;=0&amp;&amp;e==="latest"&amp;&amp;r.to!=null&amp;&amp;Ot(i.data,0,4)==="0x556f1830"){const o=i.data,a=await ie(r.to,this);let l;try{l=em(Ot(i.data,4))}catch(f){T(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:o}})}T(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(r,l.calldata,l.urls);T(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:l.errorArgs}});const u={to:a,data:Ut([l.selector,tm([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await R(this,Si,Va).call(this,u,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},Bi=new WeakSet,za=async function(t){const{value:e}=await Wt({network:this.getNetwork(),value:t});return e},fs=new WeakSet,Wr=async function(t,e,n){let r=this._getAddress(e),i=this._getBlockTag(n);return(typeof r!="string"||typeof i!="string")&amp;&amp;([r,i]=await Promise.all([r,i])),await R(this,Bi,za).call(this,R(this,te,ye).call(this,Object.assign(t,{address:r,blockTag:i})))},Oi=new WeakSet,Ja=async function(t,e){if(St(t,32))return await R(this,te,ye).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&amp;&amp;(n=await n),await R(this,te,ye).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},hs=new WeakSet,Yr=async function(t,e){let n=await ma(t,this);return n.type==="event"&amp;&amp;e&amp;&amp;e.length&gt;0&amp;&amp;e[0].removed===!0&amp;&amp;(n=await ma({orphan:"drop-log",log:e[0]},this)),d(this,zt).get(n.tag)||null},Nr=new WeakSet,yo=async function(t){const e=await ma(t,this),n=e.tag;let r=d(this,zt).get(n);return r||(r={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,zt).set(n,r)),r};function Z0(s,t){try{const e=Ka(s,t);if(e)return il(e)}catch{}return null}function Ka(s,t){if(s==="0x")return null;try{const e=it(Ot(s,t,t+32)),n=it(Ot(s,e,e+32));return Ot(s,e+32,e+32+n)}catch{}return null}function Gc(s){const t=de(s);if(t.length&gt;32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function X0(s){if(s.length%32===0)return s;const t=new Uint8Array(Math.ceil(s.length/32)*32);return t.set(s),t}const q0=new Uint8Array([]);function tm(s){const t=[];let e=0;for(let n=0;n&lt;s.length;n++)t.push(q0),e+=32;for(let n=0;n&lt;s.length;n++){const r=ut(s[n]);t[n]=Gc(e),t.push(Gc(r.length)),t.push(X0(r)),e+=32+Math.ceil(r.length/32)*32}return Ut(t)}const $c="0x0000000000000000000000000000000000000000000000000000000000000000";function em(s){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};T(Qs(s)&gt;=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Ot(s,0,32);T(Ot(e,0,12)===Ot($c,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Ot(e,12);try{const n=[],r=it(Ot(s,32,64)),i=it(Ot(s,r,r+32)),o=Ot(s,r+32);for(let a=0;a&lt;i;a++){const l=Z0(o,a*32);if(l==null)throw new Error("abort");n.push(l)}t.urls=n}catch{T(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Ka(s,64);if(n==null)throw new Error("abort");t.calldata=n}catch{T(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}T(Ot(s,100,128)===Ot($c,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Ot(s,96,100);try{const n=Ka(s,128);if(n==null)throw new Error("abort");t.extraData=n}catch{T(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=&gt;t[n]),t}function Ss(s,t){if(s.provider)return s.provider;T(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Qc(s,t){let e=_o(t);if(e.to!=null&amp;&amp;(e.to=ie(e.to,s)),e.from!=null){const n=e.from;e.from=Promise.all([s.getAddress(),ie(n,s)]).then(([r,i])=&gt;(v(r.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),r))}else e.from=s.getAddress();return await Wt(e)}class nm{constructor(t){k(this,"provider");V(this,{provider:t||null})}async getNonce(t){return Ss(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Qc(this,t)}async populateTransaction(t){const e=Ss(this,"populateTransaction"),n=await Qc(this,t);n.nonce==null&amp;&amp;(n.nonce=await this.getNonce("pending")),n.gasLimit==null&amp;&amp;(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(n.chainId!=null){const o=$(n.chainId);v(o===r.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=r.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&amp;&amp;(n.type===2||i)?v(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&amp;&amp;i&amp;&amp;v(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&amp;&amp;n.maxFeePerGas!=null&amp;&amp;n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await e.getFeeData();T(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&amp;&amp;(n.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&amp;&amp;o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&amp;&amp;(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&amp;&amp;(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(T(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&amp;&amp;(n.gasPrice=o.gasPrice),n.type=0):T(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&amp;&amp;(n.maxFeePerGas==null&amp;&amp;(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&amp;&amp;(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Wt(n)}async estimateGas(t){return Ss(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Ss(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Ss(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=Ss(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const r=Bo.from(n);return await e.broadcastTransaction(await this.signTransaction(r))}}function sm(s){return JSON.parse(JSON.stringify(s))}var ee,Qe,ds,Fn,ps,Tr,_i,ja,Li,Wa;class ch{constructor(t){P(this,_i);P(this,Li);P(this,ee,void 0);P(this,Qe,void 0);P(this,ds,void 0);P(this,Fn,void 0);P(this,ps,void 0);P(this,Tr,void 0);m(this,ee,t),m(this,Qe,null),m(this,ds,R(this,_i,ja).bind(this)),m(this,Fn,!1),m(this,ps,null),m(this,Tr,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){d(this,Fn)||(m(this,Fn,!0),R(this,_i,ja).call(this,-2))}stop(){d(this,Fn)&amp;&amp;(m(this,Fn,!1),m(this,Tr,!0),R(this,Li,Wa).call(this),d(this,ee).off("block",d(this,ds)))}pause(t){t&amp;&amp;R(this,Li,Wa).call(this),d(this,ee).off("block",d(this,ds))}resume(){this.start()}}ee=new WeakMap,Qe=new WeakMap,ds=new WeakMap,Fn=new WeakMap,ps=new WeakMap,Tr=new WeakMap,_i=new WeakSet,ja=async function(t){try{d(this,Qe)==null&amp;&amp;m(this,Qe,this._subscribe(d(this,ee)));let e=null;try{e=await d(this,Qe)}catch(i){if(!Ce(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){m(this,Qe,null),d(this,ee)._recoverSubscriber(this,this._recover(d(this,ee)));return}const n=await d(this,ee).getNetwork();if(d(this,ps)||m(this,ps,n),d(this,ps).chainId!==n.chainId)throw new Error("chaid changed");if(d(this,Tr))return;const r=await d(this,ee).send("eth_getFilterChanges",[e]);await this._emitResults(d(this,ee),r)}catch(e){console.log("@TODO",e)}d(this,ee).once("block",d(this,ds))},Li=new WeakSet,Wa=function(){const t=d(this,Qe);t&amp;&amp;(m(this,Qe,null),t.then(e=&gt;{d(this,ee).send("eth_uninstallFilter",[e])}))};var gs;class rm extends ch{constructor(e,n){super(e);P(this,gs,void 0);m(this,gs,sm(n))}_recover(e){return new wl(e,d(this,gs))}async _subscribe(e){return await e.send("eth_newFilter",[d(this,gs)])}async _emitResults(e,n){for(const r of n)e.emit(d(this,gs),e._wrapLog(r,e._network))}}gs=new WeakMap;class im extends ch{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const n of e)t.emit("pending",n)}}const om="bigint,boolean,function,number,string,symbol".split(/,/g);function wo(s){if(s==null||om.indexOf(typeof s)&gt;=0||typeof s.getAddress=="function")return s;if(Array.isArray(s))return s.map(wo);if(typeof s=="object")return Object.keys(s).reduce((t,e)=&gt;(t[e]=s[e],t),{});throw new Error(`should not happen: ${s} (${typeof s})`)}function am(s){return new Promise(t=&gt;{setTimeout(t,s)})}function Bs(s){return s&amp;&amp;s.toLowerCase()}function Vc(s){return s&amp;&amp;typeof s.pollingInterval=="number"}const lm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1&lt;&lt;20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class wa extends nm{constructor(e,n){super(e);k(this,"address");n=pt(n),V(this,{address:n})}connect(e){T(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=wo(e),r=[];if(n.from){const o=n.from;r.push((async()=&gt;{const a=await ie(o,this.provider);v(a!=null&amp;&amp;a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&amp;&amp;r.push((async()=&gt;{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=&gt;{n.to=await ie(o,this.provider)})())}r.length&amp;&amp;await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=&gt;{const a=[1e3,100],l=async()=&gt;{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}this.provider._setTimeout(()=&gt;{l()},a.pop()||4e3)};l()})}async signTransaction(e){const n=wo(e);if(n.from){const i=await ie(n.from,this.provider);v(i!=null&amp;&amp;i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?pn(e):e;return await this.provider.send("personal_sign",[G(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=wo(r),o=await Oo.resolveNames(e,n,i,async a=&gt;{const l=await ie(a);return v(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Oo.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?pn(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),G(n)])}}var ms,Sr,fn,Ve,Be,hn,Ri,Ya;class cm extends Y0{constructor(e,n){super(e,n);P(this,Ri);P(this,ms,void 0);P(this,Sr,void 0);P(this,fn,void 0);P(this,Ve,void 0);P(this,Be,void 0);P(this,hn,void 0);m(this,Sr,1),m(this,ms,Object.assign({},lm,n||{})),m(this,fn,[]),m(this,Ve,null),m(this,hn,null);{let i=null;const o=new Promise(a=&gt;{i=a});m(this,Be,{promise:o,resolve:i})}const r=this._getOption("staticNetwork");r&amp;&amp;(v(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),m(this,hn,r))}_getOption(e){return d(this,ms)[e]}get _network(){return T(d(this,hn),"network is not available yet","NETWORK_ERROR"),d(this,hn)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&amp;&amp;r.type!=null&amp;&amp;$(r.type)&amp;&amp;r.maxFeePerGas==null&amp;&amp;r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&amp;&amp;i.maxPriorityFeePerGas==null&amp;&amp;(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Ke.from($(await this.send("eth_chainId",[])));const n={id:Hr(this,Sr)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Ke.from($(r.result));throw this.getRpcError(n,r)}_start(){d(this,Be)==null||d(this,Be).resolve==null||(d(this,Be).resolve(),m(this,Be,null),(async()=&gt;{for(;d(this,hn)==null&amp;&amp;!this.destroyed;)try{m(this,hn,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Dt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await am(1e3)}R(this,Ri,Ya).call(this)})())}async _waitUntilReady(){if(d(this,Be)!=null)return await d(this,Be).promise}_getSubscriber(e){return e.type==="pending"?new im(this):e.type==="event"?this._getOption("polling")?new wl(this,e.filter):new rm(this,e.filter):e.type==="orphan"&amp;&amp;e.filter.orphan==="drop-log"?new lh("orphan"):super._getSubscriber(e)}get ready(){return d(this,Be)==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=&gt;{if(e[r]==null)return;let i=r;r==="gasLimit"&amp;&amp;(i="gas"),n[i]=Ds($(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=&gt;{e[r]!=null&amp;&amp;(n[r]=G(e[r]))}),e.accessList&amp;&amp;(n.accessList=xs(e.accessList)),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Bs(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Bs(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Bs(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Bs(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&amp;&amp;e.filter.address!=null&amp;&amp;(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Bs):e.filter.address=Bs(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&amp;&amp;i.message){const l=i.message;if(!l.match(/revert/i)&amp;&amp;l.match(/insufficient funds/i))return Dt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const l=Za(i),c=yi.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],l?l.data:null);return c.info={error:i,payload:e},c}const o=JSON.stringify(hm(i));if(typeof i.message=="string"&amp;&amp;i.message.match(/user denied|ethers-user-denied/i))return Dt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const l=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Dt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(o.match(/nonce/i)&amp;&amp;o.match(/too low/i))return Dt("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(o.match(/replacement transaction/i)&amp;&amp;o.match(/underpriced/i))return Dt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(o.match(/only replay-protected/i))return Dt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:l,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&amp;&amp;i.details&amp;&amp;i.details.startsWith("Unauthorized method:")&amp;&amp;(a=!0),a?Dt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Dt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=Hr(this,Sr)._++,i=new Promise((o,a)=&gt;{d(this,fn).push({resolve:o,reject:a,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return R(this,Ri,Ya).call(this),i}async getSigner(e){e==null&amp;&amp;(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e&gt;=i.length)throw new Error("no such account");return new wa(this,i[e])}const{accounts:r}=await Wt({network:this.getNetwork(),accounts:n});e=pt(e);for(const i of r)if(pt(i)===e)return new wa(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=&gt;new wa(this,n))}destroy(){d(this,Ve)&amp;&amp;(clearTimeout(d(this,Ve)),m(this,Ve,null));for(const{payload:e,reject:n}of d(this,fn))n(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));m(this,fn,[]),super.destroy()}}ms=new WeakMap,Sr=new WeakMap,fn=new WeakMap,Ve=new WeakMap,Be=new WeakMap,hn=new WeakMap,Ri=new WeakSet,Ya=function(){if(d(this,Ve))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");m(this,Ve,setTimeout(()=&gt;{m(this,Ve,null);const n=d(this,fn);for(m(this,fn,[]);n.length;){const r=[n.shift()];for(;n.length&amp;&amp;r.length!==d(this,ms).batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=&gt;o.payload)).length&gt;d(this,ms).batchMaxSize){n.unshift(r.pop());break}(async()=&gt;{const i=r.length===1?r[0].payload:r.map(o=&gt;o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of r){if(this.destroyed){l(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(f=&gt;f.id===c.id)[0];if(u==null){const f=Dt("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",f),l(f);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of r)a(o)}})()}},e))};var Dn;class um extends cm{constructor(e,n){super(e,n);P(this,Dn,void 0);m(this,Dn,4e3)}_getSubscriber(e){const n=super._getSubscriber(e);return Vc(n)&amp;&amp;(n.pollingInterval=d(this,Dn)),n}get pollingInterval(){return d(this,Dn)}set pollingInterval(e){if(!Number.isInteger(e)||e&lt;0)throw new Error("invalid interval");m(this,Dn,e),this._forEachSubscriber(n=&gt;{Vc(n)&amp;&amp;(n.pollingInterval=d(this,Dn))})}}Dn=new WeakMap;var Br;class fm extends um{constructor(e,n,r){e==null&amp;&amp;(e="http://localhost:8545");super(n,r);P(this,Br,void 0);typeof e=="string"?m(this,Br,new mn(e)):m(this,Br,e.clone())}_getConnection(){return d(this,Br).clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const r=await n.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}Br=new WeakMap;function Za(s){if(s==null)return null;if(typeof s.message=="string"&amp;&amp;s.message.match(/revert/i)&amp;&amp;St(s.data))return{message:s.message,data:s.data};if(typeof s=="object"){for(const t in s){const e=Za(s[t]);if(e)return e}return null}if(typeof s=="string")try{return Za(JSON.parse(s))}catch{}return null}function Xa(s,t){if(s!=null){if(typeof s.message=="string"&amp;&amp;t.push(s.message),typeof s=="object")for(const e in s)Xa(s[e],t);if(typeof s=="string")try{return Xa(JSON.parse(s),t)}catch{}}}function hm(s){const t=[];return Xa(s,t),t}const Vr={};async function dm(s){if(Vr[s])return Vr[s];try{const e=await(await fetch(`https://api.token-discovery.tokenscript.org/ens/reverse?address=${s}`)).json();Vr[s]=(e==null?void 0:e.ensName)??null}catch{Vr[s]=null}return Vr[s]}async function pm(s){const e=await ta().getPlayInvitesList(BigInt(s.tokenId)),n=bl(e);return console.log("Play requests: ",n),n}async function Al(s){const e=await ta().getFriendsList(BigInt(s.tokenId));return bl(e)}async function gm(s){const e=await ta().getPendingInvitesList(BigInt(s.tokenId));return bl(e)}function bl(s){return Array.from(s).map(([t,e,n,r,i])=&gt;({tokenId:t,tokenUri:e,owner:n,level:r,canPlay:i}))}async function mm(s){const t=ta(),e=await t.getCatInfo2(BigInt(s.tokenId)),n={};({0:n.level,1:n.numFeeds,2:n.lastFeed,3:n.numPlays,4:n.lastPlay,5:n.numCleans,6:n.lastClean,7:n.friends}=e[0]),n.pointsBalance=e[1],n.actionLimitReset=e[2],n.actionLimitCount=e[3],n.friends=Array.from(n.friends);const r=await t.getConfig2(),i=r[0];n.nextFeed=Math.max(Number(n.lastFeed+i[0]),Number(n.actionLimitReset)),n.nextPlay=Math.max(Number(n.lastPlay+i[1]),Number(n.actionLimitReset)),n.nextClean=Math.max(Number(n.lastClean+i[2]),Number(n.actionLimitReset));const o=r[1];return n.levelThresholds={feed:o[0],play:o[1],clean:o[2]},n.maxActions=r[3],console.log("Cat state: ",n),n}function uh(){const s=new Ke("polygon",chainID),t=rpcURL;return new fm(t,s,{staticNetwork:s})}function ta(s){const t=uh(),e="0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F";return new As(e,[{inputs:[],name:"getConfig2",outputs:[{internalType:"uint256[3]",name:"",type:"uint256[3]"},{internalType:"uint16[3]",name:"",type:"uint16[3]"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCatInfo2",outputs:[{components:[{components:[{internalType:"uint8",name:"level",type:"uint8"},{internalType:"uint16",name:"numFeeds",type:"uint16"},{internalType:"uint256",name:"lastFeed",type:"uint256"},{internalType:"uint16",name:"numPlays",type:"uint16"},{internalType:"uint256",name:"lastPlay",type:"uint256"},{internalType:"uint16",name:"numCleans",type:"uint16"},{internalType:"uint256",name:"lastClean",type:"uint256"},{internalType:"uint256[]",name:"friends",type:"uint256[]"}],internalType:"struct SmartCatProxyV3.CatState",name:"state",type:"tuple"},{internalType:"uint256",name:"pointsBalance",type:"uint256"},{internalType:"uint256",name:"actionLimitReset",type:"uint256"},{internalType:"uint16",name:"actionLimitCount",type:"uint16"}],internalType:"struct SmartCatProxyV3.CatInfo2",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPlayInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getFriendsList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPendingInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCatProxyV3.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],t)}function ym(){const s=uh(),t="0x70F6aCb098d57917CD46e8c647fa9c45800D29f2";return new As(t,[{inputs:[],name:"mintStartTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],s)}function wm(s){let t,e,n,r,i,o,a;return{c(){t=w("div"),e=w("div"),n=N(),r=w("img"),b(e,"class","shimmer svelte-1iuqlfv"),H(e,"display",s[1]?"none":"block"),b(r,"alt","cat"),pe(r.src,i=s[0])||b(r,"src",i),b(r,"class","svelte-1iuqlfv"),b(t,"class","cat-list-image svelte-1iuqlfv")},m(l,c){L(l,t,c),p(t,e),p(t,n),p(t,r),o||(a=Ct(r,"load",s[3]),o=!0)},p(l,[c]){c&amp;2&amp;&amp;H(e,"display",l[1]?"none":"block"),c&amp;1&amp;&amp;!pe(r.src,i=l[0])&amp;&amp;b(r,"src",i)},i:K,o:K,d(l){l&amp;&amp;_(t),o=!1,a()}}}function Am(s,t,e){let{tokenUri:n}=t,r,i=!1;Fi(async()=&gt;{try{const a=await(await fetch(n,{headers:{"Content-type":"text/plain"}})).json();e(0,r=a.image)}catch{}});const o=()=&gt;e(1,i=!0);return s.$$set=a=&gt;{"tokenUri"in a&amp;&amp;e(2,n=a.tokenUri)},[r,i,n,o]}class Ji extends Et{constructor(t){super(),vt(this,t,Am,wm,At,{tokenUri:2})}}function bm(s){let t,e,n,r=(s[1]?`${s[1]} (${s[0]})`:s[0])+"",i;return{c(){t=w("small"),e=j("Owner: "),n=w("span"),i=j(r),b(t,"class","eth-address"),b(t,"title",s[0])},m(o,a){L(o,t,a),p(t,e),p(t,n),p(n,i)},p(o,[a]){a&amp;3&amp;&amp;r!==(r=(o[1]?`${o[1]} (${o[0]})`:o[0])+"")&amp;&amp;Pt(i,r),a&amp;1&amp;&amp;b(t,"title",o[0])},i:K,o:K,d(o){o&amp;&amp;_(t)}}}function vm(s,t,e){let{address:n}=t,r;return Fi(async()=&gt;{const i=await dm(n);i&amp;&amp;e(1,r=i)}),s.$$set=i=&gt;{"address"in i&amp;&amp;e(0,n=i.address)},[n,r]}class Ki extends Et{constructor(t){super(),vt(this,t,vm,bm,At,{address:0})}}function zc(s){let t;return{c(){t=w("div"),t.innerHTML='&lt;div class="lds-ring svelte-i4cppe"&gt;&lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt;&lt;/div&gt;',b(t,"class","loader-container svelte-i4cppe")},m(e,n){L(e,t,n)},d(e){e&amp;&amp;_(t)}}}function Em(s){let t,e=s[0]&amp;&amp;zc();return{c(){e&amp;&amp;e.c(),t=Ps()},m(n,r){e&amp;&amp;e.m(n,r),L(n,t,r)},p(n,[r]){n[0]?e||(e=zc(),e.c(),e.m(t.parentNode,t)):e&amp;&amp;(e.d(1),e=null)},i:K,o:K,d(n){n&amp;&amp;_(t),e&amp;&amp;e.d(n)}}}function km(s,t,e){let{show:n}=t;return s.$$set=r=&gt;{"show"in r&amp;&amp;e(0,n=r.show)},[n]}class Ur extends Et{constructor(t){super(),vt(this,t,km,Em,At,{show:0})}}function Cm(s){let t,e,n,r,i,o,a,l;return{c(){t=w("div"),e=w("span"),n=j(s[1]),r=j(" / "),i=j(s[0]),o=N(),a=w("div"),l=w("div"),b(e,"class","progress-text svelte-7mdbmt"),b(l,"class","progress-inner svelte-7mdbmt"),H(l,"width",Math.min(Math.round(parseInt(s[1])/parseInt(s[0])*100),100)+"%"),b(a,"class","progress-bar svelte-7mdbmt"),b(t,"class","progress-contain svelte-7mdbmt")},m(c,u){L(c,t,u),p(t,e),p(e,n),p(e,r),p(e,i),p(t,o),p(t,a),p(a,l)},p(c,[u]){u&amp;2&amp;&amp;Pt(n,c[1]),u&amp;1&amp;&amp;Pt(i,c[0]),u&amp;3&amp;&amp;H(l,"width",Math.min(Math.round(parseInt(c[1])/parseInt(c[0])*100),100)+"%")},i:K,o:K,d(c){c&amp;&amp;_(t)}}}function Pm(s,t,e){let{threshold:n}=t,{total:r}=t;return s.$$set=i=&gt;{"threshold"in i&amp;&amp;e(0,n=i.threshold),"total"in i&amp;&amp;e(1,r=i.total)},[n,r]}class Aa extends Et{constructor(t){super(),vt(this,t,Pm,Cm,At,{threshold:0,total:1})}}const Jc={1:"Curious Whisker",2:"Clever Purrer",3:"Savvy Seer",4:"Intellectual Prodigy",5:"Genius Trailblazer",6:"Enlightened Guru",7:"Sage Supreme",8:"Infinite Brilliance",9:"Academicat",10:"Paw-sitively Wise",11:"Purrful Puzzler",12:"Great Catsby",13:"Lazer Chaser",14:"Meowowsaurus",15:"Feline Supreme",16:"Colonel Meow",17:"Pounce King",18:"Mystic Meowster",19:"Quantum Leapurr",20:"Catzilla"},zn=s=&gt;s+(Jc[s]?" - "+Jc[s]:"");function Kc(s,t,e){const n=s.slice();return n[6]=t[e],n}const xm=s=&gt;({friend:s&amp;2}),jc=s=&gt;({friend:s[6]});function Wc(s){let t;const e=s[4].default,n=qa(e,s,s[3],jc);return{c(){n&amp;&amp;n.c()},m(r,i){n&amp;&amp;n.m(r,i),t=!0},p(r,i){n&amp;&amp;n.p&amp;&amp;(!t||i&amp;10)&amp;&amp;el(n,e,r,r[3],t?tl(e,r[3],i,xm):nl(r[3]),jc)},i(r){t||(S(n,r),t=!0)},o(r){B(n,r),t=!1},d(r){n&amp;&amp;n.d(r)}}}function Yc(s){let t,e,n,r;return{c(){t=w("div"),e=w("button"),e.textContent="Load More",b(e,"class","load-more-btn svelte-1ql4qcj"),b(t,"class","btn-container svelte-1ql4qcj")},m(i,o){L(i,t,o),p(t,e),n||(r=Ct(e,"click",s[5]),n=!0)},p:K,d(i){i&amp;&amp;_(t),n=!1,r()}}}function Im(s){let t,e,n,r=je(s[1]),i=[];for(let l=0;l&lt;r.length;l+=1)i[l]=Wc(Kc(s,r,l));const o=l=&gt;B(i[l],1,1,()=&gt;{i[l]=null});let a=s[1].length&lt;s[0].length&amp;&amp;Yc(s);return{c(){t=w("div");for(let l=0;l&lt;i.length;l+=1)i[l].c();e=N(),a&amp;&amp;a.c(),b(t,"class","cat-list")},m(l,c){L(l,t,c);for(let u=0;u&lt;i.length;u+=1)i[u]&amp;&amp;i[u].m(t,null);p(t,e),a&amp;&amp;a.m(t,null),n=!0},p(l,[c]){if(c&amp;10){r=je(l[1]);let u;for(u=0;u&lt;r.length;u+=1){const f=Kc(l,r,u);i[u]?(i[u].p(f,c),S(i[u],1)):(i[u]=Wc(f),i[u].c(),S(i[u],1),i[u].m(t,e))}for(_t(),u=r.length;u&lt;i.length;u+=1)o(u);Lt()}l[1].length&lt;l[0].length?a?a.p(l,c):(a=Yc(l),a.c(),a.m(t,null)):a&amp;&amp;(a.d(1),a=null)},i(l){if(!n){for(let c=0;c&lt;r.length;c+=1)S(i[c]);n=!0}},o(l){i=i.filter(Boolean);for(let c=0;c&lt;i.length;c+=1)B(i[c]);n=!1},d(l){l&amp;&amp;_(t),Ui(i,l),a&amp;&amp;a.d()}}}function Nm(s,t,e){let{$$slots:n={},$$scope:r}=t,{friendsList:i=[]}=t,o=[];Fi(()=&gt;{a(5)});function a(c){const u=o.length,f=u+c,h=o;for(let g=u;g&lt;f&amp;&amp;g&lt;i.length;g++)h.push(i[g]);e(1,o=h)}const l=()=&gt;a(10);return s.$$set=c=&gt;{"friendsList"in c&amp;&amp;e(0,i=c.friendsList),"$$scope"in c&amp;&amp;e(3,r=c.$$scope)},[i,o,a,r,n,l]}class fh extends Et{constructor(t){super(),vt(this,t,Nm,Im,At,{friendsList:0})}}function Tm(s){let t,e;return{c(){t=new Ah(!1),e=Ps(),t.a=e},m(n,r){t.m(s[0],n,r),L(n,e,r)},p(n,[r]){r&amp;1&amp;&amp;t.p(n[0])},i:K,o:K,d(n){n&amp;&amp;(_(e),t.d())}}}function Sm(s,t,e){let{epochMs:n}=t,r,i="-",o;Fi(()=&gt;{o=setInterval(()=&gt;{r=Date.now(),a()},1e3)});function a(){if(n&lt;r){e(0,i='&lt;span style="color: #D93F45;"&gt;Now&lt;/span&gt;'),clearInterval(o);return}const l=new Date(n),c=l.getDate()===new Date(r).getDate(),u=n-r,f=Math.floor(u/1e3),h=Math.floor(f/60),g=Math.floor(h/60),y=f%60,A=h%60;e(0,i=`
			&lt;span style="color: ${c?"#FFC759":"#000"};" title="${l.toLocaleString()}"&gt;
				${(g&lt;10?"0":"")+g}:${(A&lt;10?"0":"")+A}:${(y&lt;10?"0":"")+y}
			&lt;/span&gt;
		`)}return ku(()=&gt;{clearInterval(o)}),s.$$set=l=&gt;{"epochMs"in l&amp;&amp;e(1,n=l.epochMs)},[i,n]}class ba extends Et{constructor(t){super(),vt(this,t,Sm,Tm,At,{epochMs:1})}}function Bm(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E,x,C;return c=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=w("div"),e=w("h4"),e.textContent="Click below to Choose your sharing goals and gain followers",n=N(),r=w("div"),i=w("div"),i.innerHTML='&lt;img class="share-image svelte-17dj48s" alt="letter" src="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/opened-letter.png" crossorigin=""/&gt; &lt;h5 class="svelte-17dj48s"&gt;Find playdate mates and make new friends&lt;/h5&gt; &lt;p class="svelte-17dj48s"&gt;Share your Microchip ID with other SmartCat owners to find playdates&lt;/p&gt;',o=N(),a=w("div"),l=w("div"),nt(c.$$.fragment),u=N(),f=w("h5"),f.textContent="Show off your kitten",h=N(),g=w("p"),g.textContent="Share a picture of your cat like a proud owner and get others’ opinion",y=N(),A=w("div"),A.innerHTML='&lt;img class="share-image svelte-17dj48s" alt="rubix cube" src="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/rubix-cube.png" crossorigin=""/&gt; &lt;h5 class="svelte-17dj48s"&gt;Impress with your Smartness&lt;/h5&gt; &lt;p class="svelte-17dj48s"&gt;Let the community know how smart your cat has become&lt;/p&gt;',b(e,"class","share-header svelte-17dj48s"),b(i,"class","share-option svelte-17dj48s"),b(l,"class","share-image svelte-17dj48s"),b(f,"class","svelte-17dj48s"),b(g,"class","svelte-17dj48s"),b(a,"class","share-option svelte-17dj48s"),b(A,"class","share-option svelte-17dj48s"),b(r,"class","share-list svelte-17dj48s"),b(t,"class","share-container svelte-17dj48s")},m(I,O){L(I,t,O),p(t,e),p(t,n),p(t,r),p(r,i),p(r,o),p(r,a),p(a,l),X(c,l,null),p(a,u),p(a,f),p(a,h),p(a,g),p(r,y),p(r,A),s[10](r),E=!0,x||(C=[Ct(i,"click",s[7]),Ct(a,"click",s[8]),Ct(A,"click",s[9]),Ct(r,"mousemove",s[4]),Ct(r,"mousedown",s[2]),Ct(r,"mouseup",s[3]),Ct(r,"mouseleave",s[3])],x=!0)},p(I,[O]){const M={};O&amp;1&amp;&amp;(M.imageUrl=I[0].image_preview_url),c.$set(M)},i(I){E||(S(c.$$.fragment,I),E=!0)},o(I){B(c.$$.fragment,I),E=!1},d(I){I&amp;&amp;_(t),q(c),s[10](null),x=!1,Jn(C)}}}const Zc="https://opensea.io/assets/matic/0xd5ca946ac1c1f24eb26dae9e1a53ba6a02bd97fe/";function Om(s,t,e){let{token:n}=t,{catState:r}=t,i=!1,o,a,l,c=!1;const u=C=&gt;{C.stopPropagation(),C.preventDefault(),i=!0,o=C.pageX-l.offsetLeft,a=l.scrollLeft,c=!1},f=C=&gt;{C.stopPropagation(),C.preventDefault(),i=!1},h=C=&gt;{if(C.stopPropagation(),C.preventDefault(),!i)return;const O=C.pageX-l.offsetLeft-o;e(1,l.scrollLeft=a-O,l),c=!0},g=C=&gt;{if(c)return;let I;switch(C){case"play":I=`Meow Meow 😺! My #smartcat is lonely. Cat #${n.tokenId} is looking for a playdate. Please invite me.`;break;case"show":I=`Meow Meow 😺! Who have I not followed? Let’s connect &amp; Follow each other on X ${Zc}${n.tokenId}`;break;case"impress":I=`Meow Meow 😺! My #smartcat #${n.tokenId} is now on level ${n.level} and has collected ${r.pointsBalance} #smartlayer points! Check it out: ${Zc}${n.tokenId}`;break}window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(I)}`,"_blank")},y=()=&gt;g("play"),A=()=&gt;g("show"),E=()=&gt;g("impress");function x(C){ka[C?"unshift":"push"](()=&gt;{l=C,e(1,l)})}return s.$$set=C=&gt;{"token"in C&amp;&amp;e(0,n=C.token),"catState"in C&amp;&amp;e(6,r=C.catState)},[n,l,u,f,h,g,r,y,A,E,x]}class _m extends Et{constructor(t){super(),vt(this,t,Om,Bm,At,{token:0,catState:6})}}function Xc(s){let t,e;return t=new _m({props:{token:s[0],catState:s[1]}}),{c(){nt(t.$$.fragment)},m(n,r){X(t,n,r),e=!0},p(n,r){const i={};r&amp;1&amp;&amp;(i.token=n[0]),r&amp;2&amp;&amp;(i.catState=n[1]),t.$set(i)},i(n){e||(S(t.$$.fragment,n),e=!0)},o(n){B(t.$$.fragment,n),e=!1},d(n){q(t,n)}}}function qc(s){let t,e,n,r,i,o=s[1].actionLimitCount+"",a,l,c=s[1].maxActions+"",u,f,h,g,y,A,E,x,C,I,O,M,W,tt,U,Q,st,ot,bt,kt,mt,Ft,rt,lt,Y,et,wt,at,Z,yt,Dr,ft,Bt,We;return M=new ba({props:{epochMs:s[1].nextFeed*1e3}}),U=new Aa({props:{total:Os(s[1].numFeeds,s[1].level,s[1].levelThresholds.feed),threshold:s[1].level&lt;15?s[1].levelThresholds.feed:Number(s[1].levelThresholds.feed)*3}}),mt=new ba({props:{epochMs:s[1].nextClean*1e3}}),lt=new Aa({props:{total:Os(s[1].numCleans,s[1].level,s[1].levelThresholds.clean),threshold:s[1].level&lt;15?s[1].levelThresholds.clean:Number(s[1].levelThresholds.clean)*3}}),yt=new ba({props:{epochMs:s[1].nextPlay*1e3}}),Bt=new Aa({props:{total:Os(s[1].numPlays,s[1].level,s[1].levelThresholds.play),threshold:s[1].level&lt;15?s[1].levelThresholds.play:Number(s[1].levelThresholds.play)*3}}),{c(){t=w("div"),e=w("div"),n=w("h3"),n.textContent="Today's duties",r=N(),i=w("div"),a=j(o),l=j(" / "),u=j(c),f=N(),h=w("table"),g=w("colgroup"),g.innerHTML='&lt;col style="width:30%"/&gt; &lt;col style="width:30%"/&gt; &lt;col style="width:40%"/&gt;',y=N(),A=w("thead"),A.innerHTML='&lt;tr&gt;&lt;th&gt;Task&lt;/th&gt; &lt;th&gt;Due date&lt;/th&gt; &lt;th style="text-align: right;"&gt;Level up&lt;/th&gt;&lt;/tr&gt;',E=N(),x=w("tr"),C=w("td"),C.textContent="Feed",I=N(),O=w("td"),nt(M.$$.fragment),W=N(),tt=w("td"),nt(U.$$.fragment),Q=N(),st=w("tr"),ot=w("td"),ot.textContent="Clean",bt=N(),kt=w("td"),nt(mt.$$.fragment),Ft=N(),rt=w("td"),nt(lt.$$.fragment),Y=N(),et=w("tr"),wt=w("td"),wt.textContent="Playdates",at=N(),Z=w("td"),nt(yt.$$.fragment),Dr=N(),ft=w("td"),nt(Bt.$$.fragment),b(n,"class","task-header svelte-uinh42"),b(i,"class","action-limits svelte-uinh42"),b(e,"class","task-header-wrapper svelte-uinh42"),b(A,"class","svelte-uinh42"),b(C,"class","svelte-uinh42"),b(O,"class","svelte-uinh42"),H(tt,"text-align","right"),b(tt,"class","svelte-uinh42"),b(ot,"class","svelte-uinh42"),b(kt,"class","svelte-uinh42"),H(rt,"text-align","right"),b(rt,"class","svelte-uinh42"),b(wt,"class","svelte-uinh42"),b(Z,"class","svelte-uinh42"),H(ft,"text-align","right"),b(ft,"class","svelte-uinh42"),b(h,"class","task-table svelte-uinh42"),b(t,"class","info-container svelte-uinh42")},m(J,Qt){L(J,t,Qt),p(t,e),p(e,n),p(e,r),p(e,i),p(i,a),p(i,l),p(i,u),p(t,f),p(t,h),p(h,g),p(h,y),p(h,A),p(h,E),p(h,x),p(x,C),p(x,I),p(x,O),X(M,O,null),p(x,W),p(x,tt),X(U,tt,null),p(h,Q),p(h,st),p(st,ot),p(st,bt),p(st,kt),X(mt,kt,null),p(st,Ft),p(st,rt),X(lt,rt,null),p(h,Y),p(h,et),p(et,wt),p(et,at),p(et,Z),X(yt,Z,null),p(et,Dr),p(et,ft),X(Bt,ft,null),We=!0},p(J,Qt){(!We||Qt&amp;2)&amp;&amp;o!==(o=J[1].actionLimitCount+"")&amp;&amp;Pt(a,o),(!We||Qt&amp;2)&amp;&amp;c!==(c=J[1].maxActions+"")&amp;&amp;Pt(u,c);const Mr={};Qt&amp;2&amp;&amp;(Mr.epochMs=J[1].nextFeed*1e3),M.$set(Mr);const ea={};Qt&amp;2&amp;&amp;(ea.total=Os(J[1].numFeeds,J[1].level,J[1].levelThresholds.feed)),Qt&amp;2&amp;&amp;(ea.threshold=J[1].level&lt;15?J[1].levelThresholds.feed:Number(J[1].levelThresholds.feed)*3),U.$set(ea);const Cl={};Qt&amp;2&amp;&amp;(Cl.epochMs=J[1].nextClean*1e3),mt.$set(Cl);const na={};Qt&amp;2&amp;&amp;(na.total=Os(J[1].numCleans,J[1].level,J[1].levelThresholds.clean)),Qt&amp;2&amp;&amp;(na.threshold=J[1].level&lt;15?J[1].levelThresholds.clean:Number(J[1].levelThresholds.clean)*3),lt.$set(na);const Pl={};Qt&amp;2&amp;&amp;(Pl.epochMs=J[1].nextPlay*1e3),yt.$set(Pl);const sa={};Qt&amp;2&amp;&amp;(sa.total=Os(J[1].numPlays,J[1].level,J[1].levelThresholds.play)),Qt&amp;2&amp;&amp;(sa.threshold=J[1].level&lt;15?J[1].levelThresholds.play:Number(J[1].levelThresholds.play)*3),Bt.$set(sa)},i(J){We||(S(M.$$.fragment,J),S(U.$$.fragment,J),S(mt.$$.fragment,J),S(lt.$$.fragment,J),S(yt.$$.fragment,J),S(Bt.$$.fragment,J),We=!0)},o(J){B(M.$$.fragment,J),B(U.$$.fragment,J),B(mt.$$.fragment,J),B(lt.$$.fragment,J),B(yt.$$.fragment,J),B(Bt.$$.fragment,J),We=!1},d(J){J&amp;&amp;_(t),q(M),q(U),q(mt),q(lt),q(yt),q(Bt)}}}function tu(s){let t,e,n,r=s[2].length?`(${s[2].length})`:"",i,o,a,l,c;const u=[Rm,Lm],f=[];function h(g,y){return g[2].length?0:1}return a=h(s),l=f[a]=u[a](s),{c(){t=w("div"),e=w("h3"),n=j("Friends "),i=j(r),o=N(),l.c(),H(e,"font-size","18px"),H(e,"margin-top","0"),b(t,"class","info-container svelte-uinh42")},m(g,y){L(g,t,y),p(t,e),p(e,n),p(e,i),p(t,o),f[a].m(t,null),c=!0},p(g,y){(!c||y&amp;4)&amp;&amp;r!==(r=g[2].length?`(${g[2].length})`:"")&amp;&amp;Pt(i,r);let A=a;a=h(g),a===A?f[a].p(g,y):(_t(),B(f[A],1,1,()=&gt;{f[A]=null}),Lt(),l=f[a],l?l.p(g,y):(l=f[a]=u[a](g),l.c()),S(l,1),l.m(t,null))},i(g){c||(S(l),c=!0)},o(g){B(l),c=!1},d(g){g&amp;&amp;_(t),f[a].d()}}}function Lm(s){let t,e;return{c(){t=w("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=w("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){L(n,t,r),L(n,e,r)},p:K,i:K,o:K,d(n){n&amp;&amp;(_(t),_(e))}}}function Rm(s){let t,e;return t=new fh({props:{friendsList:s[2],$$slots:{default:[Um,({friend:n})=&gt;({7:n}),({friend:n})=&gt;n?128:0]},$$scope:{ctx:s}}}),{c(){nt(t.$$.fragment)},m(n,r){X(t,n,r),e=!0},p(n,r){const i={};r&amp;4&amp;&amp;(i.friendsList=n[2]),r&amp;384&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(S(t.$$.fragment,n),e=!0)},o(n){B(t.$$.fragment,n),e=!1},d(n){q(t,n)}}}function Um(s){let t,e,n,r,i,o,a,l=s[7].tokenId+"",c,u,f,h=zn(s[7].level)+"",g,y,A,E,x;return e=new Ji({props:{tokenUri:s[7].tokenUri}}),E=new Ki({props:{address:s[7].owner}}),{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("h4"),a=j("#"),c=j(l),u=N(),f=w("span"),g=j(h),y=N(),A=w("div"),nt(E.$$.fragment),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item"),H(t,"cursor","unset")},m(C,I){L(C,t,I),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(r,y),p(r,A),X(E,A,null),x=!0},p(C,I){const O={};I&amp;128&amp;&amp;(O.tokenUri=C[7].tokenUri),e.$set(O),(!x||I&amp;128)&amp;&amp;l!==(l=C[7].tokenId+"")&amp;&amp;Pt(c,l),(!x||I&amp;128)&amp;&amp;h!==(h=zn(C[7].level)+"")&amp;&amp;Pt(g,h);const M={};I&amp;128&amp;&amp;(M.address=C[7].owner),E.$set(M)},i(C){x||(S(e.$$.fragment,C),S(E.$$.fragment,C),x=!0)},o(C){B(e.$$.fragment,C),B(E.$$.fragment,C),x=!1},d(C){C&amp;&amp;_(t),q(e),q(E)}}}function Fm(s){let t,e,n,r,i,o,a,l,c=zn(s[0].level)+"",u,f,h,g,y,A,E=(s[1]?s[1].pointsBalance:"-")+"",x,C,I,O,M,W,tt,U,Q,st,ot,bt,kt,mt,Ft,rt,lt;e=new Fh({});let Y=s[4]&amp;&amp;Xc(s),et=s[1]&amp;&amp;qc(s),wt=s[2]&amp;&amp;tu(s);return mt=new Ur({props:{show:s[3]}}),{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("label"),o.textContent="Smart level",a=N(),l=w("span"),u=j(c),f=N(),h=w("div"),g=w("label"),g.textContent="SmartLayer Points",y=N(),A=w("span"),x=j(E),C=N(),I=w("div"),O=w("div"),O.innerHTML='&lt;a href="https://www.smartlayer.network/smartcat/suitup/browse" target="_blank"&gt;View&lt;/a&gt;',M=N(),W=w("div"),tt=w("div"),tt.textContent="Share on X",Q=N(),Y&amp;&amp;Y.c(),st=N(),ot=w("div"),et&amp;&amp;et.c(),bt=N(),wt&amp;&amp;wt.c(),kt=N(),nt(mt.$$.fragment),b(i,"class","score-box"),H(i,"flex","50%"),b(h,"class","score-box"),H(h,"flex","50%"),H(r,"display","flex"),H(r,"gap","8px"),H(r,"margin-top","24px"),b(O,"class","link-button svelte-uinh42"),H(O,"flex","50%"),b(W,"class",U="link-button "+(s[4]?"opened":"")+" svelte-uinh42"),H(W,"flex","50%"),H(I,"display","flex"),H(I,"gap","8px"),H(I,"margin","24px 0"),H(t,"padding","10px 10px 0")},m(at,Z){L(at,t,Z),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(i,a),p(i,l),p(l,u),p(r,f),p(r,h),p(h,g),p(h,y),p(h,A),p(A,x),p(t,C),p(t,I),p(I,O),p(I,M),p(I,W),p(W,tt),L(at,Q,Z),Y&amp;&amp;Y.m(at,Z),L(at,st,Z),L(at,ot,Z),et&amp;&amp;et.m(ot,null),p(ot,bt),wt&amp;&amp;wt.m(ot,null),p(ot,kt),X(mt,ot,null),Ft=!0,rt||(lt=Ct(tt,"click",s[5]),rt=!0)},p(at,[Z]){(!Ft||Z&amp;1)&amp;&amp;c!==(c=zn(at[0].level)+"")&amp;&amp;Pt(u,c),(!Ft||Z&amp;2)&amp;&amp;E!==(E=(at[1]?at[1].pointsBalance:"-")+"")&amp;&amp;Pt(x,E),(!Ft||Z&amp;16&amp;&amp;U!==(U="link-button "+(at[4]?"opened":"")+" svelte-uinh42"))&amp;&amp;b(W,"class",U),at[4]?Y?(Y.p(at,Z),Z&amp;16&amp;&amp;S(Y,1)):(Y=Xc(at),Y.c(),S(Y,1),Y.m(st.parentNode,st)):Y&amp;&amp;(_t(),B(Y,1,1,()=&gt;{Y=null}),Lt()),at[1]?et?(et.p(at,Z),Z&amp;2&amp;&amp;S(et,1)):(et=qc(at),et.c(),S(et,1),et.m(ot,bt)):et&amp;&amp;(_t(),B(et,1,1,()=&gt;{et=null}),Lt()),at[2]?wt?(wt.p(at,Z),Z&amp;4&amp;&amp;S(wt,1)):(wt=tu(at),wt.c(),S(wt,1),wt.m(ot,kt)):wt&amp;&amp;(_t(),B(wt,1,1,()=&gt;{wt=null}),Lt());const yt={};Z&amp;8&amp;&amp;(yt.show=at[3]),mt.$set(yt)},i(at){Ft||(S(e.$$.fragment,at),S(Y),S(et),S(wt),S(mt.$$.fragment,at),Ft=!0)},o(at){B(e.$$.fragment,at),B(Y),B(et),B(wt),B(mt.$$.fragment,at),Ft=!1},d(at){at&amp;&amp;(_(t),_(Q),_(st),_(ot)),q(e),Y&amp;&amp;Y.d(at),et&amp;&amp;et.d(),wt&amp;&amp;wt.d(),q(mt),rt=!1,lt()}}}function Os(s,t,e){const n=Number(t)-1,r=t&gt;14?14:n,i=t&gt;14?n-14:0;return Number(s)-Number(e)*r-Number(e)*i*3}function Dm(s,t,e){let n,r=null,i=null,o=!0,a=!1;const l=async()=&gt;{try{r||e(1,r=await mm(n)),i||e(2,i=await Al(n))}catch(u){console.error(u),alert("Failed to load cat info: "+u.message)}e(3,o=!1)};return qt.data.subscribe(async u=&gt;{u.token&amp;&amp;(e(0,n=u.token),await l())}),[n,r,i,o,a,()=&gt;e(4,a=!a)]}class Mm extends Et{constructor(t){super(),vt(this,t,Dm,Fm,At,{})}}function Hm(s){let t;return{c(){t=w("h1"),t.textContent="404"},m(e,n){L(e,t,n)},p:K,i:K,o:K,d(e){e&amp;&amp;_(t)}}}class Gm extends Et{constructor(t){super(),vt(this,t,null,Hm,At,{})}}function $m(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y;return{c(){t=w("div"),e=w("div"),n=w("img"),i=N(),o=w("img"),c=N(),u=w("h3"),u.textContent="Your cat is starving!",f=N(),h=w("p"),h.textContent="Feed him something tasty to keep him happy!",b(n,"class","gif svelte-ygkdxn"),b(n,"alt","smart food"),pe(n.src,r="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.gif")||b(n,"src",r),b(o,"class","static svelte-ygkdxn"),b(o,"alt","smart food"),pe(o.src,a="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.png")||b(o,"src",a),b(e,"class",l="gif-container "+(s[0]?"play":"")+" svelte-ygkdxn")},m(A,E){L(A,t,E),p(t,e),p(e,n),p(e,i),p(e,o),p(t,c),p(t,u),p(t,f),p(t,h),g||(y=Ct(window,"message",s[1]),g=!0)},p(A,[E]){E&amp;1&amp;&amp;l!==(l="gif-container "+(A[0]?"play":"")+" svelte-ygkdxn")&amp;&amp;b(e,"class",l)},i:K,o:K,d(A){A&amp;&amp;_(t),g=!1,y()}}}function Qm(s,t,e){let n=!1;return[n,i=&gt;{var o,a,l;if(((o=i.data)==null?void 0:o.method)==="transactionEvent")switch((l=(a=i.data)==null?void 0:a.params)==null?void 0:l.status){case"started":e(0,n=!0);break;case"error":e(0,n=!1);break}}]}class Vm extends Et{constructor(t){super(),vt(this,t,Qm,$m,At,{})}}function zm(s){let t,e,n;return{c(){t=w("button"),t.textContent="Share on X (Twitter)",b(t,"class","primary-btn invite-btn")},m(r,i){L(r,t,i),e||(n=Ct(t,"click",s[1]),e=!0)},p:K,i:K,o:K,d(r){r&amp;&amp;_(t),e=!1,n()}}}function Jm(s,t,e){let{tokenId:n}=t;const r=()=&gt;{const i=`Meow Meow 😺! My #smartcat is lonely. Cat #${n} is looking for a playdate. Please invite me.`;window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(i)}`,"_blank")};return s.$$set=i=&gt;{"tokenId"in i&amp;&amp;e(0,n=i.tokenId)},[n,r]}class hh extends Et{constructor(t){super(),vt(this,t,Jm,zm,At,{tokenId:0})}}function eu(s,t,e){const n=s.slice();return n[7]=t[e],n}function nu(s){let t=s[1].length&gt;0&amp;&amp;!s[1].find(iu),e,n,r,i,o,a=t&amp;&amp;su();const l=[jm,Km],c=[];function u(f,h){return f[1].length?0:1}return n=u(s),r=c[n]=l[n](s),{c(){a&amp;&amp;a.c(),e=N(),r.c(),i=Ps()},m(f,h){a&amp;&amp;a.m(f,h),L(f,e,h),c[n].m(f,h),L(f,i,h),o=!0},p(f,h){h&amp;2&amp;&amp;(t=f[1].length&gt;0&amp;&amp;!f[1].find(iu)),t?a||(a=su(),a.c(),a.m(e.parentNode,e)):a&amp;&amp;(a.d(1),a=null);let g=n;n=u(f),n===g?c[n].p(f,h):(_t(),B(c[g],1,1,()=&gt;{c[g]=null}),Lt(),r=c[n],r?r.p(f,h):(r=c[n]=l[n](f),r.c()),S(r,1),r.m(i.parentNode,i))},i(f){o||(S(r),o=!0)},o(f){B(r),o=!1},d(f){f&amp;&amp;(_(e),_(i)),a&amp;&amp;a.d(f),c[n].d(f)}}}function su(s){let t;return{c(){t=w("p"),t.textContent="All cats are too tired to play at the moment, check back later."},m(e,n){L(e,t,n)},d(e){e&amp;&amp;_(t)}}}function Km(s){let t,e,n,r,i,o;return i=new hh({props:{tokenId:s[0].tokenId}}),{c(){t=w("h5"),t.textContent="You don't have any play requests yet",e=N(),n=w("p"),n.textContent="Share your microchip ID with other owners or request a playdate using another microchip ID",r=N(),nt(i.$$.fragment),b(n,"class","light")},m(a,l){L(a,t,l),L(a,e,l),L(a,n,l),L(a,r,l),X(i,a,l),o=!0},p(a,l){const c={};l&amp;1&amp;&amp;(c.tokenId=a[0].tokenId),i.$set(c)},i(a){o||(S(i.$$.fragment,a),o=!0)},o(a){B(i.$$.fragment,a),o=!1},d(a){a&amp;&amp;(_(t),_(e),_(n),_(r)),q(i,a)}}}function jm(s){let t,e,n=je(s[1]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=ru(eu(s,n,o));const i=o=&gt;B(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=w("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){L(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;22){n=je(o[1]);let l;for(l=0;l&lt;n.length;l+=1){const c=eu(o,n,l);r[l]?(r[l].p(c,a),S(r[l],1)):(r[l]=ru(c),r[l].c(),S(r[l],1),r[l].m(t,null))}for(_t(),l=n.length;l&lt;r.length;l+=1)i(l);Lt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)S(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)B(r[a]);e=!1},d(o){o&amp;&amp;_(t),Ui(r,o)}}}function ru(s){let t,e,n,r,i,o,a,l=s[7].tokenId+"",c,u,f,h=zn(s[7].level)+"",g,y,A,E,x,C,I,O,M,W;e=new Ji({props:{tokenUri:s[7].tokenUri}}),E=new Ki({props:{address:s[7].owner}});function tt(){return s[5](s[7])}return{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("h4"),a=j("#"),c=j(l),u=N(),f=w("span"),g=j(h),y=N(),A=w("div"),nt(E.$$.fragment),x=N(),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class",C="cat-list-item "+(s[7].canPlay?"":"cant-play")+" "+(s[2]===s[7].tokenId?"selected":"")),b(t,"title",I=s[7].canPlay?"":"This cat is too tired to play")},m(U,Q){L(U,t,Q),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(r,y),p(r,A),X(E,A,null),p(t,x),O=!0,M||(W=Ct(t,"click",tt),M=!0)},p(U,Q){s=U;const st={};Q&amp;2&amp;&amp;(st.tokenUri=s[7].tokenUri),e.$set(st),(!O||Q&amp;2)&amp;&amp;l!==(l=s[7].tokenId+"")&amp;&amp;Pt(c,l),(!O||Q&amp;2)&amp;&amp;h!==(h=zn(s[7].level)+"")&amp;&amp;Pt(g,h);const ot={};Q&amp;2&amp;&amp;(ot.address=s[7].owner),E.$set(ot),(!O||Q&amp;6&amp;&amp;C!==(C="cat-list-item "+(s[7].canPlay?"":"cant-play")+" "+(s[2]===s[7].tokenId?"selected":"")))&amp;&amp;b(t,"class",C),(!O||Q&amp;2&amp;&amp;I!==(I=s[7].canPlay?"":"This cat is too tired to play"))&amp;&amp;b(t,"title",I)},i(U){O||(S(e.$$.fragment,U),S(E.$$.fragment,U),O=!0)},o(U){B(e.$$.fragment,U),B(E.$$.fragment,U),O=!1},d(U){U&amp;&amp;_(t),q(e),q(E),M=!1,W()}}}function Wm(s){let t,e,n,r,i,o,a,l,c,u,f=s[1]&amp;&amp;nu(s);return a=new Ur({props:{show:s[3]}}),{c(){t=w("div"),e=w("h3"),e.textContent="Play invites",n=N(),r=w("p"),r.textContent=`Your cat is prone to boredom!
		Accept play-dates from other cats owners to keep your cat happy.`,i=N(),f&amp;&amp;f.c(),o=N(),nt(a.$$.fragment),l=N(),c=w("input"),b(c,"id","inviter"),b(c,"type","hidden"),c.value=s[2]},m(h,g){L(h,t,g),p(t,e),p(t,n),p(t,r),p(t,i),f&amp;&amp;f.m(t,null),p(t,o),X(a,t,null),p(t,l),p(t,c),u=!0},p(h,[g]){h[1]?f?(f.p(h,g),g&amp;2&amp;&amp;S(f,1)):(f=nu(h),f.c(),S(f,1),f.m(t,o)):f&amp;&amp;(_t(),B(f,1,1,()=&gt;{f=null}),Lt());const y={};g&amp;8&amp;&amp;(y.show=h[3]),a.$set(y),(!u||g&amp;4)&amp;&amp;(c.value=h[2])},i(h){u||(S(f),S(a.$$.fragment,h),u=!0)},o(h){B(f),B(a.$$.fragment,h),u=!1},d(h){h&amp;&amp;_(t),f&amp;&amp;f.d(),q(a)}}}const iu=s=&gt;s.canPlay===!0;function Ym(s,t,e){let n,r=null,i=0,o=!0;async function a(){try{e(1,r=await pm(n))}catch(u){console.error(u),alert("Failed to load invites: "+u.message)}e(3,o=!1)}function l(u){e(2,i=u.tokenId),web3.action.setProps({inviter:i})}return qt.data.subscribe(async u=&gt;{u.token&amp;&amp;(e(0,n=u.token),await a())}),[n,r,i,o,l,u=&gt;l(u)]}class Zm extends Et{constructor(t){super(),vt(this,t,Ym,Wm,At,{})}}function ou(s,t,e){const n=s.slice();return n[14]=t[e],n}function au(s){let t,e,n,r;const i=[qm,Xm],o=[];function a(l,c){return l[3].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=Ps()},m(l,c){o[t].m(l,c),L(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(_t(),B(o[u],1,1,()=&gt;{o[u]=null}),Lt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),S(e,1),e.m(n.parentNode,n))},i(l){r||(S(e),r=!0)},o(l){B(e),r=!1},d(l){l&amp;&amp;_(n),o[t].d(l)}}}function Xm(s){let t;return{c(){t=w("h5"),t.textContent="No pending invites"},m(e,n){L(e,t,n)},p:K,i:K,o:K,d(e){e&amp;&amp;_(t)}}}function qm(s){let t,e,n=je(s[3]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=lu(ou(s,n,o));const i=o=&gt;B(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=w("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){L(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;8){n=je(o[3]);let l;for(l=0;l&lt;n.length;l+=1){const c=ou(o,n,l);r[l]?(r[l].p(c,a),S(r[l],1)):(r[l]=lu(c),r[l].c(),S(r[l],1),r[l].m(t,null))}for(_t(),l=n.length;l&lt;r.length;l+=1)i(l);Lt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)S(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)B(r[a]);e=!1},d(o){o&amp;&amp;_(t),Ui(r,o)}}}function lu(s){let t,e,n,r,i,o,a,l=s[14].tokenId+"",c,u,f,h,g,y;return e=new Ji({props:{tokenUri:s[14].tokenUri}}),h=new Ki({props:{address:s[14].owner}}),{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("h4"),a=j("#"),c=j(l),u=N(),f=w("div"),nt(h.$$.fragment),g=N(),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item"),H(t,"cursor","unset")},m(A,E){L(A,t,E),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(r,u),p(r,f),X(h,f,null),p(t,g),y=!0},p(A,E){const x={};E&amp;8&amp;&amp;(x.tokenUri=A[14].tokenUri),e.$set(x),(!y||E&amp;8)&amp;&amp;l!==(l=A[14].tokenId+"")&amp;&amp;Pt(c,l);const C={};E&amp;8&amp;&amp;(C.address=A[14].owner),h.$set(C)},i(A){y||(S(e.$$.fragment,A),S(h.$$.fragment,A),y=!0)},o(A){B(e.$$.fragment,A),B(h.$$.fragment,A),y=!1},d(A){A&amp;&amp;_(t),q(e),q(h)}}}function cu(s){let t,e,n,r;const i=[ey,ty],o=[];function a(l,c){return l[5].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=Ps()},m(l,c){o[t].m(l,c),L(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(_t(),B(o[u],1,1,()=&gt;{o[u]=null}),Lt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),S(e,1),e.m(n.parentNode,n))},i(l){r||(S(e),r=!0)},o(l){B(e),r=!1},d(l){l&amp;&amp;_(n),o[t].d(l)}}}function ty(s){let t,e;return{c(){t=w("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=w("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){L(n,t,r),L(n,e,r)},p:K,i:K,o:K,d(n){n&amp;&amp;(_(t),_(e))}}}function ey(s){let t,e;return t=new fh({props:{friendsList:s[5],$$slots:{default:[ny,({friend:n})=&gt;({13:n}),({friend:n})=&gt;n?8192:0]},$$scope:{ctx:s}}}),{c(){nt(t.$$.fragment)},m(n,r){X(t,n,r),e=!0},p(n,r){const i={};r&amp;32&amp;&amp;(i.friendsList=n[5]),r&amp;139264&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(S(t.$$.fragment,n),e=!0)},o(n){B(t.$$.fragment,n),e=!1},d(n){q(t,n)}}}function ny(s){let t,e,n,r,i,o,a,l=s[13].tokenId+"",c,u,f,h,g,y,A,E,x,C;e=new Ji({props:{tokenUri:s[13].tokenUri}}),h=new Ki({props:{address:s[13].owner}});function I(){return s[10](s[13])}return{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("h4"),a=j("#"),c=j(l),u=N(),f=w("div"),nt(h.$$.fragment),g=N(),y=w("div"),A=w("button"),A.textContent="Invite",b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(A,"class","primary-btn invite-btn svelte-1hmkp7d"),b(y,"class","invite-btn-wrapper svelte-1hmkp7d"),b(t,"class","cat-list-item"),H(t,"cursor","unset")},m(O,M){L(O,t,M),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(r,u),p(r,f),X(h,f,null),p(t,g),p(t,y),p(y,A),E=!0,x||(C=Ct(A,"click",I),x=!0)},p(O,M){s=O;const W={};M&amp;8192&amp;&amp;(W.tokenUri=s[13].tokenUri),e.$set(W),(!E||M&amp;8192)&amp;&amp;l!==(l=s[13].tokenId+"")&amp;&amp;Pt(c,l);const tt={};M&amp;8192&amp;&amp;(tt.address=s[13].owner),h.$set(tt)},i(O){E||(S(e.$$.fragment,O),S(h.$$.fragment,O),E=!0)},o(O){B(e.$$.fragment,O),B(h.$$.fragment,O),E=!1},d(O){O&amp;&amp;_(t),q(e),q(h),x=!1,C()}}}function sy(s){var Dr;let t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E,x,C,I=(((Dr=s[3])==null?void 0:Dr.length)??0)+"",O,M,W,tt,U,Q,st,ot,bt,kt,mt,Ft,rt,lt,Y,et,wt,at;l=new hh({props:{tokenId:s[0].tokenId}});let Z=s[3]!==null&amp;&amp;au(s);mt=new Ur({props:{show:s[2]}});let yt=s[5]!==null&amp;&amp;cu(s);return Y=new Ur({props:{show:s[4]}}),{c(){t=w("div"),e=w("h3"),e.textContent="Play with other cats",n=N(),r=w("p"),r.textContent="Your cat is prone to boredom!",i=N(),o=w("p"),o.textContent=`Send play-dates request to other cats owners to keep your cat happy.
		Note that you cannot send invites to your own cat, or your cats brothers and sisters in the same wallet.`,a=N(),nt(l.$$.fragment),c=N(),u=w("div"),f=w("input"),h=N(),g=w("label"),g.textContent="Microchip ID",y=N(),A=w("div"),E=w("div"),x=w("div"),C=j("Pending dates ("),O=j(I),M=j(")"),tt=N(),U=w("div"),Q=j("Friends"),ot=N(),bt=w("div"),Z&amp;&amp;Z.c(),kt=N(),nt(mt.$$.fragment),Ft=N(),rt=w("div"),yt&amp;&amp;yt.c(),lt=N(),nt(Y.$$.fragment),b(f,"type","text"),b(f,"placeholder"," "),b(f,"id","invitee"),b(f,"name","invitee"),f.required=!0,b(u,"class","form-field"),b(x,"class",W="tab-item "+(s[1]==="pending"?"selected":"")+" svelte-1hmkp7d"),b(U,"class",st="tab-item "+(s[1]==="friends"?"selected":"")+" svelte-1hmkp7d"),b(E,"class","tabs-header svelte-1hmkp7d"),b(bt,"class","pending-tab"),H(bt,"display",s[1]==="pending"?"block":"none"),b(rt,"class","friends-tab"),H(rt,"display",s[1]==="friends"?"block":"none"),b(A,"class","tabs svelte-1hmkp7d")},m(ft,Bt){L(ft,t,Bt),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,a),X(l,t,null),p(t,c),p(t,u),p(u,f),p(u,h),p(u,g),p(t,y),p(t,A),p(A,E),p(E,x),p(x,C),p(x,O),p(x,M),p(E,tt),p(E,U),p(U,Q),p(A,ot),p(A,bt),Z&amp;&amp;Z.m(bt,null),p(bt,kt),X(mt,bt,null),p(A,Ft),p(A,rt),yt&amp;&amp;yt.m(rt,null),p(rt,lt),X(Y,rt,null),et=!0,wt||(at=[Ct(g,"click",s[7]),Ct(x,"click",s[8]),Ct(U,"click",s[9])],wt=!0)},p(ft,[Bt]){var Mr;const We={};Bt&amp;1&amp;&amp;(We.tokenId=ft[0].tokenId),l.$set(We),(!et||Bt&amp;8)&amp;&amp;I!==(I=(((Mr=ft[3])==null?void 0:Mr.length)??0)+"")&amp;&amp;Pt(O,I),(!et||Bt&amp;2&amp;&amp;W!==(W="tab-item "+(ft[1]==="pending"?"selected":"")+" svelte-1hmkp7d"))&amp;&amp;b(x,"class",W),(!et||Bt&amp;2&amp;&amp;st!==(st="tab-item "+(ft[1]==="friends"?"selected":"")+" svelte-1hmkp7d"))&amp;&amp;b(U,"class",st),ft[3]!==null?Z?(Z.p(ft,Bt),Bt&amp;8&amp;&amp;S(Z,1)):(Z=au(ft),Z.c(),S(Z,1),Z.m(bt,kt)):Z&amp;&amp;(_t(),B(Z,1,1,()=&gt;{Z=null}),Lt());const J={};Bt&amp;4&amp;&amp;(J.show=ft[2]),mt.$set(J),(!et||Bt&amp;2)&amp;&amp;H(bt,"display",ft[1]==="pending"?"block":"none"),ft[5]!==null?yt?(yt.p(ft,Bt),Bt&amp;32&amp;&amp;S(yt,1)):(yt=cu(ft),yt.c(),S(yt,1),yt.m(rt,lt)):yt&amp;&amp;(_t(),B(yt,1,1,()=&gt;{yt=null}),Lt());const Qt={};Bt&amp;16&amp;&amp;(Qt.show=ft[4]),Y.$set(Qt),(!et||Bt&amp;2)&amp;&amp;H(rt,"display",ft[1]==="friends"?"block":"none")},i(ft){et||(S(l.$$.fragment,ft),S(Z),S(mt.$$.fragment,ft),S(yt),S(Y.$$.fragment,ft),et=!0)},o(ft){B(l.$$.fragment,ft),B(Z),B(mt.$$.fragment,ft),B(yt),B(Y.$$.fragment,ft),et=!1},d(ft){ft&amp;&amp;_(t),q(l),Z&amp;&amp;Z.d(),q(mt),yt&amp;&amp;yt.d(),q(Y),wt=!1,Jn(at)}}}function ry(s,t,e){let n,r="pending",i=!1,o=null,a=!1,l=null;const c=async()=&gt;{e(2,i=!0);try{o||e(3,o=await gm(n))}catch(E){console.error(E),alert("Failed to load pending invites: "+E.message)}e(2,i=!1)},u=async()=&gt;{e(4,a=!0);try{l||e(5,l=await Al(n))}catch(E){console.error(E),alert("Failed to load pending invites: "+E.message)}e(4,a=!1)},f=E=&gt;{E==="friends"&amp;&amp;u(),e(1,r=E)};return qt.data.subscribe(async E=&gt;{E.token&amp;&amp;(e(0,n=E.token),await c())}),[n,r,i,o,a,l,f,()=&gt;document.getElementById("invitee").focus(),()=&gt;f("pending"),()=&gt;f("friends"),E=&gt;{const x=document.getElementById("invitee");x.value=E.tokenId;const C=new Event("change",{bubbles:!0});x.dispatchEvent(C)}]}class iy extends Et{constructor(t){super(),vt(this,t,ry,sy,At,{})}}function oy(s){let t,e,n;return{c(){t=w("img"),b(t,"alt","overlay"),b(t,"class",e=Ao(s[1]?"fade-out-image":"")+" svelte-vmrgry"),H(t,"position","absolute"),H(t,"top","0"),H(t,"left","0"),H(t,"width","100%"),H(t,"height","400px"),pe(t.src,n="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/dirty-overlay.png")||b(t,"src",n)},m(r,i){L(r,t,i)},p(r,i){i&amp;2&amp;&amp;e!==(e=Ao(r[1]?"fade-out-image":"")+" svelte-vmrgry")&amp;&amp;b(t,"class",e)},d(r){r&amp;&amp;_(t)}}}function ay(s){let t,e,n,r,i,o,a,l,c;return e=new Di({props:{imageUrl:s[0].image_preview_url,$$slots:{default:[oy]},$$scope:{ctx:s}}}),{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("h3"),r.textContent="Your cat is dirty!!!",i=N(),o=w("p"),o.textContent="Your cat is usually good at cleaning himself, but today he chose to roll around in the mud :-/",H(t,"text-align","center"),H(t,"padding","0 25px")},m(u,f){L(u,t,f),X(e,t,null),p(t,n),p(t,r),p(t,i),p(t,o),a=!0,l||(c=Ct(window,"message",s[2]),l=!0)},p(u,[f]){const h={};f&amp;1&amp;&amp;(h.imageUrl=u[0].image_preview_url),f&amp;10&amp;&amp;(h.$$scope={dirty:f,ctx:u}),e.$set(h)},i(u){a||(S(e.$$.fragment,u),a=!0)},o(u){B(e.$$.fragment,u),a=!1},d(u){u&amp;&amp;_(t),q(e),l=!1,c()}}}function ly(s,t,e){let n,r=!1;return qt.data.subscribe(o=&gt;{e(0,n=o.token)}),[n,r,o=&gt;{var a,l,c;if(((a=o.data)==null?void 0:a.method)==="transactionEvent")switch((c=(l=o.data)==null?void 0:l.params)==null?void 0:c.status){case"started":e(1,r=!0);break;case"error":e(1,r=!1);break;case"completed":e(1,r=!1);break}}]}class cy extends Et{constructor(t){super(),vt(this,t,ly,ay,At,{})}}function uy(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E=zn(s[0].level)+"",x;return{c(){t=w("div"),e=w("img"),r=N(),i=w("img"),a=N(),l=w("img"),u=N(),f=w("div"),h=w("div"),g=w("label"),g.textContent="Smart level",y=N(),A=w("span"),x=j(E),b(e,"class","level-image svelte-qgh38x"),b(e,"alt","leveling up"),pe(e.src,n=va)||b(e,"src",n),b(i,"class","level-image level-image2 svelte-qgh38x"),b(i,"alt","leveling up"),pe(i.src,o=va)||b(i,"src",o),b(l,"class","level-image level-image3 svelte-qgh38x"),b(l,"alt","leveling up"),pe(l.src,c=va)||b(l,"src",c),b(t,"class","meme-wrapper svelte-qgh38x"),H(t,"display",s[1]?"block":"none"),b(h,"class","smart-level-box score-box svelte-qgh38x"),b(f,"class","smart-level-wrapper svelte-qgh38x")},m(C,I){L(C,t,I),p(t,e),p(t,r),p(t,i),p(t,a),p(t,l),L(C,u,I),L(C,f,I),p(f,h),p(h,g),p(h,y),p(h,A),p(A,x)},p(C,I){I&amp;2&amp;&amp;H(t,"display",C[1]?"block":"none"),I&amp;1&amp;&amp;E!==(E=zn(C[0].level)+"")&amp;&amp;Pt(x,E)},d(C){C&amp;&amp;(_(t),_(u),_(f))}}}function fy(s){let t,e,n,r,i,o,a,l,c;return o=new Di({props:{imageUrl:s[0].image_preview_url,$$slots:{default:[uy]},$$scope:{ctx:s}}}),{c(){t=w("div"),e=w("h3"),e.textContent="Getting smarter!",n=N(),r=w("p"),r.textContent="You've been taking good care of your cat, he's learning more skillz!",i=N(),nt(o.$$.fragment)},m(u,f){L(u,t,f),p(t,e),p(t,n),p(t,r),p(t,i),X(o,t,null),a=!0,l||(c=Ct(window,"message",s[2]),l=!0)},p(u,[f]){const h={};f&amp;1&amp;&amp;(h.imageUrl=u[0].image_preview_url),f&amp;11&amp;&amp;(h.$$scope={dirty:f,ctx:u}),o.$set(h)},i(u){a||(S(o.$$.fragment,u),a=!0)},o(u){B(o.$$.fragment,u),a=!1},d(u){u&amp;&amp;_(t),q(o),l=!1,c()}}}const va="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Maths.png";function hy(s,t,e){let n;qt.data.subscribe(o=&gt;{e(0,n=o.token)});let r=!1;return[n,r,o=&gt;{var a,l,c;if(((a=o.data)==null?void 0:a.method)==="transactionEvent")switch((c=(l=o.data)==null?void 0:l.params)==null?void 0:c.status){case"started":e(1,r=!0);break;case"error":e(1,r=!1);break;case"completed":e(1,r=!1);break}}]}class dy extends Et{constructor(t){super(),vt(this,t,hy,fy,At,{})}}function py(s){let t,e,n=s[0].message+"",r,i,o,a=s[0].sendingTokenId==s[1]&amp;&amp;s[0].read?"✓ (seen) ":"",l,c,u,f;return{c(){t=w("div"),e=w("div"),r=j(n),i=N(),o=w("small"),l=j(a),c=N(),u=j(s[2]),b(e,"class","message-content svelte-s0p2vl"),b(o,"class","message-meta svelte-s0p2vl"),b(t,"class",f="message-bubble "+(s[0].sendingTokenId==s[1]?"sender":"")+" svelte-s0p2vl")},m(h,g){L(h,t,g),p(t,e),p(e,r),p(t,i),p(t,o),p(o,l),p(o,c),p(o,u)},p(h,[g]){g&amp;1&amp;&amp;n!==(n=h[0].message+"")&amp;&amp;Pt(r,n),g&amp;3&amp;&amp;a!==(a=h[0].sendingTokenId==h[1]&amp;&amp;h[0].read?"✓ (seen) ":"")&amp;&amp;Pt(l,a),g&amp;4&amp;&amp;Pt(u,h[2]),g&amp;3&amp;&amp;f!==(f="message-bubble "+(h[0].sendingTokenId==h[1]?"sender":"")+" svelte-s0p2vl")&amp;&amp;b(t,"class",f)},i:K,o:K,d(h){h&amp;&amp;_(t)}}}function gy(s,t,e){let{message:n}=t,{senderTokenId:r}=t,i;return s.$$set=o=&gt;{"message"in o&amp;&amp;e(0,n=o.message),"senderTokenId"in o&amp;&amp;e(1,r=o.senderTokenId)},s.$$.update=()=&gt;{if(s.$$.dirty&amp;1){const o=new Date,a=new Date(n.createdAt);a.setTime(a.getTime()+o.getTimezoneOffset()*6e4),a.getDate()&lt;o.getDate()?e(2,i=a.toLocaleString()):e(2,i=a.toLocaleTimeString())}},[n,r,i]}class my extends Et{constructor(t){super(),vt(this,t,gy,py,At,{message:0,senderTokenId:1})}}function uu(s,t,e){const n=s.slice();return n[15]=t[e],n}function fu(s){let t,e,n=je(s[2]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=hu(uu(s,n,o));const i=o=&gt;B(r[o],1,1,()=&gt;{r[o]=null});return{c(){for(let o=0;o&lt;r.length;o+=1)r[o].c();t=Ps()},m(o,a){for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(o,a);L(o,t,a),e=!0},p(o,a){if(a&amp;6){n=je(o[2]);let l;for(l=0;l&lt;n.length;l+=1){const c=uu(o,n,l);r[l]?(r[l].p(c,a),S(r[l],1)):(r[l]=hu(c),r[l].c(),S(r[l],1),r[l].m(t.parentNode,t))}for(_t(),l=n.length;l&lt;r.length;l+=1)i(l);Lt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)S(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)B(r[a]);e=!1},d(o){o&amp;&amp;_(t),Ui(r,o)}}}function hu(s){let t,e;return t=new my({props:{message:s[15],senderTokenId:s[1].tokenId}}),{c(){nt(t.$$.fragment)},m(n,r){X(t,n,r),e=!0},p(n,r){const i={};r&amp;4&amp;&amp;(i.message=n[15]),r&amp;2&amp;&amp;(i.senderTokenId=n[1].tokenId),t.$set(i)},i(n){e||(S(t.$$.fragment,n),e=!0)},o(n){B(t.$$.fragment,n),e=!1},d(n){q(t,n)}}}function yy(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,A,E,x,C,I,O,M,W,tt,U,Q,st,ot,bt,kt,mt,Ft,rt=s[2]&amp;&amp;fu(s);return h=new Ur({props:{show:s[4]}}),{c(){t=w("div"),e=w("div"),n=w("div"),n.textContent="&lt;",r=N(),i=w("div"),o=j("Chat with cat #"),a=j(s[0]),l=N(),c=w("div"),rt&amp;&amp;rt.c(),u=N(),f=w("div"),nt(h.$$.fragment),g=N(),y=w("div"),A=w("textarea"),E=N(),x=w("button"),C=xe("svg"),I=xe("g"),O=xe("path"),M=xe("path"),W=xe("defs"),tt=xe("linearGradient"),U=xe("stop"),Q=xe("stop"),st=xe("clipPath"),ot=xe("rect"),b(n,"id","message-close"),b(n,"class","svelte-ramucj"),b(i,"id","message-title"),b(i,"class","svelte-ramucj"),b(e,"id","message-header"),b(e,"class","svelte-ramucj"),b(f,"class","loader-modal"),H(f,"display",s[4]?"block":"none"),b(c,"id","message-history"),b(c,"class","svelte-ramucj"),b(A,"class","message-input svelte-ramucj"),b(A,"placeholder","Message..."),A.disabled=s[4],b(O,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),b(O,"fill","url(#paint0_linear_1078_955)"),b(M,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),b(M,"fill","white"),b(M,"fill-opacity","0.8"),b(I,"clip-path","url(#clip0_1078_955)"),b(U,"stop-color","#001AFF"),b(Q,"offset","1"),b(Q,"stop-color","#4F95FF"),b(tt,"id","paint0_linear_1078_955"),b(tt,"x1","12.0883"),b(tt,"y1","10.7548"),b(tt,"x2","20.3005"),b(tt,"y2","17.941"),b(tt,"gradientUnits","userSpaceOnUse"),b(ot,"width","24"),b(ot,"height","24"),b(ot,"fill","white"),b(ot,"transform","translate(0.5 0.5)"),b(st,"id","clip0_1078_955"),b(C,"width","25"),b(C,"height","25"),b(C,"viewBox","0 0 25 25"),b(C,"fill","none"),b(C,"xmlns","http://www.w3.org/2000/svg"),b(x,"type","button"),x.disabled=bt=s[4]||!s[3].length,b(x,"class","svelte-ramucj"),b(y,"id","send-message"),b(y,"class","svelte-ramucj"),b(t,"id","message-popup"),b(t,"class","svelte-ramucj")},m(lt,Y){L(lt,t,Y),p(t,e),p(e,n),p(e,r),p(e,i),p(i,o),p(i,a),p(t,l),p(t,c),rt&amp;&amp;rt.m(c,null),p(c,u),p(c,f),X(h,f,null),p(t,g),p(t,y),p(y,A),Il(A,s[3]),p(y,E),p(y,x),p(x,C),p(C,I),p(I,O),p(I,M),p(C,W),p(W,tt),p(tt,U),p(tt,Q),p(W,st),p(st,ot),kt=!0,mt||(Ft=[Ct(n,"click",s[9]),Ct(A,"input",s[10]),Ct(x,"click",s[11])],mt=!0)},p(lt,[Y]){(!kt||Y&amp;1)&amp;&amp;Pt(a,lt[0]),lt[2]?rt?(rt.p(lt,Y),Y&amp;4&amp;&amp;S(rt,1)):(rt=fu(lt),rt.c(),S(rt,1),rt.m(c,u)):rt&amp;&amp;(_t(),B(rt,1,1,()=&gt;{rt=null}),Lt());const et={};Y&amp;16&amp;&amp;(et.show=lt[4]),h.$set(et),(!kt||Y&amp;16)&amp;&amp;H(f,"display",lt[4]?"block":"none"),(!kt||Y&amp;16)&amp;&amp;(A.disabled=lt[4]),Y&amp;8&amp;&amp;Il(A,lt[3]),(!kt||Y&amp;24&amp;&amp;bt!==(bt=lt[4]||!lt[3].length))&amp;&amp;(x.disabled=bt)},i(lt){kt||(S(rt),S(h.$$.fragment,lt),kt=!0)},o(lt){B(rt),B(h.$$.fragment,lt),kt=!1},d(lt){lt&amp;&amp;_(t),rt&amp;&amp;rt.d(),q(h),mt=!1,Jn(Ft)}}}function Ea(s=!1){setTimeout(()=&gt;{let t=document.getElementById("message-history");s?t.scroll({top:t.scrollHeight,behavior:"smooth"}):t.scrollTop=t.scrollHeight},200)}function wy(s,t,e){let{closed:n}=t,{friendId:r}=t,{threadsList:i}=t,o,a,l=null,c="",u,f=!0;async function h(){e(4,f=!0);try{const C=await o.sendMessage(c,r);e(2,l=[...l,C]);const I=i.find(O=&gt;O.tokenId==r);I.messages=l,e(3,c=""),Ea(!0),console.log("Message sent: ",C)}catch(C){console.error(C),alert("Message send failed: "+C.message)}e(4,f=!1)}async function g(C=!1){const I=i.find(O=&gt;O.tokenId==r);if(I.messages&amp;&amp;!C){e(2,l=I.messages),Ea();return}I.messages=await o.getMessageHistory(r),I.unread=0,e(2,l=I.messages),Ea(C)}qt.data.subscribe(async C=&gt;{if(C.token){e(1,a=C.token),o=await qt.getMessageClient();try{await g()}catch(I){console.error(I),alert("Message load failed: "+I.message)}e(4,f=!1),u=setInterval(()=&gt;g(!0),1e4)}});function y(){u&amp;&amp;clearInterval(u),n()}const A=()=&gt;y();function E(){c=this.value,e(3,c)}const x=()=&gt;h();return s.$$set=C=&gt;{"closed"in C&amp;&amp;e(7,n=C.closed),"friendId"in C&amp;&amp;e(0,r=C.friendId),"threadsList"in C&amp;&amp;e(8,i=C.threadsList)},[r,a,l,c,f,h,y,n,i,A,E,x]}class Ay extends Et{constructor(t){super(),vt(this,t,wy,yy,At,{closed:7,friendId:0,threadsList:8})}}function du(s,t,e){const n=s.slice();return n[8]=t[e],n[9]=t,n[10]=e,n}function pu(s){let t,e,n,r;const i=[vy,by],o=[];function a(l,c){return l[0].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=Ps()},m(l,c){o[t].m(l,c),L(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(_t(),B(o[u],1,1,()=&gt;{o[u]=null}),Lt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),S(e,1),e.m(n.parentNode,n))},i(l){r||(S(e),r=!0)},o(l){B(e),r=!1},d(l){l&amp;&amp;_(n),o[t].d(l)}}}function by(s){let t,e;return{c(){t=w("h5"),t.textContent="You don't have any friends yet :-(",e=w("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){L(n,t,r),L(n,e,r)},p:K,i:K,o:K,d(n){n&amp;&amp;(_(t),_(e))}}}function vy(s){let t,e,n=je(s[0]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=gu(du(s,n,o));const i=o=&gt;B(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=w("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){L(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;3){n=je(o[0]);let l;for(l=0;l&lt;n.length;l+=1){const c=du(o,n,l);r[l]?(r[l].p(c,a),S(r[l],1)):(r[l]=gu(c),r[l].c(),S(r[l],1),r[l].m(t,null))}for(_t(),l=n.length;l&lt;r.length;l+=1)i(l);Lt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)S(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)B(r[a]);e=!1},d(o){o&amp;&amp;_(t),Ui(r,o)}}}function gu(s){let t,e,n,r,i,o,a,l=s[8].tokenId+"",c,u,f,h=s[8].unread+"",g,y,A,E,x,C,I,O,M,W;e=new Ji({props:{tokenUri:s[8].tokenUri}}),C=new Ki({props:{address:s[8].owner}});function tt(){return s[3](s[8],s[9],s[10])}return{c(){t=w("div"),nt(e.$$.fragment),n=N(),r=w("div"),i=w("div"),o=w("h4"),a=j("#"),c=j(l),u=N(),f=w("span"),g=j(h),y=j(" Unread"),E=N(),x=w("div"),nt(C.$$.fragment),I=N(),b(f,"class",A=Ao("unread-count"+(s[8].unread&gt;0?" has-unread":""))+" svelte-zmrcgg"),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item")},m(U,Q){L(U,t,Q),X(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(f,y),p(r,E),p(r,x),X(C,x,null),p(t,I),O=!0,M||(W=Ct(t,"click",tt),M=!0)},p(U,Q){s=U;const st={};Q&amp;1&amp;&amp;(st.tokenUri=s[8].tokenUri),e.$set(st),(!O||Q&amp;1)&amp;&amp;l!==(l=s[8].tokenId+"")&amp;&amp;Pt(c,l),(!O||Q&amp;1)&amp;&amp;h!==(h=s[8].unread+"")&amp;&amp;Pt(g,h),(!O||Q&amp;1&amp;&amp;A!==(A=Ao("unread-count"+(s[8].unread&gt;0?" has-unread":""))+" svelte-zmrcgg"))&amp;&amp;b(f,"class",A);const ot={};Q&amp;1&amp;&amp;(ot.address=s[8].owner),C.$set(ot)},i(U){O||(S(e.$$.fragment,U),S(C.$$.fragment,U),O=!0)},o(U){B(e.$$.fragment,U),B(C.$$.fragment,U),O=!1},d(U){U&amp;&amp;_(t),q(e),q(C),M=!1,W()}}}function mu(s){let t,e;return t=new Ay({props:{threadsList:s[0],friendId:s[1],closed:s[4]}}),{c(){nt(t.$$.fragment)},m(n,r){X(t,n,r),e=!0},p(n,r){const i={};r&amp;1&amp;&amp;(i.threadsList=n[0]),r&amp;2&amp;&amp;(i.friendId=n[1]),r&amp;2&amp;&amp;(i.closed=n[4]),t.$set(i)},i(n){e||(S(t.$$.fragment,n),e=!0)},o(n){B(t.$$.fragment,n),e=!1},d(n){q(t,n)}}}function Ey(s){let t,e,n,r,i,o,a,l,c,u,f,h=s[0]&amp;&amp;pu(s);c=new Ur({props:{show:s[2]}});let g=s[1]&amp;&amp;mu(s);return{c(){t=w("h3"),t.textContent="Messages",e=N(),n=w("p"),n.textContent="Send messages to other cat owners.",r=N(),i=w("div"),i.innerHTML=`The chat is not moderated so please:
	&lt;ul&gt;&lt;li&gt;Do not visit any links sent by people in chat&lt;/li&gt; &lt;li&gt;Be respectful &amp;amp; mindful of inappropriate language&lt;/li&gt;&lt;/ul&gt;
	Offenders may have their cat confiscated by SmartCat protective services.`,o=N(),a=w("div"),h&amp;&amp;h.c(),l=N(),nt(c.$$.fragment),u=N(),g&amp;&amp;g.c(),H(i,"text-align","left"),H(i,"border-radius","5px"),H(i,"border","2px solid red"),H(i,"padding","5px"),H(i,"margin","0 10px 20px 0"),H(i,"font-size","12px"),b(a,"id","thread-list")},m(y,A){L(y,t,A),L(y,e,A),L(y,n,A),L(y,r,A),L(y,i,A),L(y,o,A),L(y,a,A),h&amp;&amp;h.m(a,null),p(a,l),X(c,a,null),p(a,u),g&amp;&amp;g.m(a,null),f=!0},p(y,[A]){y[0]?h?(h.p(y,A),A&amp;1&amp;&amp;S(h,1)):(h=pu(y),h.c(),S(h,1),h.m(a,l)):h&amp;&amp;(_t(),B(h,1,1,()=&gt;{h=null}),Lt());const E={};A&amp;4&amp;&amp;(E.show=y[2]),c.$set(E),y[1]?g?(g.p(y,A),A&amp;2&amp;&amp;S(g,1)):(g=mu(y),g.c(),S(g,1),g.m(a,null)):g&amp;&amp;(_t(),B(g,1,1,()=&gt;{g=null}),Lt())},i(y){f||(S(h),S(c.$$.fragment,y),S(g),f=!0)},o(y){B(h),B(c.$$.fragment,y),B(g),f=!1},d(y){y&amp;&amp;(_(t),_(e),_(n),_(r),_(i),_(o),_(a)),h&amp;&amp;h.d(),q(c),g&amp;&amp;g.d()}}}function ky(s,t,e){let n,r=null,i=null,o=!0;const a=async()=&gt;{var g;const u=await(await qt.getMessageClient()).getNewMessages(),f=await Al(n),h=[];for(const y of f)h.push({...y,unread:((g=u.senders[y.tokenId])==null?void 0:g.unread)??0});e(0,r=h.sort((y,A)=&gt;y.unread&lt;A.unread?1:-1))};return qt.data.subscribe(async u=&gt;{if(u.token){n=u.token;try{await a()}catch(f){console.error(f)}e(2,o=!1),setInterval(()=&gt;a(),6e4)}}),[r,i,o,(u,f,h)=&gt;{e(1,i=u.tokenId),e(0,f[h].unread=0,r)},()=&gt;e(1,i=null)]}class Cy extends Et{constructor(t){super(),vt(this,t,ky,Ey,At,{})}}function yu(s){let t,e,n,r,i,o,a,l=s[1]?"2. Complete Quest":"1. Sign Challenge",c,u,f;return{c(){t=w("div"),e=w("h4"),e.textContent="Aethir",n=N(),r=w("p"),r.textContent="Follow Aethir on Twitter to get 200 points",i=N(),o=w("div"),a=w("a"),c=j(l),b(a,"data-link","https://smartlayer.network/pass?enableTwitterRaid=true"),b(a,"data-challenge","AethirTwitterRaid"),b(a,"target","_blank"),b(a,"href",s[1]),b(o,"class","link-button svelte-1stdw6e"),H(o,"position","relative"),H(o,"margin","0 auto"),H(o,"max-width","200px"),b(t,"class","partner-link svelte-1stdw6e")},m(h,g){L(h,t,g),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(o,a),p(a,c),u||(f=Ct(a,"click",s[3]),u=!0)},p(h,g){g&amp;2&amp;&amp;l!==(l=h[1]?"2. Complete Quest":"1. Sign Challenge")&amp;&amp;Pt(c,l),g&amp;2&amp;&amp;b(a,"href",h[1])},d(h){h&amp;&amp;_(t),u=!1,f()}}}function Py(s){let t,e,n,r,i,o,a,l=s[0]&amp;&amp;yu(s);return{c(){t=w("div"),e=w("h3"),e.textContent="Our Partners",n=N(),r=w("p"),r.textContent="Earn additional SmartLayer points by completing quests only available through your SmartCat",i=N(),o=w("p"),o.textContent="These are gas free transactions powered by your SmartLayer pass.",a=N(),l&amp;&amp;l.c()},m(c,u){L(c,t,u),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,a),l&amp;&amp;l.m(t,null)},p(c,[u]){c[0]?l?l.p(c,u):(l=yu(c),l.c(),l.m(t,null)):l&amp;&amp;(l.d(1),l=null)},i:K,o:K,d(c){c&amp;&amp;_(t),l&amp;&amp;l.d()}}}function xy(s,t,e){let n,r;qt.data.subscribe(async a=&gt;{a.token&amp;&amp;e(0,n=a.token)});function i(a){const l=a.target;if(l.getAttribute("href"))return;const u=l.getAttribute("data-link");let f=l.getAttribute("data-challenge");f+=n.tokenId,web3.personal.sign({data:f},function(h,g){if(h!=null)alert(h);else{console.log(g);const y=f+"-"+g,A=u+(u.indexOf("?")&gt;-1?"&amp;":"?")+"challenge="+encodeURIComponent(y);e(1,r=A)}})}return[n,r,i,a=&gt;i(a)]}class Iy extends Et{constructor(t){super(),vt(this,t,xy,Py,At,{})}}function wu(s){let t,e,n,r,i;const o=s[3].default,a=qa(o,s,s[2],null);return{c(){t=w("strong"),t.textContent="Minting starts in:",e=N(),n=w("h3"),r=N(),a&amp;&amp;a.c()},m(l,c){L(l,t,c),L(l,e,c),L(l,n,c),n.innerHTML=s[0],L(l,r,c),a&amp;&amp;a.m(l,c),i=!0},p(l,c){(!i||c&amp;1)&amp;&amp;(n.innerHTML=l[0]),a&amp;&amp;a.p&amp;&amp;(!i||c&amp;4)&amp;&amp;el(a,o,l,l[2],i?tl(o,l[2],c,null):nl(l[2]),null)},i(l){i||(S(a,l),i=!0)},o(l){B(a,l),i=!1},d(l){l&amp;&amp;(_(t),_(e),_(n),_(r)),a&amp;&amp;a.d(l)}}}function Ny(s){let t,e,n=!s[1]&amp;&amp;wu(s);return{c(){t=w("div"),n&amp;&amp;n.c(),H(t,"padding","20px")},m(r,i){L(r,t,i),n&amp;&amp;n.m(t,null),e=!0},p(r,[i]){r[1]?n&amp;&amp;(_t(),B(n,1,1,()=&gt;{n=null}),Lt()):n?(n.p(r,i),i&amp;2&amp;&amp;S(n,1)):(n=wu(r),n.c(),S(n,1),n.m(t,null))},i(r){e||(S(n),e=!0)},o(r){B(n),e=!1},d(r){r&amp;&amp;_(t),n&amp;&amp;n.d()}}}function Ty(s,t,e){let{$$slots:n={},$$scope:r}=t,i="-",o,a,l=!1;Fi(async()=&gt;{const u=ym();a=Number(await u.mintStartTime())*1e3,console.log("Mint start time: ",a),o=setInterval(()=&gt;{c()},1e3)});function c(){const u=Date.now();if(a&lt;u){e(0,i='&lt;span style="color: #D93F45;"&gt;Now&lt;/span&gt;'),clearInterval(o),e(1,l=!0);return}const f=a-u,h=Math.floor(f/1e3),g=Math.floor(h/60),y=Math.floor(g/60),A=h%60,E=g%60;e(0,i=`${(y&lt;10?"0":"")+y}:${(E&lt;10?"0":"")+E}:${(A&lt;10?"0":"")+A}`)}return ku(()=&gt;{clearInterval(o)}),s.$$set=u=&gt;{"$$scope"in u&amp;&amp;e(2,r=u.$$scope)},[i,l,r,n]}class dh extends Et{constructor(t){super(),vt(this,t,Ty,Ny,At,{})}}function Sy(s){let t;return{c(){t=w("p"),t.textContent="You can pre-approve wETH to get ready for the mint!"},m(e,n){L(e,t,n)},p:K,d(e){e&amp;&amp;_(t)}}}function By(s){let t,e,n,r,i,o,a,l,c,u;return c=new dh({props:{$$slots:{default:[Sy]},$$scope:{ctx:s}}}),{c(){t=w("div"),e=w("h3"),e.textContent="Approve wETH for loot purchase",n=N(),r=w("p"),r.textContent="Before purchasing loot you must approve wETH to be sent to the minting contract.",i=N(),o=w("img"),l=N(),nt(c.$$.fragment),b(o,"alt","loot-preview"),H(o,"max-width","200px"),H(o,"width","100%"),pe(o.src,a="https://viewer-staging.tokenscript.org/assets/tokenscripts/smart-cat/loot-meta/contract.png")||b(o,"src",a),H(t,"text-align","center"),H(t,"padding","10px")},m(f,h){L(f,t,h),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,l),X(c,t,null),u=!0},p(f,[h]){const g={};h&amp;2&amp;&amp;(g.$$scope={dirty:h,ctx:f}),c.$set(g)},i(f){u||(S(c.$$.fragment,f),u=!0)},o(f){B(c.$$.fragment,f),u=!1},d(f){f&amp;&amp;_(t),q(c)}}}function Oy(s){return qt.data.subscribe(t=&gt;{t.token}),[]}class _y extends Et{constructor(t){super(),vt(this,t,Oy,By,At,{})}}function Ly(s){let t,e,n,r,i,o,a,l,c,u;return c=new dh({}),{c(){t=w("div"),e=w("h3"),e.textContent="Finalize purchase of SmartCatLoot NFT",n=N(),r=w("p"),r.textContent="You have successfully approved wETH for Loot purchase.",i=N(),o=w("img"),l=N(),nt(c.$$.fragment),b(o,"alt","loot-preview"),H(o,"max-width","200px"),H(o,"width","100%"),pe(o.src,a="https://viewer-staging.tokenscript.org/assets/tokenscripts/smart-cat/loot-meta/contract.png")||b(o,"src",a),H(t,"text-align","center"),H(t,"padding","10px")},m(f,h){L(f,t,h),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,l),X(c,t,null),u=!0},p:K,i(f){u||(S(c.$$.fragment,f),u=!0)},o(f){B(c.$$.fragment,f),u=!1},d(f){f&amp;&amp;_(t),q(c)}}}function Ry(s){return qt.data.subscribe(t=&gt;{t.token}),[]}class Uy extends Et{constructor(t){super(),vt(this,t,Ry,Ly,At,{})}}function Fy(s){let t,e,n,r,i,o;var a=s[0];function l(c,u){return{}}return a&amp;&amp;(n=Nl(a,l())),{c(){t=w("div"),e=w("div"),n&amp;&amp;nt(n.$$.fragment),b(e,"id","token-container")},m(c,u){L(c,t,u),p(t,e),n&amp;&amp;X(n,e,null),r=!0,i||(o=Ct(window,"hashchange",s[1]),i=!0)},p(c,[u]){if(u&amp;1&amp;&amp;a!==(a=c[0])){if(n){_t();const f=n;B(f.$$.fragment,1,0,()=&gt;{q(f,1)}),Lt()}a?(n=Nl(a,l()),nt(n.$$.fragment),S(n.$$.fragment,1),X(n,e,null)):n=null}},i(c){r||(n&amp;&amp;S(n.$$.fragment,c),r=!0)},o(c){n&amp;&amp;B(n.$$.fragment,c),r=!1},d(c){c&amp;&amp;_(t),n&amp;&amp;q(n),i=!1,o()}}}function Dy(s,t,e){let n,r=!1;const i={"#info":Mm,"#adopt":Lh,"#feed":Vm,"#play":Zm,"#invite":iy,"#clean":cy,"#levelUp":dy,"#messages":Cy,"#partners":Iy,"#lootApprove":_y,"#lootPurchase":Uy};let o;function a(){e(0,o=i[n.level==0?"#adopt":document.location.hash]||Gm)}return web3.tokens.dataChanged=async(l,c,u)=&gt;{r||(qt.setToken(c.currentInstance),n=c.currentInstance,r=!0,a())},[o,a]}class My extends Et{constructor(t){super(),vt(this,t,Dy,Fy,At,{})}}new My({target:document.body});


//]]&gt;</script>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com"/>
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>


<style>
					/* <![CDATA[ */
					
* {
	font-family: "Rubik", sans-serif;
	box-sizing: border-box;
}

body {
	text-align: center;
	color: #0B0B0B;
}

h1 {
	font-size: 22px;
}

h2 {
	font-size: 20px;
}

h3 {
	font-size: 18px;
}

h5 {
	font-size: 16px;
	margin-bottom: 12px;
}

p.light {
	color: #545454;
}

.cat-list {
	display: flex;
	flex-direction: column;
}

.cat-list-item {
	width: 100%;
	margin: 6px 0;
	display: flex;
	cursor: pointer;
	overflow: hidden;
	height: 64px;
	position: relative;
	border-radius: 8px;
	border: 1px solid #DDD;
	background: #FFFEFE;
	box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

.cat-list-item.cant-play {
	opacity: 0.7;
}

.cat-list-item.selected {
	background-color: #8A9CB81F;
}

.cat-list-info {
	flex-grow: 1;
	text-align: left;
	padding: 10px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	justify-content: center;
	gap: 8px;
}

.cat-list-title {
	display: flex;
	align-items: center;
	font-size: 14px;
}

.cat-list-info h4 {
	flex-grow: 1;
	margin: 0;
	font-weight: 600;
}

.eth-address {
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow: hidden;
	max-width: 100%;
	display: block;
	font-size: 12px;
}

.loader-modal {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
}

.score-box {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	flex: 1 0 0;
}

.score-box label {
	font-size: 16px;
	color: #8B8B8B;
}

.score-box span {
	font-weight: 600;
	color: #011aff;
}

.form-field {
	position: relative;
	margin: 25px auto;
	height: 50px;
	width: 100%;
	max-width: 300px;
}

.form-field label {
	position: absolute;
	left: 12px;
	top: 12px;
	transition: all 0.3s ease;
	font-size: 16px;
	color: #969696;
	background: #fff;
	padding: 2px 4px;
}

.form-field input {
	background-color: transparent;
	padding: 16px 12px;
	border: 1px solid #969696;
	border-radius: 4px;
	width: 100%;
}

.form-field input:focus + label, input:not(:placeholder-shown) ~ label {
	top: -8px;
	font-size: 12px;
	color: #011aff;
}

.form-field input:focus {
	outline: 0;
	border-color: #011aff !important;
}

.link-button a, .link-button div {
	height: 56px;
	padding: 0 24px;
	display: flex;
	justify-content: center;
	align-items: center;
	border-radius: 10px;
	border: 2px solid #011aff;
	color: #011aff;
	font-size: 16px;
	font-weight: 600;
	text-decoration: none;
}

.primary-btn {
	height: 40px;
	padding: 0 16px;
	border: none;
	border-radius: 10px;
	color: #fff;
	background: linear-gradient(235deg, #001AFF 37.73%, #4F95FF 118.69%);
	cursor: pointer;
}
.primary-btn:hover {
	background: linear-gradient(214.82deg, #001AFF -21.14%, #4F95FF 89.22%);
}

/*::-webkit-scrollbar {
	height: 8px;
	width: 8px;
	background: #aaa;
}

::-webkit-scrollbar:hover {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-thumb {
	background: #605f5d;
	-webkit-border-radius: 1ex;
}

::-webkit-scrollbar-corner {
	background: #000;
}*/

					/* ]]> */
				</style></ts:viewContent>

		

		<ts:card buttonClass="featured" exclude="sufficientAllowance" name="purchaseLoot" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Purchase Loot</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="wETH" function="approve">
					<ts:data>
						<ts:address>0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
						<ts:uint256>100000000000000000</ts:uint256>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="lootApprove" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card buttonClass="featured" exclude="insufficientAllowance" name="finalizeLoot" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Finalize Loot Purchase</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatLoot" function="buy">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="lootPurchase" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Info" origins="SmartCatNFT" type="token">
			<ts:label>
				<ts:string xml:lang="en">Cat Bio</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="info" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="adopted" name="adopt" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Adopt</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="adopt" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="cantLevelUp" name="levelUp" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Level Up!</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="levelUp">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="levelUp" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyFed" name="feedCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Feed Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="feed" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyCleaned" name="cleanCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Clean Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="cleanCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="clean" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyPlayed" name="playDateRequests" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Accept Playdates</ts:string>
			</ts:label>
			<ts:attribute name="inviter">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="acceptPlayDate">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="inviter"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="play" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="inviteCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Invite Cat for Playdate</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="inviteCatForPlaying">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="invitee"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="invite" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="messages" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Messages</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="messages" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Partners" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Partners</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="partners" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

	</ts:cards>

	<ts:attribute name="level">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Level</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="uint" contract="SmartCatScore" function="getLevel">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canFeed">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Feed</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canFeed">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canPlay">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Play</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canPlay">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canClean">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Clean</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canClean">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canLevelUp">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Level Up</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canLevelUp">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="wethAllowance">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:origins>
			<ethereum:call as="uint" contract="wETH" function="allowance">
				<ts:data>
					<ts:address ref="ownerAddress"/>
					<ts:address>0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"/><ds:Reference><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>zFMwrXCPdFVHXq6PSljx65a57+MmGOZcRqU2kY4zSzk=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>8XAeHpzTDEkly2jb7DUw35MVggFtzV6SLGlsSBXg0sBzF3Yusp1yj2v9PmNbgfm+XjjF58jJfKsoDYakclUG9w==</ds:SignatureValue><ds:KeyInfo><ds:KeyValue><ecdsa:ECDSAKeyValue xmlns:ecdsa="http://www.w3.org/2001/04/xmldsig-more#"><ecdsa:DomainParameters><ecdsa:NamedCurve URI="urn:oid:1.3.132.0.10"/></ecdsa:DomainParameters><ecdsa:PublicKey><ecdsa:X>4AQVAWD3IY5tHmASnBn38RKHrVTFodVnV4IAFStb3sg=</ecdsa:X><ecdsa:Y>ZmUq25j5e065TtcZyDY7FqHBTk8aJ2Jc/Kq5kHYq2mQ=</ecdsa:Y></ecdsa:PublicKey></ecdsa:ECDSAKeyValue></ds:KeyValue><ds:X509Data><ds:X509Certificate>MIIBxjCCAWygAwIBAgIBATAKBggqhkjOPQQDAjATMREwDwYDVQQDEwhTbWFydENhdDAeFw0yMzEwMjcwMjA5NTVaFw0yNTEwMjcwMjA5NTVaMBUxEzARBgNVBAMTCm1pY2N5Mi5ldGgwVjAQBgcqhkjOPQIBBgUrgQQACgNCAATgBBUBYPchjm0eYBKcGffxEoetVMWh1WdXggAVK1veyGZlKtuY+XtOuU7XGcg2OxahwU5PGidiXPyquZB2Ktpko4GxMIGuMA8GA1UdEwEB/wQFMAMCAQAwDgYDVR0PAQH/BAQDAgeAMB0GA1UdDgQWBBT3uFcb7xlllKr0HM1DFQJHJ8hyejAfBgNVHSMEGDAWgBQTK5vtCxgRHrj6QrtB/Rla2wPb6zBLBgNVHRIBAf8EQQQiMGC8T8daGKYhMWFsHwmZeRV1aawywGcGKDKIC6NV7LE1OxsmNRtSSKXkJJkhw8SYX8B8XYadL2Tsb1LMgUVfMAoGCCqGSM49BAMCA0gAMEUCIFDiOxh1gdQLKpGTgWvfYstsEd4uDZGlz9JEfC+nIApKAiEA1Onj6C8Bu0X3mUU++GnbV3wW01mxM7eQPzi7ebd10ek=</ds:X509Certificate></ds:X509Data></ds:KeyInfo></ds:Signature></ts:token>