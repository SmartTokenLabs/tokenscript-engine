<ts:token xmlns:ethereum="urn:ethereum:constantinople" xmlns:ts="http://tokenscript.org/2022/09/tokenscript" xmlns:xhmtl="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="SmartCat" xsi:schemaLocation="http://tokenscript.org/2022/09/tokenscript http://tokenscript.org/2022/09/tokenscript.xsd">
	<ts:label>
		<ts:plurals xml:lang="en">
			<ts:string quantity="one">SmartCat</ts:string>
			<ts:string quantity="other">SmartCats</ts:string>
		</ts:plurals>
	</ts:label>

	<ts:meta>
		<ts:description xml:lang="en">Adopt a cat and boost their intelligence through fun care tasks.</ts:description>
		<ts:aboutUrl xml:lang="en">https://medium.com/alphawallet/the-smart-cat-is-out-of-the-bag-b631d2588de2</ts:aboutUrl>
	</ts:meta>

	<ts:contract interface="erc721" name="SmartCatNFT">




		<ts:address network="80001">0x614cF3021705977c2eF4beb9D7f10a6bF4EAEBF6</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatScore">




		<ts:address network="80001">0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F</ts:address>
	</ts:contract>
	<ts:contract name="wETH">


		<ts:address network="80001">0x3B0deCF3FCe1abD6717B045C47f4558C67fE79fa</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatLoot">


		<ts:address network="80001">0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
	</ts:contract>

	<ts:origins>

		<ts:ethereum contract="SmartCatNFT"/>
	</ts:origins>

	<ts:selection filter="canFeed=FALSE" name="alreadyFed">
		<ts:label>
			<ts:string xml:lang="en">Already fed!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canPlay=FALSE" name="alreadyPlayed">
		<ts:label>
			<ts:string xml:lang="en">Too tired!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canClean=FALSE" name="alreadyCleaned">
		<ts:label>
			<ts:string xml:lang="en">Already cleaned!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canLevelUp=FALSE" name="cantLevelUp">
		<ts:label>
			<ts:string xml:lang="en">Can't level up yet!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level=0" name="notAdoptedYet">
		<ts:label>
			<ts:string xml:lang="en">You must adopt and feed your cat first!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level&gt;0" name="adopted">
		<ts:label>
			<ts:string xml:lang="en">Cat already adopted</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="wethAllowance&gt;99999999999999999" name="sufficientAllowance">
		<ts:label>
			<ts:string xml:lang="en">Already approved</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="wethAllowance&lt;100000000000000000" name="insufficientAllowance">
		<ts:label>
			<ts:string xml:lang="en">Approve wETH first</ts:string>
		</ts:label>
	</ts:selection>

	<ts:cards>
		<ts:viewContent xmlns="http://www.w3.org/1999/xhtml" name="common">


		<style>/*&lt;![CDATA[*/

.cat-image-container.svelte-tfvrcw.svelte-tfvrcw{width:100%;max-width:400px;position:relative;margin:0 auto;height:fit-content;display:flex}.cat-image-container.svelte-tfvrcw img.svelte-tfvrcw{width:100%;border-radius:12px}.cat-header.svelte-10wbk5q.svelte-10wbk5q{display:flex}.cat-details.svelte-10wbk5q.svelte-10wbk5q{flex-grow:1;padding:10px;text-align:left}.cat-details.svelte-10wbk5q h2.svelte-10wbk5q{margin-top:0;margin-bottom:10px;font-size:18px}.cat-icon.svelte-10wbk5q.svelte-10wbk5q{width:100px}.cat-list-image.svelte-1iuqlfv.svelte-1iuqlfv{width:64px;position:relative}.cat-list-image.svelte-1iuqlfv img.svelte-1iuqlfv{width:64px}.shimmer.svelte-1iuqlfv.svelte-1iuqlfv{display:inline-block;background-color:#dddbdd;height:100%;width:64px}.shimmer.svelte-1iuqlfv.svelte-1iuqlfv:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0));animation:svelte-1iuqlfv-shimmer 2s infinite;content:""}@keyframes svelte-1iuqlfv-shimmer{to{transform:translate(100%)}}.loader-container.svelte-i4cppe.svelte-i4cppe{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ring.svelte-i4cppe.svelte-i4cppe{display:inline-block;position:relative;width:80px;height:80px}.lds-ring.svelte-i4cppe div.svelte-i4cppe{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #656565;border-radius:50%;animation:svelte-i4cppe-lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#656565 transparent transparent transparent}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(1){animation-delay:-.45s}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(2){animation-delay:-.3s}.lds-ring.svelte-i4cppe div.svelte-i4cppe:nth-child(3){animation-delay:-.15s}@keyframes svelte-i4cppe-lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.progress-contain.svelte-7mdbmt{display:flex;align-items:center;position:relative}.progress-text.svelte-7mdbmt{color:#9d9d9d;flex:40%}.progress-bar.svelte-7mdbmt{margin-left:10px;flex-grow:1;height:12px;border-radius:80px;background:#EEEEEE;flex:60%}.progress-inner.svelte-7mdbmt{position:relative;border-radius:80px;left:0;height:100%;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.btn-container.svelte-1ql4qcj{display:flex;align-items:center;justify-content:center}.load-more-btn.svelte-1ql4qcj{margin-top:16px;height:36px;padding:8px 32px;border-radius:8px;border:none;background:#EEE;cursor:pointer}.load-more-btn.svelte-1ql4qcj:hover{border-color:#dadada;background:#dadada}.share-container.svelte-17dj48s.svelte-17dj48s{display:flex;flex-direction:column;background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,rgba(255,255,255,.8) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%);text-align:left;width:100%}.share-header.svelte-17dj48s.svelte-17dj48s{font-size:18px;font-style:normal;font-weight:600;margin:0;padding:32px 16px 24px}.share-list.svelte-17dj48s.svelte-17dj48s{display:flex;padding-bottom:32px;padding-left:16px;padding-right:16px;gap:16px;overflow-x:auto}.share-option.svelte-17dj48s.svelte-17dj48s{width:264px;background-color:#fffefe;display:flex;flex-direction:column;border-radius:7px;padding:16px;gap:8px;flex-shrink:0;cursor:pointer}.share-option.svelte-17dj48s h5.svelte-17dj48s{font-size:16px;font-weight:600;margin:0}.share-option.svelte-17dj48s p.svelte-17dj48s{font-size:14px;font-weight:400;margin:0}.share-image.svelte-17dj48s.svelte-17dj48s{width:40px}.info-container.svelte-uinh42.svelte-uinh42{border-top:1px solid #EEE;padding:32px 16px}.task-header-wrapper.svelte-uinh42.svelte-uinh42{display:flex;align-items:center;margin-bottom:24px}.task-header.svelte-uinh42.svelte-uinh42{font-size:18px;text-align:left;margin:0 10px 0 0}.action-limits.svelte-uinh42.svelte-uinh42{border-radius:170px;height:22px;font-size:16px;font-weight:400;color:#8b8b8b;background:#eee;display:flex;padding:0 8px;justify-content:center;align-items:center;gap:10px}.task-table.svelte-uinh42.svelte-uinh42{text-align:left;width:100%;font-size:16px}.task-table.svelte-uinh42 thead.svelte-uinh42{font-size:14px;font-weight:400;color:#9d9d9d}.task-table.svelte-uinh42 td.svelte-uinh42{margin:10px 0}.link-button.svelte-uinh42.svelte-uinh42{cursor:pointer}.link-button.opened.svelte-uinh42.svelte-uinh42{background:linear-gradient(0deg,rgba(255,255,255,.8) 0%,rgba(255,255,255,.8) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.gif-container.svelte-ygkdxn.svelte-ygkdxn{max-width:400px;width:100%;position:relative;margin:0 20px}.gif-container.svelte-ygkdxn .static.svelte-ygkdxn{width:100%}.gif-container.svelte-ygkdxn .gif.svelte-ygkdxn{width:100%;display:none}.gif-container.play.svelte-ygkdxn .static.svelte-ygkdxn{display:none}.gif-container.play.svelte-ygkdxn .gif.svelte-ygkdxn{display:block}.tabs.svelte-1hmkp7d{padding:0 10px}.tabs-header.svelte-1hmkp7d{display:flex;align-items:center;padding:20px 0;gap:20px}.tab-item.svelte-1hmkp7d{font-size:18px;font-style:normal;font-weight:500;color:#8b8b8b;cursor:pointer}.tab-item.selected.svelte-1hmkp7d{color:#001aff}.invite-btn-wrapper.svelte-1hmkp7d{display:flex;justify-content:center;align-items:center;padding:0 8px}.invite-btn.svelte-1hmkp7d{width:88px}.fade-out-image.svelte-vmrgry{animation:svelte-vmrgry-fadeOut 5s;animation-fill-mode:initial;animation-iteration-count:infinite}@keyframes svelte-vmrgry-fadeOut{0%{opacity:1}to{opacity:0}}.smart-level-wrapper.svelte-qgh38x.svelte-qgh38x{position:absolute;width:100%;left:0;bottom:-30px;z-index:30}.smart-level-box.svelte-qgh38x.svelte-qgh38x{position:relative;margin:0 auto;display:flex;width:190px;padding:8px 24px;flex-direction:column;align-items:center;gap:4px;border-radius:8px;border:1px solid #001AFF;background:#FAFAFA;box-shadow:0 4px 16px #00000014}.meme-wrapper.svelte-qgh38x.svelte-qgh38x{position:absolute;width:100%;height:100%;left:0;top:0;z-index:20;overflow:hidden}.meme-wrapper.svelte-qgh38x .level-image.svelte-qgh38x{position:absolute;width:0;left:50%;top:50%;transform:translate(-50%,-50%);animation:svelte-qgh38x-zoom;animation-iteration-count:infinite;animation-fill-mode:initial;animation-timing-function:ease-in;animation-duration:1.5s}.meme-wrapper.svelte-qgh38x .level-image2.svelte-qgh38x{animation-delay:.5s}.meme-wrapper.svelte-qgh38x .level-image3.svelte-qgh38x{animation-delay:1s}@keyframes svelte-qgh38x-zoom{0%{width:1%}to{width:250%}}.message-bubble.svelte-s0p2vl{margin:5px;border-radius:10px;width:80%;background:#EEE;color:#000;padding:8px}.message-content.svelte-s0p2vl{font-size:14px;text-align:left;word-break:break-word}.message-meta.svelte-s0p2vl{padding-top:6px;font-size:11px;text-align:right;display:block}.message-bubble.sender.svelte-s0p2vl{align-self:end;background:#0084ff;color:#fff}#message-popup.svelte-ramucj.svelte-ramucj{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background:#fff}#message-header.svelte-ramucj.svelte-ramucj{display:flex;border-bottom:#EEE;background:#FAFAFA}#message-title.svelte-ramucj.svelte-ramucj{flex-grow:1;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:16px;font-weight:500}#message-close.svelte-ramucj.svelte-ramucj{width:30px;height:50px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:700;cursor:pointer}#message-history.svelte-ramucj.svelte-ramucj{flex-grow:1;display:flex;flex-direction:column;padding:10px;overflow:auto}#send-message.svelte-ramucj.svelte-ramucj{display:flex}#send-message.svelte-ramucj textarea.svelte-ramucj{flex-grow:1;margin:4px;border-radius:4px;border:2px solid #969696;outline:0!important}#send-message.svelte-ramucj textarea.svelte-ramucj:focus{border-radius:4px;border:2px solid #001AFF}#send-message.svelte-ramucj button.svelte-ramucj{flex-grow:1;margin:4px 4px 4px 0;border-radius:4px;border:0;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}#send-message.svelte-ramucj button.svelte-ramucj:disabled{background:linear-gradient(0deg,rgba(255,255,255,.6) 0%,rgba(255,255,255,.6) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.unread-count.has-unread.svelte-zmrcgg{font-weight:600;font-size:14px;display:flex;align-items:center}.unread-count.has-unread.svelte-zmrcgg:before{content:"â€¢";color:#0724ff;font-weight:700;font-size:28px;line-height:14px;padding:0 4px}.partner-link.svelte-1stdw6e.svelte-1stdw6e{margin-top:25px;padding:10px 0;border-top:1px #eee solid}.partner-link.svelte-1stdw6e .link-button.svelte-1stdw6e{cursor:pointer}.mint-container.svelte-1s5ahb{color:#fff;position:relative;min-height:calc(100dvh - 20px);background-image:url(https://resources.smartlayer.network/images/catloot-hero-bg-1.png);background-size:cover;background-position:center;border-radius:8px}.title-image.svelte-1s5ahb{max-width:350px;width:100%;margin:20px auto 0}.chest-body.svelte-1s5ahb,.chest-top.svelte-1s5ahb{max-width:200px;width:100%;margin:0 auto}.chest-body.svelte-1s5ahb{position:relative;top:-5px}.mint-progress.svelte-1s5ahb{width:280px;min-height:130px;border:6px #000 solid;border-radius:1rem;margin:0 auto;background-color:#fff;color:#000;display:flex;align-items:center;justify-content:center;flex-direction:column}.chest-container.svelte-1s5ahb{position:relative;top:30px}.loot-link.svelte-1s5ahb{position:relative;top:40px;border:3px #000 solid;border-radius:1rem;padding:10px;text-decoration:none;font-weight:700;background-color:#fff;color:#000}


 /*//]]&gt;*/</style>
<script type="module" crossorigin="">//&lt;![CDATA[

var bh=Object.defineProperty;var vh=(s,t,e)=&gt;t in s?bh(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var k=(s,t,e)=&gt;(vh(s,typeof t!="symbol"?t+"":t,e),e),ca=(s,t,e)=&gt;{if(!t.has(s))throw TypeError("Cannot "+e)};var d=(s,t,e)=&gt;(ca(s,t,"read from private field"),e?e.call(s):t.get(s)),P=(s,t,e)=&gt;{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},m=(s,t,e,n)=&gt;(ca(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e);var $r=(s,t,e,n)=&gt;({set _(r){m(s,t,r,e)},get _(){return d(s,t,n)}}),R=(s,t,e)=&gt;(ca(s,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&amp;&amp;t.supports&amp;&amp;t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=&gt;{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&amp;&amp;o.rel==="modulepreload"&amp;&amp;n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&amp;&amp;(i.integrity=r.integrity),r.referrerPolicy&amp;&amp;(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function z(){}function Eh(s,t){for(const e in t)s[e]=t[e];return s}function Eu(s){return s()}function Il(){return Object.create(null)}function Kn(s){s.forEach(Eu)}function ku(s){return typeof s=="function"}function mt(s,t){return s!=s?t==t:s!==t||s&amp;&amp;typeof s=="object"||typeof s=="function"}let ji;function ke(s,t){return s===t?!0:(ji||(ji=document.createElement("a")),ji.href=t,s===ji.href)}function kh(s){return Object.keys(s).length===0}function Vo(s,t,e,n){if(s){const r=Cu(s,t,e,n);return s[0](r)}}function Cu(s,t,e,n){return s[1]&amp;&amp;n?Eh(e.ctx.slice(),s[1](n(t))):e.ctx}function zo(s,t,e,n){if(s[2]&amp;&amp;n){const r=s[2](n(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a&lt;o;a+=1)i[a]=t.dirty[a]|r[a];return i}return t.dirty|r}return t.dirty}function Jo(s,t,e,n,r,i){if(r){const o=Cu(t,e,n,i);s.p(o,r)}}function Ko(s){if(s.ctx.length&gt;32){const t=[],e=s.ctx.length/32;for(let n=0;n&lt;e;n++)t[n]=-1;return t}return-1}function Ao(s){return s??""}function p(s,t){s.appendChild(t)}function O(s,t,e){s.insertBefore(t,e||null)}function B(s){s.parentNode&amp;&amp;s.parentNode.removeChild(s)}function Fi(s,t){for(let e=0;e&lt;s.length;e+=1)s[e]&amp;&amp;s[e].d(t)}function A(s){return document.createElement(s)}function xe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function J(s){return document.createTextNode(s)}function N(){return J(" ")}function wn(){return J("")}function Pt(s,t,e,n){return s.addEventListener(t,e,n),()=&gt;s.removeEventListener(t,e,n)}function b(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&amp;&amp;s.setAttribute(t,e)}function Ch(s){return Array.from(s.childNodes)}function vt(s,t){t=""+t,s.data!==t&amp;&amp;(s.data=t)}function Nl(s,t){s.value=t??""}function U(s,t,e,n){e==null?s.style.removeProperty(t):s.style.setProperty(t,e,n?"important":"")}class Ph{constructor(t=!1){k(this,"is_svg",!1);k(this,"e");k(this,"n");k(this,"t");k(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=xe(e.nodeName):this.e=A(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e&lt;this.n.length;e+=1)O(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(B)}}function Tl(s,t){return new s(t)}let ii;function Xr(s){ii=s}function Pu(){if(!ii)throw new Error("Function called outside component initialization");return ii}function xs(s){Pu().$$.on_mount.push(s)}function jo(s){Pu().$$.on_destroy.push(s)}const Ls=[],Na=[];let Qs=[];const Sl=[],xh=Promise.resolve();let Ta=!1;function Ih(){Ta||(Ta=!0,xh.then(xu))}function Sa(s){Qs.push(s)}const ua=new Set;let Ns=0;function xu(){if(Ns!==0)return;const s=ii;do{try{for(;Ns&lt;Ls.length;){const t=Ls[Ns];Ns++,Xr(t),Nh(t.$$)}}catch(t){throw Ls.length=0,Ns=0,t}for(Xr(null),Ls.length=0,Ns=0;Na.length;)Na.pop()();for(let t=0;t&lt;Qs.length;t+=1){const e=Qs[t];ua.has(e)||(ua.add(e),e())}Qs.length=0}while(Ls.length);for(;Sl.length;)Sl.pop()();Ta=!1,ua.clear(),Xr(s)}function Nh(s){if(s.fragment!==null){s.update(),Kn(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&amp;&amp;s.fragment.p(s.ctx,t),s.after_update.forEach(Sa)}}function Th(s){const t=[],e=[];Qs.forEach(n=&gt;s.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=&gt;n()),Qs=t}const lo=new Set;let Zn;function It(){Zn={r:0,c:[],p:Zn}}function Nt(){Zn.r||Kn(Zn.c),Zn=Zn.p}function T(s,t){s&amp;&amp;s.i&amp;&amp;(lo.delete(s),s.i(t))}function _(s,t,e,n){if(s&amp;&amp;s.o){if(lo.has(s))return;lo.add(s),Zn.c.push(()=&gt;{lo.delete(s),n&amp;&amp;(e&amp;&amp;s.d(1),n())}),s.o(t)}else n&amp;&amp;n()}function je(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Z(s){s&amp;&amp;s.c()}function j(s,t,e){const{fragment:n,after_update:r}=s.$$;n&amp;&amp;n.m(t,e),Sa(()=&gt;{const i=s.$$.on_mount.map(Eu).filter(ku);s.$$.on_destroy?s.$$.on_destroy.push(...i):Kn(i),s.$$.on_mount=[]}),r.forEach(Sa)}function W(s,t){const e=s.$$;e.fragment!==null&amp;&amp;(Th(e.after_update),Kn(e.on_destroy),e.fragment&amp;&amp;e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Sh(s,t){s.$$.dirty[0]===-1&amp;&amp;(Ls.push(s),Ih(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1&lt;&lt;t%31}function At(s,t,e,n,r,i,o=null,a=[-1]){const l=ii;Xr(s);const c=s.$$={fragment:null,ctx:[],props:i,update:z,not_equal:r,bound:Il(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Il(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&amp;&amp;o(c.root);let u=!1;if(c.ctx=e?e(s,t.props||{},(f,h,...g)=&gt;{const y=g.length?g[0]:h;return c.ctx&amp;&amp;r(c.ctx[f],c.ctx[f]=y)&amp;&amp;(!c.skip_bound&amp;&amp;c.bound[f]&amp;&amp;c.bound[f](y),u&amp;&amp;Sh(s,f)),h}):[],c.update(),u=!0,Kn(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const f=Ch(t.target);c.fragment&amp;&amp;c.fragment.l(f),f.forEach(B)}else c.fragment&amp;&amp;c.fragment.c();t.intro&amp;&amp;T(s.$$.fragment),j(s,t.target,t.anchor),xu()}Xr(l)}class bt{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){W(this,1),this.$destroy=z}$on(t,e){if(!ku(e))return z;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=&gt;{const r=n.indexOf(e);r!==-1&amp;&amp;n.splice(r,1)}}$set(t){this.$$set&amp;&amp;!kh(t)&amp;&amp;(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _h="4";typeof window&lt;"u"&amp;&amp;(window.__svelte||(window.__svelte={v:new Set})).v.add(_h);const Ts=[];function Bh(s,t=z){let e;const n=new Set;function r(a){if(mt(s,a)&amp;&amp;(s=a,e)){const l=!Ts.length;for(const c of n)c[1](),Ts.push(c,s);if(l){for(let c=0;c&lt;Ts.length;c+=2)Ts[c][0](Ts[c+1]);Ts.length=0}}}function i(a){r(a(s))}function o(a,l=z){const c=[a,l];return n.add(c),n.size===1&amp;&amp;(e=t(r,i)||z),a(s),()=&gt;{n.delete(c),n.size===0&amp;&amp;e&amp;&amp;(e(),e=null)}}return{set:r,update:i,subscribe:o}}const Iu=class Nu{constructor(t){this.tokenContext=t,this.challengeExp=null,this.challengeText=null,this.challengeSig=null}async getNewMessages(){return await this.requestWithAuth(`/message-count/${this.tokenContext.tokenId}`,"get")}async getMessageHistory(t){return await this.requestWithAuth(`/message-history/${this.tokenContext.tokenId}/${t}`,"get")}async sendMessage(t,e){return await this.requestWithAuth(`/send-message/${this.tokenContext.tokenId}/${e}`,"post",{message:t})}async requestWithAuth(t,e,n){(!this.challengeText||this.challengeExp&lt;Date.now())&amp;&amp;await this.fetchAndSignChallenge();try{return await this.request(t,e,n)}catch(r){if(r.message==="Authorisation failed")return this.challengeText=null,await this.fetchAndSignChallenge(),await this.request(t,e,n);throw r}}async fetchAndSignChallenge(){const t=await this.request("/challenge","get"),e=new Promise((n,r)=&gt;{web3.personal.sign({data:t.text},function(i,o){i!=null?r(i):(n(o),console.log(o))})});try{this.challengeSig=await e,this.challengeExp=t.expiry,this.challengeText=t.text}catch(n){throw console.error("Authentication failed: ",n),new Error(n)}}async request(t,e,n){const r={"Content-type":"application/json",Accept:"application/json"};this.challengeSig&amp;&amp;(r["X-SmartCat-Auth"]=this.challengeText+":"+this.challengeSig);const i=await fetch(Nu.BASE_URL+t,{method:e,headers:r,body:n?JSON.stringify(n):void 0});let o;try{o=await i.json()}catch{}if(i.status&gt;299||i.status&lt;200)throw i.status===403?new Error("Authorisation failed"):new Error("HTTP Request failed:"+((o==null?void 0:o.message)??i.statusText));return o}};Iu.BASE_URL="https://chat.tokenscript.org/api";let Oh=Iu,Wi=null;const bo=Bh({token:null});function Lh(s){bo.set({...bo,token:s})}async function Rh(){return Wi||new Promise((s,t)=&gt;{bo.subscribe(e=&gt;{Wi=new Oh(e.token),s(Wi)})})}const qt={data:bo,setToken:Lh,getMessageClient:Rh};function Uh(s){let t,e,n,r,i;const o=s[2].default,a=Vo(o,s,s[1],null);return{c(){t=A("div"),e=A("img"),r=N(),a&amp;&amp;a.c(),b(e,"alt","your cat"),U(e,"width","100%"),U(e,"position","relative"),ke(e.src,n=s[0])||b(e,"src",n),b(e,"class","svelte-tfvrcw"),b(t,"class","cat-image-container svelte-tfvrcw")},m(l,c){O(l,t,c),p(t,e),p(t,r),a&amp;&amp;a.m(t,null),i=!0},p(l,[c]){(!i||c&amp;1&amp;&amp;!ke(e.src,n=l[0]))&amp;&amp;b(e,"src",n),a&amp;&amp;a.p&amp;&amp;(!i||c&amp;2)&amp;&amp;Jo(a,o,l,l[1],i?zo(o,l[1],c,null):Ko(l[1]),null)},i(l){i||(T(a,l),i=!0)},o(l){_(a,l),i=!1},d(l){l&amp;&amp;B(t),a&amp;&amp;a.d(l)}}}function Fh(s,t,e){let{$$slots:n={},$$scope:r}=t,{imageUrl:i}=t;return s.$$set=o=&gt;{"imageUrl"in o&amp;&amp;e(0,i=o.imageUrl),"$$scope"in o&amp;&amp;e(1,r=o.$$scope)},[i,r,n]}class Di extends bt{constructor(t){super(),At(this,t,Fh,Uh,mt,{imageUrl:0})}}function Dh(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,w;return u=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=A("div"),e=A("img"),r=N(),i=A("h3"),i.textContent="Once upon a time...",o=N(),a=A("p"),a.textContent=`There was a cat that was pretty cool, but it also wanted to be smart.
		So it went to Smart Layer Labs and got a TokenScript Microchip to boost its mind.`,l=N(),c=A("div"),Z(u.$$.fragment),f=N(),h=A("p"),h.textContent=`Now this cat needs someone to adopt it and help to train its skills. Let's give the cat an initial feed to win it over.
		It's free to adopt and play but you'll need some MATIC to pay for transaction fees on the Polygon network.
		Transactions are generally 0.01 MATIC, starting off with 0.5 MATIC is recommended.`,g=N(),y=A("h3"),y.textContent="Adopt your cat Now!",b(e,"alt","smartcat gameboy"),ke(e.src,n="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Gameboy.png")||b(e,"src",n),U(e,"width","200px"),U(c,"position","relative"),U(c,"margin","0 auto"),U(c,"width","100%"),U(c,"max-width","300px"),U(t,"text-align","center"),U(t,"padding","10px")},m(v,x){O(v,t,x),p(t,e),p(t,r),p(t,i),p(t,o),p(t,a),p(t,l),p(t,c),j(u,c,null),p(t,f),p(t,h),p(t,g),p(t,y),w=!0},p(v,[x]){const C={};x&amp;1&amp;&amp;(C.imageUrl=v[0].image_preview_url),u.$set(C)},i(v){w||(T(u.$$.fragment,v),w=!0)},o(v){_(u.$$.fragment,v),w=!1},d(v){v&amp;&amp;B(t),W(u)}}}function Mh(s,t,e){let n;return qt.data.subscribe(r=&gt;{e(0,n=r.token)}),[n]}class Hh extends bt{constructor(t){super(),At(this,t,Mh,Dh,mt,{})}}function $h(s){let t,e,n,r,i,o,a=s[0].name+"",l,c,u,f,h,g=s[0].tokenId+"",y,w;return n=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=A("div"),e=A("div"),Z(n.$$.fragment),r=N(),i=A("div"),o=A("h2"),l=J(a),c=N(),u=A("div"),f=A("div"),h=J("Microchip ID: "),y=J(g),b(e,"class","cat-icon svelte-10wbk5q"),b(o,"class","svelte-10wbk5q"),b(u,"class","cat-stats"),b(i,"class","cat-details svelte-10wbk5q"),b(t,"class","cat-header svelte-10wbk5q")},m(v,x){O(v,t,x),p(t,e),j(n,e,null),p(t,r),p(t,i),p(i,o),p(o,l),p(i,c),p(i,u),p(u,f),p(f,h),p(f,y),w=!0},p(v,[x]){const C={};x&amp;1&amp;&amp;(C.imageUrl=v[0].image_preview_url),n.$set(C),(!w||x&amp;1)&amp;&amp;a!==(a=v[0].name+"")&amp;&amp;vt(l,a),(!w||x&amp;1)&amp;&amp;g!==(g=v[0].tokenId+"")&amp;&amp;vt(y,g)},i(v){w||(T(n.$$.fragment,v),w=!0)},o(v){_(n.$$.fragment,v),w=!1},d(v){v&amp;&amp;B(t),W(n)}}}function Gh(s,t,e){let n;return qt.data.subscribe(r=&gt;{e(0,n=r.token)}),[n]}class Qh extends bt{constructor(t){super(),At(this,t,Gh,$h,mt,{})}}const Vh="6.7.1";function zh(s,t,e){const n=t.split("|").map(i=&gt;i.trim());for(let i=0;i&lt;n.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof s===t)return}const r=new Error(`invalid value for type ${t}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${e}`,r.value=s,r}async function Wt(s){const t=Object.keys(s);return(await Promise.all(t.map(n=&gt;Promise.resolve(s[n])))).reduce((n,r,i)=&gt;(n[t[i]]=r,n),{})}function V(s,t,e){for(let n in t){let r=t[n];const i=e?e[n]:null;i&amp;&amp;zh(r,i,n),Object.defineProperty(s,n,{enumerable:!0,value:r,writable:!1})}}function Fs(s){if(s==null)return"null";if(Array.isArray(s))return"[ "+s.map(Fs).join(", ")+" ]";if(s instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let n=0;n&lt;s.length;n++)e+=t[s[n]&gt;&gt;4],e+=t[s[n]&amp;15];return e}if(typeof s=="object"&amp;&amp;typeof s.toJSON=="function")return Fs(s.toJSON());switch(typeof s){case"boolean":case"symbol":return s.toString();case"bigint":return BigInt(s).toString();case"number":return s.toString();case"string":return JSON.stringify(s);case"object":{const t=Object.keys(s);return t.sort(),"{ "+t.map(e=&gt;`${Fs(e)}: ${Fs(s[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ce(s,t){return s&amp;&amp;s.code===t}function rl(s){return Ce(s,"CALL_EXCEPTION")}function Dt(s,t,e){{const r=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Fs(e)}`);for(const i in e){const o=e[i];r.push(i+"="+Fs(o))}}r.push(`code=${t}`),r.push(`version=${Vh}`),r.length&amp;&amp;(s+=" ("+r.join(", ")+")")}let n;switch(t){case"INVALID_ARGUMENT":n=new TypeError(s);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(s);break;default:n=new Error(s)}return V(n,{code:t}),e&amp;&amp;Object.assign(n,e),n}function S(s,t,e,n){if(!s)throw Dt(t,e,n)}function E(s,t,e,n){S(s,t,"INVALID_ARGUMENT",{argument:e,value:n})}function Tu(s,t,e){e==null&amp;&amp;(e=""),e&amp;&amp;(e=": "+e),S(s&gt;=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:s,expectedCount:t}),S(s&lt;=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:s,expectedCount:t})}const Jh=["NFD","NFC","NFKD","NFKC"].reduce((s,t)=&gt;{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(e!==n)throw new Error("broken")}s.push(t)}catch{}return s},[]);function Kh(s){S(Jh.indexOf(s)&gt;=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:s}})}function Wo(s,t,e){if(e==null&amp;&amp;(e=""),s!==t){let n=e,r="new";e&amp;&amp;(n+=".",r+=" "+e),S(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Su(s,t,e){if(s instanceof Uint8Array)return e?new Uint8Array(s):s;if(typeof s=="string"&amp;&amp;s.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((s.length-2)/2);let r=2;for(let i=0;i&lt;n.length;i++)n[i]=parseInt(s.substring(r,r+2),16),r+=2;return n}E(!1,"invalid BytesLike value",t||"value",s)}function ut(s,t){return Su(s,t,!1)}function re(s,t){return Su(s,t,!0)}function Bt(s,t){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&amp;&amp;s.length!==2+2*t||t===!0&amp;&amp;s.length%2!==0)}function jh(s){return Bt(s,!0)||s instanceof Uint8Array}const _l="0123456789abcdef";function $(s){const t=ut(s);let e="0x";for(let n=0;n&lt;t.length;n++){const r=t[n];e+=_l[(r&amp;240)&gt;&gt;4]+_l[r&amp;15]}return e}function Ut(s){return"0x"+s.map(t=&gt;$(t).substring(2)).join("")}function Vs(s){return Bt(s,!0)?(s.length-2)/2:ut(s).length}function Lt(s,t,e){const n=ut(s);return e!=null&amp;&amp;e&gt;n.length&amp;&amp;S(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:e}),$(n.slice(t??0,e??n.length))}function _u(s,t,e){const n=ut(s);S(t&gt;=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const r=new Uint8Array(t);return r.fill(0),e?r.set(n,t-n.length):r.set(n,0),$(r)}function vs(s,t){return _u(s,t,!0)}function Wh(s,t){return _u(s,t,!1)}const Yo=BigInt(0),Be=BigInt(1),Ds=9007199254740991;function Yh(s,t){const e=Zo(s,"value"),n=BigInt(it(t,"width"));if(S(e&gt;&gt;n===Yo,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:s}),e&gt;&gt;n-Be){const r=(Be&lt;&lt;n)-Be;return-((~e&amp;r)+Be)}return e}function Bu(s,t){let e=G(s,"value");const n=BigInt(it(t,"width")),r=Be&lt;&lt;n-Be;if(e&lt;Yo){e=-e,S(e&lt;=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});const i=(Be&lt;&lt;n)-Be;return(~e&amp;i)+Be}else S(e&lt;r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});return e}function Jr(s,t){const e=Zo(s,"value"),n=BigInt(it(t,"bits"));return e&amp;(Be&lt;&lt;n)-Be}function G(s,t){switch(typeof s){case"bigint":return s;case"number":return E(Number.isInteger(s),"underflow",t||"value",s),E(s&gt;=-Ds&amp;&amp;s&lt;=Ds,"overflow",t||"value",s),BigInt(s);case"string":try{if(s==="")throw new Error("empty string");return s[0]==="-"&amp;&amp;s[1]!=="-"?-BigInt(s.substring(1)):BigInt(s)}catch(e){E(!1,`invalid BigNumberish string: ${e.message}`,t||"value",s)}}E(!1,"invalid BigNumberish value",t||"value",s)}function Zo(s,t){const e=G(s,t);return S(e&gt;=Yo,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:s}),e}const Bl="0123456789abcdef";function il(s){if(s instanceof Uint8Array){let t="0x0";for(const e of s)t+=Bl[e&gt;&gt;4],t+=Bl[e&amp;15];return BigInt(t)}return G(s)}function it(s,t){switch(typeof s){case"bigint":return E(s&gt;=-Ds&amp;&amp;s&lt;=Ds,"overflow",t||"value",s),Number(s);case"number":return E(Number.isInteger(s),"underflow",t||"value",s),E(s&gt;=-Ds&amp;&amp;s&lt;=Ds,"overflow",t||"value",s),s;case"string":try{if(s==="")throw new Error("empty string");return it(BigInt(s),t)}catch(e){E(!1,`invalid numeric string: ${e.message}`,t||"value",s)}}E(!1,"invalid numeric value",t||"value",s)}function Zh(s){return it(il(s))}function Vn(s,t){let n=Zo(s,"value").toString(16);if(t==null)n.length%2&amp;&amp;(n="0"+n);else{const r=it(t,"width");for(S(r*2&gt;=n.length,`value exceeds width (${r} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:s});n.length&lt;r*2;)n="0"+n}return"0x"+n}function de(s){const t=Zo(s,"value");if(t===Yo)return new Uint8Array([]);let e=t.toString(16);e.length%2&amp;&amp;(e="0"+e);const n=new Uint8Array(e.length/2);for(let r=0;r&lt;n.length;r++){const i=r*2;n[r]=parseInt(e.substring(i,i+2),16)}return n}function Ms(s){let t=$(jh(s)?s:de(s)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&amp;&amp;(t="0"),"0x"+t}const Xh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ol=BigInt(58);function qh(s){let t=il(ut(s)),e="";for(;t;)e=Xh[Number(t%Ol)]+e,t/=Ol;return e}function td(s){s=atob(s);const t=new Uint8Array(s.length);for(let e=0;e&lt;s.length;e++)t[e]=s.charCodeAt(e);return ut(t)}function ed(s){const t=ut(s);let e="";for(let n=0;n&lt;t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var js;class Ou{constructor(t,e,n){k(this,"filter");k(this,"emitter");P(this,js,void 0);m(this,js,e),V(this,{emitter:t,filter:n})}async removeListener(){d(this,js)!=null&amp;&amp;await this.emitter.off(this.filter,d(this,js))}}js=new WeakMap;function nd(s,t,e,n,r){E(!1,`invalid codepoint at offset ${t}; ${s}`,"bytes",e)}function Lu(s,t,e,n,r){if(s==="BAD_PREFIX"||s==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o&lt;e.length&amp;&amp;e[o]&gt;&gt;6===2;o++)i++;return i}return s==="OVERRUN"?e.length-t-1:0}function sd(s,t,e,n,r){return s==="OVERLONG"?(E(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),n.push(r),0):(n.push(65533),Lu(s,t,e))}const rd=Object.freeze({error:nd,ignore:Lu,replace:sd});function id(s,t){t==null&amp;&amp;(t=rd.error);const e=ut(s,"bytes"),n=[];let r=0;for(;r&lt;e.length;){const i=e[r++];if(!(i&gt;&gt;7)){n.push(i);continue}let o=null,a=null;if((i&amp;224)===192)o=1,a=127;else if((i&amp;240)===224)o=2,a=2047;else if((i&amp;248)===240)o=3,a=65535;else{(i&amp;192)===128?r+=t("UNEXPECTED_CONTINUE",r-1,e,n):r+=t("BAD_PREFIX",r-1,e,n);continue}if(r-1+o&gt;=e.length){r+=t("OVERRUN",r-1,e,n);continue}let l=i&amp;(1&lt;&lt;8-o-1)-1;for(let c=0;c&lt;o;c++){let u=e[r];if((u&amp;192)!=128){r+=t("MISSING_CONTINUE",r,e,n),l=null;break}l=l&lt;&lt;6|u&amp;63,r++}if(l!==null){if(l&gt;1114111){r+=t("OUT_OF_RANGE",r-1-o,e,n,l);continue}if(l&gt;=55296&amp;&amp;l&lt;=57343){r+=t("UTF16_SURROGATE",r-1-o,e,n,l);continue}if(l&lt;=a){r+=t("OVERLONG",r-1-o,e,n,l);continue}n.push(l)}}return n}function pn(s,t){t!=null&amp;&amp;(Kh(t),s=s.normalize(t));let e=[];for(let n=0;n&lt;s.length;n++){const r=s.charCodeAt(n);if(r&lt;128)e.push(r);else if(r&lt;2048)e.push(r&gt;&gt;6|192),e.push(r&amp;63|128);else if((r&amp;64512)==55296){n++;const i=s.charCodeAt(n);E(n&lt;s.length&amp;&amp;(i&amp;64512)===56320,"invalid surrogate pair","str",s);const o=65536+((r&amp;1023)&lt;&lt;10)+(i&amp;1023);e.push(o&gt;&gt;18|240),e.push(o&gt;&gt;12&amp;63|128),e.push(o&gt;&gt;6&amp;63|128),e.push(o&amp;63|128)}else e.push(r&gt;&gt;12|224),e.push(r&gt;&gt;6&amp;63|128),e.push(r&amp;63|128)}return new Uint8Array(e)}function od(s){return s.map(t=&gt;t&lt;=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t&gt;&gt;10&amp;1023)+55296,(t&amp;1023)+56320))).join("")}function ol(s,t){return od(id(s,t))}async function ad(s,t){const e=s.url.split(":")[0].toLowerCase();S(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),S(e==="https"||!s.credentials||s.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(t){const c=new AbortController;n=c.signal,t.addListener(()=&gt;{c.abort()})}const r={method:s.method,headers:new Headers(Array.from(s)),body:s.body||void 0,signal:n},i=await fetch(s.url,r),o={};i.headers.forEach((c,u)=&gt;{o[u.toLowerCase()]=c});const a=await i.arrayBuffer(),l=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:l}}const ld=12,cd=250;let Ll=ad;const ud=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),fd=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let fa=!1;async function Ru(s,t){try{const e=s.match(ud);if(!e)throw new Error("invalid data");return new Gn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?td(e[3]):dd(e[3]))}catch{return new Gn(599,"BAD REQUEST (invalid data: URI)",{},null,new mn(s))}}function Uu(s){async function t(e,n){try{const r=e.match(fd);if(!r)throw new Error("invalid link");return new mn(`${s}${r[2]}`)}catch{return new Gn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new mn(e))}}return t}const Yi={data:Ru,ipfs:Uu("https://gateway.ipfs.io/ipfs/")},Fu=new WeakMap;var qn,xn;class hd{constructor(t){P(this,qn,void 0);P(this,xn,void 0);m(this,qn,[]),m(this,xn,!1),Fu.set(t,()=&gt;{if(!d(this,xn)){m(this,xn,!0);for(const e of d(this,qn))setTimeout(()=&gt;{e()},0);m(this,qn,[])}})}addListener(t){S(!d(this,xn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,qn).push(t)}get cancelled(){return d(this,xn)}checkSignal(){S(!this.cancelled,"cancelled","CANCELLED",{})}}qn=new WeakMap,xn=new WeakMap;function Zi(s){if(s==null)throw new Error("missing signal; should not happen");return s.checkSignal(),s}var Ws,Ys,Ne,qe,Zs,Xs,Mt,ce,tn,ts,es,ns,De,en,ss,Kr;const Uo=class Uo{constructor(t){P(this,ss);P(this,Ws,void 0);P(this,Ys,void 0);P(this,Ne,void 0);P(this,qe,void 0);P(this,Zs,void 0);P(this,Xs,void 0);P(this,Mt,void 0);P(this,ce,void 0);P(this,tn,void 0);P(this,ts,void 0);P(this,es,void 0);P(this,ns,void 0);P(this,De,void 0);P(this,en,void 0);m(this,Xs,String(t)),m(this,Ws,!1),m(this,Ys,!0),m(this,Ne,{}),m(this,qe,""),m(this,Zs,3e5),m(this,en,{slotInterval:cd,maxAttempts:ld})}get url(){return d(this,Xs)}set url(t){m(this,Xs,String(t))}get body(){return d(this,Mt)==null?null:new Uint8Array(d(this,Mt))}set body(t){if(t==null)m(this,Mt,void 0),m(this,ce,void 0);else if(typeof t=="string")m(this,Mt,pn(t)),m(this,ce,"text/plain");else if(t instanceof Uint8Array)m(this,Mt,t),m(this,ce,"application/octet-stream");else if(typeof t=="object")m(this,Mt,pn(JSON.stringify(t))),m(this,ce,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,Mt)!=null}get method(){return d(this,qe)?d(this,qe):this.hasBody()?"POST":"GET"}set method(t){t==null&amp;&amp;(t=""),m(this,qe,String(t).toUpperCase())}get headers(){const t=Object.assign({},d(this,Ne));return d(this,tn)&amp;&amp;(t.authorization=`Basic ${ed(pn(d(this,tn)))}`),this.allowGzip&amp;&amp;(t["accept-encoding"]="gzip"),t["content-type"]==null&amp;&amp;d(this,ce)&amp;&amp;(t["content-type"]=d(this,ce)),this.body&amp;&amp;(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){d(this,Ne)[String(t).toLowerCase()]=String(e)}clearHeaders(){m(this,Ne,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=&gt;{if(n&lt;e.length){const r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,tn)||null}setCredentials(t,e){E(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),m(this,tn,`${t}:${e}`)}get allowGzip(){return d(this,Ys)}set allowGzip(t){m(this,Ys,!!t)}get allowInsecureAuthentication(){return!!d(this,Ws)}set allowInsecureAuthentication(t){m(this,Ws,!!t)}get timeout(){return d(this,Zs)}set timeout(t){E(t&gt;=0,"timeout must be non-zero","timeout",t),m(this,Zs,t)}get preflightFunc(){return d(this,ts)||null}set preflightFunc(t){m(this,ts,t)}get processFunc(){return d(this,es)||null}set processFunc(t){m(this,es,t)}get retryFunc(){return d(this,ns)||null}set retryFunc(t){m(this,ns,t)}toString(){return`&lt;FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,Mt)?$(d(this,Mt)):"null"}&gt;`}setThrottleParams(t){t.slotInterval!=null&amp;&amp;(d(this,en).slotInterval=t.slotInterval),t.maxAttempts!=null&amp;&amp;(d(this,en).maxAttempts=t.maxAttempts)}send(){return S(d(this,De)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),m(this,De,new hd(this)),R(this,ss,Kr).call(this,0,Rl()+this.timeout,0,this,new Gn(0,"",{},null,this))}cancel(){S(d(this,De)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=Fu.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();S(this.method==="GET"&amp;&amp;(e!=="https"||n!=="http")&amp;&amp;t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} =&gt; ${JSON.stringify(t)})`});const r=new Uo(t);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,m(r,Ne,Object.assign({},d(this,Ne))),d(this,Mt)&amp;&amp;m(r,Mt,new Uint8Array(d(this,Mt))),m(r,ce,d(this,ce)),r}clone(){const t=new Uo(this.url);return m(t,qe,d(this,qe)),d(this,Mt)&amp;&amp;m(t,Mt,d(this,Mt)),m(t,ce,d(this,ce)),m(t,Ne,Object.assign({},d(this,Ne))),m(t,tn,d(this,tn)),this.allowGzip&amp;&amp;(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&amp;&amp;(t.allowInsecureAuthentication=!0),m(t,ts,d(this,ts)),m(t,es,d(this,es)),m(t,ns,d(this,ns)),t}static lockConfig(){fa=!0}static getGateway(t){return Yi[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(fa)throw new Error("gateways locked");Yi[t]=e}static registerGetUrl(t){if(fa)throw new Error("gateways locked");Ll=t}static createDataGateway(){return Ru}static createIpfsGatewayFunc(t){return Uu(t)}};Ws=new WeakMap,Ys=new WeakMap,Ne=new WeakMap,qe=new WeakMap,Zs=new WeakMap,Xs=new WeakMap,Mt=new WeakMap,ce=new WeakMap,tn=new WeakMap,ts=new WeakMap,es=new WeakMap,ns=new WeakMap,De=new WeakMap,en=new WeakMap,ss=new WeakSet,Kr=async function(t,e,n,r,i){var u,f,h;if(t&gt;=d(this,en).maxAttempts)return i.makeServerError("exceeded maximum retry limit");S(Rl()&lt;=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n&gt;0&amp;&amp;await pd(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Yi){const g=await Yi[a](o.url,Zi(d(r,De)));if(g instanceof Gn){let y=g;if(this.processFunc){Zi(d(r,De));try{y=await this.processFunc(o,y)}catch(w){(w.throttle==null||typeof w.stall!="number")&amp;&amp;y.makeServerError("error in post-processing function",w).assertOk()}}return y}o=g}this.preflightFunc&amp;&amp;(o=await this.preflightFunc(o));const l=await Ll(o,Zi(d(r,De)));let c=new Gn(l.statusCode,l.statusMessage,l.headers,l.body,r);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return R(u=o.redirect(g),ss,Kr).call(u,t+1,e,0,r,c)}catch{}return c}else if(c.statusCode===429&amp;&amp;(this.retryFunc==null||await this.retryFunc(o,c,t))){const g=c.headers["retry-after"];let y=d(this,en).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof g=="string"&amp;&amp;g.match(/^[1-9][0-9]*$/)&amp;&amp;(y=parseInt(g)),R(f=o.clone(),ss,Kr).call(f,t+1,e,y,r,c)}if(this.processFunc){Zi(d(r,De));try{c=await this.processFunc(o,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&amp;&amp;c.makeServerError("error in post-processing function",g).assertOk();let y=d(this,en).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return g.stall&gt;=0&amp;&amp;(y=g.stall),R(h=o.clone(),ss,Kr).call(h,t+1,e,y,r,c)}}return c};let mn=Uo;var bi,vi,Ei,Te,qs,rs;const El=class El{constructor(t,e,n,r,i){P(this,bi,void 0);P(this,vi,void 0);P(this,Ei,void 0);P(this,Te,void 0);P(this,qs,void 0);P(this,rs,void 0);m(this,bi,t),m(this,vi,e),m(this,Ei,Object.keys(n).reduce((o,a)=&gt;(o[a.toLowerCase()]=String(n[a]),o),{})),m(this,Te,r==null?null:new Uint8Array(r)),m(this,qs,i||null),m(this,rs,{message:""})}toString(){return`&lt;FetchResponse status=${this.statusCode} body=${d(this,Te)?$(d(this,Te)):"null"}&gt;`}get statusCode(){return d(this,bi)}get statusMessage(){return d(this,vi)}get headers(){return Object.assign({},d(this,Ei))}get body(){return d(this,Te)==null?null:new Uint8Array(d(this,Te))}get bodyText(){try{return d(this,Te)==null?"":ol(d(this,Te))}catch{S(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{S(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=&gt;{if(n&lt;e.length){const r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const r=new El(599,n,this.headers,this.body,d(this,qs)||void 0);return m(r,rs,{message:t,error:e}),r}throwThrottleError(t,e){e==null?e=-1:E(Number.isInteger(e)&amp;&amp;e&gt;=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw V(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return d(this,Te)!=null}get request(){return d(this,qs)}ok(){return d(this,rs).message===""&amp;&amp;this.statusCode&gt;=200&amp;&amp;this.statusCode&lt;300}assertOk(){if(this.ok())return;let{message:t,error:e}=d(this,rs);t===""&amp;&amp;(t=`server response ${this.statusCode} ${this.statusMessage}`),S(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};bi=new WeakMap,vi=new WeakMap,Ei=new WeakMap,Te=new WeakMap,qs=new WeakMap,rs=new WeakMap;let Gn=El;function Rl(){return new Date().getTime()}function dd(s){return pn(s.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=&gt;String.fromCharCode(parseInt(e,16))))}function pd(s){return new Promise(t=&gt;setTimeout(t,s))}function gd(s){let t=s.toString(16);for(;t.length&lt;2;)t="0"+t;return"0x"+t}function Ul(s,t,e){let n=0;for(let r=0;r&lt;e;r++)n=n*256+s[t+r];return n}function Fl(s,t,e,n){const r=[];for(;e&lt;t+1+n;){const i=Du(s,e);r.push(i.result),e+=i.consumed,S(e&lt;=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:s,length:n,offset:t})}return{consumed:1+n,result:r}}function Du(s,t){S(s.length!==0,"data too short","BUFFER_OVERRUN",{buffer:s,length:0,offset:1});const e=n=&gt;{S(n&lt;=s.length,"data short segment too short","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:n})};if(s[t]&gt;=248){const n=s[t]-247;e(t+1+n);const r=Ul(s,t+1,n);return e(t+1+n+r),Fl(s,t,t+1+n,n+r)}else if(s[t]&gt;=192){const n=s[t]-192;return e(t+1+n),Fl(s,t,t+1,n)}else if(s[t]&gt;=184){const n=s[t]-183;e(t+1+n);const r=Ul(s,t+1,n);e(t+1+n+r);const i=$(s.slice(t+1+n,t+1+n+r));return{consumed:1+n+r,result:i}}else if(s[t]&gt;=128){const n=s[t]-128;e(t+1+n);const r=$(s.slice(t+1,t+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:gd(s[t])}}function al(s){const t=ut(s,"data"),e=Du(t,0);return E(e.consumed===t.length,"unexpected junk after rlp payload","data",s),e.result}function Dl(s){const t=[];for(;s;)t.unshift(s&amp;255),s&gt;&gt;=8;return t}function Mu(s){if(Array.isArray(s)){let n=[];if(s.forEach(function(i){n=n.concat(Mu(i))}),n.length&lt;=55)return n.unshift(192+n.length),n;const r=Dl(n.length);return r.unshift(247+r.length),r.concat(n)}const t=Array.prototype.slice.call(ut(s,"object"));if(t.length===1&amp;&amp;t[0]&lt;=127)return t;if(t.length&lt;=55)return t.unshift(128+t.length),t;const e=Dl(t.length);return e.unshift(183+e.length),e.concat(t)}const Ml="0123456789abcdef";function oi(s){let t="0x";for(const e of Mu(s))t+=Ml[e&gt;&gt;4],t+=Ml[e&amp;15];return t}const Zt=32,_a=new Uint8Array(Zt),md=["then"],Xi={};function Gr(s,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${s}`);throw e.error=t,e}var In;const si=class si extends Array{constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==Xi&amp;&amp;(r=e,i=[],o=!1);super(r.length);P(this,In,void 0);r.forEach((l,c)=&gt;{this[c]=l});const a=i.reduce((l,c)=&gt;(typeof c=="string"&amp;&amp;l.set(c,(l.get(c)||0)+1),l),new Map);if(m(this,In,Object.freeze(r.map((l,c)=&gt;{const u=i[c];return u!=null&amp;&amp;a.get(u)===1?u:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(l,c,u)=&gt;{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const h=it(c,"%index");if(h&lt;0||h&gt;=this.length)throw new RangeError("out of result range");const g=l[h];return g instanceof Error&amp;&amp;Gr(`index ${h}`,g),g}if(md.indexOf(c)&gt;=0)return Reflect.get(l,c,u);const f=l[c];if(f instanceof Function)return function(...h){return f.apply(this===u?l:this,h)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}})}toArray(){const e=[];return this.forEach((n,r)=&gt;{n instanceof Error&amp;&amp;Gr(`index ${r}`,n),e.push(n)}),e}toObject(){return d(this,In).reduce((e,n,r)=&gt;(S(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in e||(e[n]=this.getValue(n)),e),{})}slice(e,n){e==null&amp;&amp;(e=0),e&lt;0&amp;&amp;(e+=this.length,e&lt;0&amp;&amp;(e=0)),n==null&amp;&amp;(n=this.length),n&lt;0&amp;&amp;(n+=this.length,n&lt;0&amp;&amp;(n=0)),n&gt;this.length&amp;&amp;(n=this.length);const r=[],i=[];for(let o=e;o&lt;n;o++)r.push(this[o]),i.push(d(this,In)[o]);return new si(Xi,r,i)}filter(e,n){const r=[],i=[];for(let o=0;o&lt;this.length;o++){const a=this[o];a instanceof Error&amp;&amp;Gr(`index ${o}`,a),e.call(n,a,o,this)&amp;&amp;(r.push(a),i.push(d(this,In)[o]))}return new si(Xi,r,i)}map(e,n){const r=[];for(let i=0;i&lt;this.length;i++){const o=this[i];o instanceof Error&amp;&amp;Gr(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=d(this,In).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&amp;&amp;Gr(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new si(Xi,e,n)}};In=new WeakMap;let vo=si;function Hl(s){let t=de(s);return S(t.length&lt;=Zt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Zt,offset:t.length}),t.length!==Zt&amp;&amp;(t=re(Ut([_a.slice(t.length%Zt),t]))),t}class An{constructor(t,e,n,r){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");V(this,{name:t,type:e,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){E(!1,t,this.localName,e)}}var nn,is,tr,co;class Ba{constructor(){P(this,tr);P(this,nn,void 0);P(this,is,void 0);m(this,nn,[]),m(this,is,0)}get data(){return Ut(d(this,nn))}get length(){return d(this,is)}appendWriter(t){return R(this,tr,co).call(this,re(t.data))}writeBytes(t){let e=re(t);const n=e.length%Zt;return n&amp;&amp;(e=re(Ut([e,_a.slice(n)]))),R(this,tr,co).call(this,e)}writeValue(t){return R(this,tr,co).call(this,Hl(t))}writeUpdatableValue(){const t=d(this,nn).length;return d(this,nn).push(_a),m(this,is,d(this,is)+Zt),e=&gt;{d(this,nn)[t]=Hl(e)}}}nn=new WeakMap,is=new WeakMap,tr=new WeakSet,co=function(t){return d(this,nn).push(t),m(this,is,d(this,is)+t.length),t.length};var ue,Ae,Fo,Hu;const kl=class kl{constructor(t,e){P(this,Fo);k(this,"allowLoose");P(this,ue,void 0);P(this,Ae,void 0);V(this,{allowLoose:!!e}),m(this,ue,re(t)),m(this,Ae,0)}get data(){return $(d(this,ue))}get dataLength(){return d(this,ue).length}get consumed(){return d(this,Ae)}get bytes(){return new Uint8Array(d(this,ue))}subReader(t){return new kl(d(this,ue).slice(d(this,Ae)+t),this.allowLoose)}readBytes(t,e){let n=R(this,Fo,Hu).call(this,0,t,!!e);return m(this,Ae,d(this,Ae)+n.length),n.slice(0,t)}readValue(){return il(this.readBytes(Zt))}readIndex(){return Zh(this.readBytes(Zt))}};ue=new WeakMap,Ae=new WeakMap,Fo=new WeakSet,Hu=function(t,e,n){let r=Math.ceil(e/Zt)*Zt;return d(this,Ae)+r&gt;d(this,ue).length&amp;&amp;(this.allowLoose&amp;&amp;n&amp;&amp;d(this,Ae)+e&lt;=d(this,ue).length?r=e:S(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:re(d(this,ue)),length:d(this,ue).length,offset:d(this,Ae)+r})),d(this,ue).slice(d(this,Ae),d(this,Ae)+r)};let Oa=kl;function La(s){if(!Number.isSafeInteger(s)||s&lt;0)throw new Error(`Wrong positive integer: ${s}`)}function yd(s){if(typeof s!="boolean")throw new Error(`Expected boolean, not ${s}`)}function $u(s,...t){if(!(s instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length&gt;0&amp;&amp;!t.includes(s.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${s.length}`)}function wd(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");La(s.outputLen),La(s.blockLen)}function Ad(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&amp;&amp;s.finished)throw new Error("Hash#digest() has already been called")}function bd(s,t){$u(s);const e=t.outputLen;if(s.length&lt;e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const he={number:La,bool:yd,bytes:$u,hash:wd,exists:Ad,output:bd};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vd=s=&gt;new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)),ha=s=&gt;new DataView(s.buffer,s.byteOffset,s.byteLength),Fe=(s,t)=&gt;s&lt;&lt;32-t|s&gt;&gt;&gt;t,Ed=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ed)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(s,t)=&gt;t.toString(16).padStart(2,"0"));function kd(s){if(typeof s!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof s}`);return new TextEncoder().encode(s)}function Mi(s){if(typeof s=="string"&amp;&amp;(s=kd(s)),!(s instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof s})`);return s}class Eo{clone(){return this._cloneInto()}}function Hi(s){const t=n=&gt;s().update(Mi(n)).digest(),e=s();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=&gt;s(),t}function Cd(s){const t=(n,r)=&gt;s(r).update(Mi(n)).digest(),e=s({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=&gt;s(n),t}class Gu extends Eo{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,he.hash(t);const n=Mi(e);if(this.iHash=t.create(),!(this.iHash instanceof Eo))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(r);i.set(n.length&gt;this.iHash.blockLen?t.create().update(n).digest():n);for(let o=0;o&lt;i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o&lt;i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return he.exists(this),this.iHash.update(t),this}digestInto(t){he.exists(this),he.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Qu=(s,t,e)=&gt;new Gu(s,t).update(e).digest();Qu.create=(s,t)=&gt;new Gu(s,t);function Pd(s,t,e,n){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,e,n);const r=BigInt(32),i=BigInt(4294967295),o=Number(e&gt;&gt;r&amp;i),a=Number(e&amp;i),l=n?4:0,c=n?0:4;s.setUint32(t+l,o,n),s.setUint32(t+c,a,n)}class Vu extends Eo{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ha(this.buffer)}update(t){he.exists(this);const{view:e,buffer:n,blockLen:r}=this;t=Mi(t);const i=t.length;for(let o=0;o&lt;i;){const a=Math.min(r-this.pos,i-o);if(a===r){const l=ha(t);for(;r&lt;=i-o;o+=r)this.process(l,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&amp;&amp;(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){he.exists(this),he.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset&gt;r-o&amp;&amp;(this.process(n,0),o=0);for(let l=o;l&lt;r;l++)e[l]=0;Pd(n,r-8,BigInt(this.length*8),i),this.process(n,0);const a=ha(t);this.get().forEach((l,c)=&gt;a.setUint32(4*c,l,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=i,t.destroyed=o,r%e&amp;&amp;t.buffer.set(n),t}}const xd=(s,t,e)=&gt;s&amp;t^~s&amp;e,Id=(s,t,e)=&gt;s&amp;t^s&amp;e^t&amp;e,Nd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vn=new Uint32Array(64);class Td extends Vu{constructor(){super(64,32,8,!1),this.A=bn[0]|0,this.B=bn[1]|0,this.C=bn[2]|0,this.D=bn[3]|0,this.E=bn[4]|0,this.F=bn[5]|0,this.G=bn[6]|0,this.H=bn[7]|0}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:a,H:l}=this;return[t,e,n,r,i,o,a,l]}set(t,e,n,r,i,o,a,l){this.A=t|0,this.B=e|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,e){for(let f=0;f&lt;16;f++,e+=4)vn[f]=t.getUint32(e,!1);for(let f=16;f&lt;64;f++){const h=vn[f-15],g=vn[f-2],y=Fe(h,7)^Fe(h,18)^h&gt;&gt;&gt;3,w=Fe(g,17)^Fe(g,19)^g&gt;&gt;&gt;10;vn[f]=w+vn[f-7]+y+vn[f-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f&lt;64;f++){const h=Fe(a,6)^Fe(a,11)^Fe(a,25),g=u+h+xd(a,l,c)+Nd[f]+vn[f]|0,w=(Fe(n,2)^Fe(n,13)^Fe(n,22))+Id(n,r,i)|0;u=c,c=l,l=a,a=o+g|0,o=i,i=r,r=n,n=g+w|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,a,l,c,u)}roundClean(){vn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sd=Hi(()=&gt;new Td),qi=BigInt(2**32-1),Ra=BigInt(32);function zu(s,t=!1){return t?{h:Number(s&amp;qi),l:Number(s&gt;&gt;Ra&amp;qi)}:{h:Number(s&gt;&gt;Ra&amp;qi)|0,l:Number(s&amp;qi)|0}}function _d(s,t=!1){let e=new Uint32Array(s.length),n=new Uint32Array(s.length);for(let r=0;r&lt;s.length;r++){const{h:i,l:o}=zu(s[r],t);[e[r],n[r]]=[i,o]}return[e,n]}const Bd=(s,t)=&gt;BigInt(s&gt;&gt;&gt;0)&lt;&lt;Ra|BigInt(t&gt;&gt;&gt;0),Od=(s,t,e)=&gt;s&gt;&gt;&gt;e,Ld=(s,t,e)=&gt;s&lt;&lt;32-e|t&gt;&gt;&gt;e,Rd=(s,t,e)=&gt;s&gt;&gt;&gt;e|t&lt;&lt;32-e,Ud=(s,t,e)=&gt;s&lt;&lt;32-e|t&gt;&gt;&gt;e,Fd=(s,t,e)=&gt;s&lt;&lt;64-e|t&gt;&gt;&gt;e-32,Dd=(s,t,e)=&gt;s&gt;&gt;&gt;e-32|t&lt;&lt;64-e,Md=(s,t)=&gt;t,Hd=(s,t)=&gt;s,$d=(s,t,e)=&gt;s&lt;&lt;e|t&gt;&gt;&gt;32-e,Gd=(s,t,e)=&gt;t&lt;&lt;e|s&gt;&gt;&gt;32-e,Qd=(s,t,e)=&gt;t&lt;&lt;e-32|s&gt;&gt;&gt;64-e,Vd=(s,t,e)=&gt;s&lt;&lt;e-32|t&gt;&gt;&gt;64-e;function zd(s,t,e,n){const r=(t&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0);return{h:s+e+(r/2**32|0)|0,l:r|0}}const Jd=(s,t,e)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0),Kd=(s,t,e,n)=&gt;t+e+n+(s/2**32|0)|0,jd=(s,t,e,n)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0),Wd=(s,t,e,n,r)=&gt;t+e+n+r+(s/2**32|0)|0,Yd=(s,t,e,n,r)=&gt;(s&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(n&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0),Zd=(s,t,e,n,r,i)=&gt;t+e+n+r+i+(s/2**32|0)|0,K={fromBig:zu,split:_d,toBig:Bd,shrSH:Od,shrSL:Ld,rotrSH:Rd,rotrSL:Ud,rotrBH:Fd,rotrBL:Dd,rotr32H:Md,rotr32L:Hd,rotlSH:$d,rotlSL:Gd,rotlBH:Qd,rotlBL:Vd,add:zd,add3L:Jd,add3H:Kd,add4L:jd,add4H:Wd,add5H:Zd,add5L:Yd},[Xd,qd]=K.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=&gt;BigInt(s))),En=new Uint32Array(80),kn=new Uint32Array(80);class ll extends Vu{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:g,Gl:y,Hh:w,Hl:v}=this;return[t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v]}set(t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=r|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=y|0,this.Hh=w|0,this.Hl=v|0}process(t,e){for(let I=0;I&lt;16;I++,e+=4)En[I]=t.getUint32(e),kn[I]=t.getUint32(e+=4);for(let I=16;I&lt;80;I++){const L=En[I-15]|0,H=kn[I-15]|0,X=K.rotrSH(L,H,1)^K.rotrSH(L,H,8)^K.shrSH(L,H,7),et=K.rotrSL(L,H,1)^K.rotrSL(L,H,8)^K.shrSL(L,H,7),F=En[I-2]|0,Q=kn[I-2]|0,st=K.rotrSH(F,Q,19)^K.rotrBH(F,Q,61)^K.shrSH(F,Q,6),ot=K.rotrSL(F,Q,19)^K.rotrBL(F,Q,61)^K.shrSL(F,Q,6),kt=K.add4L(et,ot,kn[I-7],kn[I-16]),Ct=K.add4H(kt,X,st,En[I-7],En[I-16]);En[I]=Ct|0,kn[I]=kt|0}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:y,Gh:w,Gl:v,Hh:x,Hl:C}=this;for(let I=0;I&lt;80;I++){const L=K.rotrSH(f,h,14)^K.rotrSH(f,h,18)^K.rotrBH(f,h,41),H=K.rotrSL(f,h,14)^K.rotrSL(f,h,18)^K.rotrBL(f,h,41),X=f&amp;g^~f&amp;w,et=h&amp;y^~h&amp;v,F=K.add5L(C,H,et,qd[I],kn[I]),Q=K.add5H(F,x,L,X,Xd[I],En[I]),st=F|0,ot=K.rotrSH(n,r,28)^K.rotrBH(n,r,34)^K.rotrBH(n,r,39),kt=K.rotrSL(n,r,28)^K.rotrBL(n,r,34)^K.rotrBL(n,r,39),Ct=n&amp;i^n&amp;a^i&amp;a,yt=r&amp;o^r&amp;l^o&amp;l;x=w|0,C=v|0,w=g|0,v=y|0,g=f|0,y=h|0,{h:f,l:h}=K.add(c|0,u|0,Q|0,st|0),c=a|0,u=l|0,a=i|0,l=o|0,i=n|0,o=r|0;const Ft=K.add3L(st,kt,yt);n=K.add3H(Ft,Q,ot,Ct),r=Ft|0}({h:n,l:r}=K.add(this.Ah|0,this.Al|0,n|0,r|0)),{h:i,l:o}=K.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=K.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=K.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=K.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:y}=K.add(this.Fh|0,this.Fl|0,g|0,y|0),{h:w,l:v}=K.add(this.Gh|0,this.Gl|0,w|0,v|0),{h:x,l:C}=K.add(this.Hh|0,this.Hl|0,x|0,C|0),this.set(n,r,i,o,a,l,c,u,f,h,g,y,w,v,x,C)}roundClean(){En.fill(0),kn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class tp extends ll{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class ep extends ll{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const np=Hi(()=&gt;new ll);Hi(()=&gt;new tp);Hi(()=&gt;new ep);function sp(){if(typeof self&lt;"u")return self;if(typeof window&lt;"u")return window;if(typeof global&lt;"u")return global;throw new Error("unable to locate global object")}const $l=sp();$l.crypto||$l.msCrypto;function rp(s,t){const e={sha256:Sd,sha512:np}[s];return E(e!=null,"invalid hmac algorithm","algorithm",s),Qu.create(e,t)}let Ju=!1;const Ku=function(s,t,e){return rp(s,t).update(e).digest()};let ju=Ku;function $i(s,t,e){const n=ut(t,"key"),r=ut(e,"data");return $(ju(s,n,r))}$i._=Ku;$i.lock=function(){Ju=!0};$i.register=function(s){if(Ju)throw new Error("computeHmac is locked");ju=s};Object.freeze($i);const[Wu,Yu,Zu]=[[],[],[]],ip=BigInt(0),Qr=BigInt(1),op=BigInt(2),ap=BigInt(7),lp=BigInt(256),cp=BigInt(113);for(let s=0,t=Qr,e=1,n=0;s&lt;24;s++){[e,n]=[n,(2*e+3*n)%5],Wu.push(2*(5*n+e)),Yu.push((s+1)*(s+2)/2%64);let r=ip;for(let i=0;i&lt;7;i++)t=(t&lt;&lt;Qr^(t&gt;&gt;ap)*cp)%lp,t&amp;op&amp;&amp;(r^=Qr&lt;&lt;(Qr&lt;&lt;BigInt(i))-Qr);Zu.push(r)}const[up,fp]=K.split(Zu,!0),Gl=(s,t,e)=&gt;e&gt;32?K.rotlBH(s,t,e):K.rotlSH(s,t,e),Ql=(s,t,e)=&gt;e&gt;32?K.rotlBL(s,t,e):K.rotlSL(s,t,e);function hp(s,t=24){const e=new Uint32Array(10);for(let n=24-t;n&lt;24;n++){for(let o=0;o&lt;10;o++)e[o]=s[o]^s[o+10]^s[o+20]^s[o+30]^s[o+40];for(let o=0;o&lt;10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=e[l],u=e[l+1],f=Gl(c,u,1)^e[a],h=Ql(c,u,1)^e[a+1];for(let g=0;g&lt;50;g+=10)s[o+g]^=f,s[o+g+1]^=h}let r=s[2],i=s[3];for(let o=0;o&lt;24;o++){const a=Yu[o],l=Gl(r,i,a),c=Ql(r,i,a),u=Wu[o];r=s[u],i=s[u+1],s[u]=l,s[u+1]=c}for(let o=0;o&lt;50;o+=10){for(let a=0;a&lt;10;a++)e[a]=s[o+a];for(let a=0;a&lt;10;a++)s[o+a]^=~e[(a+2)%10]&amp;e[(a+4)%10]}s[0]^=up[n],s[1]^=fp[n]}e.fill(0)}class Xo extends Eo{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,he.number(n),0&gt;=this.blockLen||this.blockLen&gt;=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vd(this.state)}keccak(){hp(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){he.exists(this);const{blockLen:e,state:n}=this;t=Mi(t);const r=t.length;for(let i=0;i&lt;r;){const o=Math.min(e-this.pos,r-i);for(let a=0;a&lt;o;a++)n[this.pos++]^=t[i++];this.pos===e&amp;&amp;this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,e&amp;128&amp;&amp;n===r-1&amp;&amp;this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){he.exists(this,!1),he.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r&lt;i;){this.posOut&gt;=n&amp;&amp;this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return he.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(he.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new Xo(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const jn=(s,t,e)=&gt;Hi(()=&gt;new Xo(t,s,e));jn(6,144,224/8);jn(6,136,256/8);jn(6,104,384/8);jn(6,72,512/8);jn(1,144,224/8);const dp=jn(1,136,256/8);jn(1,104,384/8);jn(1,72,512/8);const Xu=(s,t,e)=&gt;Cd((n={})=&gt;new Xo(t,s,n.dkLen===void 0?e:n.dkLen,!0));Xu(31,168,128/8);Xu(31,136,256/8);let qu=!1;const tf=function(s){return dp(s)};let ef=tf;function _t(s){const t=ut(s,"data");return $(ef(t))}_t._=tf;_t.lock=function(){qu=!0};_t.register=function(s){if(qu)throw new TypeError("keccak256 is locked");ef=s};Object.freeze(_t);const pp={},gp=Object.freeze(Object.defineProperty({__proto__:null,default:pp},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ct=BigInt(0),xt=BigInt(1),Hn=BigInt(2),qr=BigInt(3),Vl=BigInt(8),Rt=Object.freeze({a:ct,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),zl=(s,t)=&gt;(s+t/Hn)/t,to={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(s){const{n:t}=Rt,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=zl(i*s,t),l=zl(-n*s,t);let c=M(s-a*e-l*r,t),u=M(-a*n-l*i,t);const f=c&gt;o,h=u&gt;o;if(f&amp;&amp;(c=t-c),h&amp;&amp;(u=t-u),c&gt;o||u&gt;o)throw new Error("splitScalarEndo: Endomorphism failed, k="+s);return{k1neg:f,k1:c,k2neg:h,k2:u}}},Oe=32,Or=32,mp=32,ko=Oe+1,Co=2*Oe+1;function Jl(s){const{a:t,b:e}=Rt,n=M(s*s),r=M(n*s);return M(r+t*s+e)}const eo=Rt.a===ct;class nf extends Error{constructor(t){super(t)}}function Kl(s){if(!(s instanceof dt))throw new TypeError("JacobianPoint expected")}class dt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof gt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(gt.ZERO)?dt.ZERO:new dt(t.x,t.y,xt)}static toAffineBatch(t){const e=vp(t.map(n=&gt;n.z));return t.map((n,r)=&gt;n.toAffine(e[r]))}static normalizeZ(t){return dt.toAffineBatch(t).map(dt.fromAffine)}equals(t){Kl(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:a}=t,l=M(r*r),c=M(a*a),u=M(e*c),f=M(i*l),h=M(M(n*a)*c),g=M(M(o*r)*l);return u===f&amp;&amp;h===g}negate(){return new dt(this.x,M(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=M(t*t),i=M(e*e),o=M(i*i),a=t+i,l=M(Hn*(M(a*a)-r-o)),c=M(qr*r),u=M(c*c),f=M(u-Hn*l),h=M(c*(l-f)-Vl*o),g=M(Hn*e*n);return new dt(f,h,g)}add(t){Kl(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:a}=t;if(i===ct||o===ct)return this;if(e===ct||n===ct)return t;const l=M(r*r),c=M(a*a),u=M(e*c),f=M(i*l),h=M(M(n*a)*c),g=M(M(o*r)*l),y=M(f-u),w=M(g-h);if(y===ct)return w===ct?this.double():dt.ZERO;const v=M(y*y),x=M(y*v),C=M(u*v),I=M(w*w-x-Hn*C),L=M(w*(C-I)-h*x),H=M(r*a*y);return new dt(I,L,H)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=dt.ZERO;if(typeof t=="bigint"&amp;&amp;t===ct)return e;let n=Yl(t);if(n===xt)return this;if(!eo){let f=e,h=this;for(;n&gt;ct;)n&amp;xt&amp;&amp;(f=f.add(h)),h=h.double(),n&gt;&gt;=xt;return f}let{k1neg:r,k1:i,k2neg:o,k2:a}=to.splitScalar(n),l=e,c=e,u=this;for(;i&gt;ct||a&gt;ct;)i&amp;xt&amp;&amp;(l=l.add(u)),a&amp;xt&amp;&amp;(c=c.add(u)),u=u.double(),i&gt;&gt;=xt,a&gt;&gt;=xt;return r&amp;&amp;(l=l.negate()),o&amp;&amp;(c=c.negate()),c=new dt(M(c.x*to.beta),c.y,c.z),l.add(c)}precomputeWindow(t){const e=eo?128/t+1:256/t+1,n=[];let r=this,i=r;for(let o=0;o&lt;e;o++){i=r,n.push(i);for(let a=1;a&lt;2**(t-1);a++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&amp;&amp;this.equals(dt.BASE)&amp;&amp;(e=gt.BASE);const n=e&amp;&amp;e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&amp;&amp;Ua.get(e);r||(r=this.precomputeWindow(n),e&amp;&amp;n!==1&amp;&amp;(r=dt.normalizeZ(r),Ua.set(e,r)));let i=dt.ZERO,o=dt.BASE;const a=1+(eo?128/n:256/n),l=2**(n-1),c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let h=0;h&lt;a;h++){const g=h*l;let y=Number(t&amp;c);t&gt;&gt;=f,y&gt;l&amp;&amp;(y-=u,t+=xt);const w=g,v=g+Math.abs(y)-1,x=h%2!==0,C=y&lt;0;y===0?o=o.add(no(x,r[w])):i=i.add(no(C,r[v]))}return{p:i,f:o}}multiply(t,e){let n=Yl(t),r,i;if(eo){const{k1neg:o,k1:a,k2neg:l,k2:c}=to.splitScalar(n);let{p:u,f}=this.wNAF(a,e),{p:h,f:g}=this.wNAF(c,e);u=no(o,u),h=no(l,h),h=new dt(M(h.x*to.beta),h.y,h.z),r=u.add(h),i=f.add(g)}else{const{p:o,f:a}=this.wNAF(n,e);r=o,i=a}return dt.normalizeZ([r,i])[0]}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(dt.ZERO);t==null&amp;&amp;(t=i?Vl:Gi(r));const o=t,a=M(o*o),l=M(a*o),c=M(e*a),u=M(n*l),f=M(r*o);if(i)return gt.ZERO;if(f!==xt)throw new Error("invZ was invalid");return new gt(c,u)}}dt.BASE=new dt(Rt.Gx,Rt.Gy,xt);dt.ZERO=new dt(ct,xt,ct);function no(s,t){const e=t.negate();return s?e:t}const Ua=new WeakMap;class gt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ua.delete(this)}hasEvenY(){return this.y%Hn===ct}static fromCompressedHex(t){const e=t.length===32,n=Qn(e?t:t.subarray(1));if(!da(n))throw new Error("Point is not on curve");const r=Jl(n);let i=bp(r);const o=(i&amp;xt)===xt;e?o&amp;&amp;(i=M(-i)):(t[0]&amp;1)===1!==o&amp;&amp;(i=M(-i));const a=new gt(n,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Qn(t.subarray(1,Oe+1)),n=Qn(t.subarray(Oe+1,Oe*2+1)),r=new gt(e,n);return r.assertValidity(),r}static fromHex(t){const e=ai(t),n=e.length,r=e[0];if(n===Oe)return this.fromCompressedHex(e);if(n===ko&amp;&amp;(r===2||r===3))return this.fromCompressedHex(e);if(n===Co&amp;&amp;r===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${ko} compressed bytes or ${Co} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return gt.BASE.multiply(ci(t))}static fromSignature(t,e,n){const{r,s:i}=xp(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=sf(ai(t)),{n:a}=Rt,l=n===2||n===3?r+a:r,c=Gi(l,a),u=M(-o*c,a),f=M(i*c,a),h=n&amp;1?"03":"02",g=gt.fromHex(h+Js(l)),y=gt.BASE.multiplyAndAddUnsafe(g,u,f);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(t=!1){return ws(this.toHex(t))}toHex(t=!1){const e=Js(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Js(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!da(e)||!da(n))throw new Error(t);const r=M(n*n),i=Jl(e);if(M(r-i)!==ct)throw new Error(t)}equals(t){return this.x===t.x&amp;&amp;this.y===t.y}negate(){return new gt(this.x,M(-this.y))}double(){return dt.fromAffine(this).double().toAffine()}add(t){return dt.fromAffine(this).add(dt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return dt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=dt.fromAffine(this),i=e===ct||e===xt||this!==gt.BASE?r.multiplyUnsafe(e):r.multiply(e),o=dt.fromAffine(t).multiplyUnsafe(n),a=i.add(o);return a.equals(dt.ZERO)?void 0:a.toAffine()}}gt.BASE=new gt(Rt.Gx,Rt.Gy);gt.ZERO=new gt(ct,ct);function jl(s){return Number.parseInt(s[0],16)&gt;=8?"00"+s:s}function Wl(s){if(s.length&lt;2||s[0]!==2)throw new Error(`Invalid signature integer tag: ${Lr(s)}`);const t=s[1],e=s.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&amp;&amp;e[1]&lt;=127)throw new Error("Invalid signature integer: trailing length");return{data:Qn(e),left:s.subarray(t+2)}}function yp(s){if(s.length&lt;2||s[0]!=48)throw new Error(`Invalid signature tag: ${Lr(s)}`);if(s[1]!==s.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=Wl(s.subarray(2)),{data:n,left:r}=Wl(e);if(r.length)throw new Error(`Invalid signature: left bytes after parsing: ${Lr(r)}`);return{r:t,s:n}}let zs=class uo{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&amp;&amp;!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?Lr(t):t;if(r.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new uo(Po(r.slice(0,64)),Po(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&amp;&amp;!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=yp(e?t:ws(t));return new uo(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!li(t))throw new Error("Invalid Signature: r must be 0 &lt; r &lt; n");if(!li(e))throw new Error("Invalid Signature: s must be 0 &lt; s &lt; n")}hasHighS(){const t=Rt.n&gt;&gt;xt;return this.s&gt;t}normalizeS(){return this.hasHighS()?new uo(this.r,M(-this.s,Rt.n)):this}toDERRawBytes(){return ws(this.toDERHex())}toDERHex(){const t=jl(Vr(this.s)),e=jl(Vr(this.r)),n=t.length/2,r=e.length/2,i=Vr(n),o=Vr(r);return`30${Vr(r+n+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ws(this.toCompactHex())}toCompactHex(){return Js(this.r)+Js(this.s)}};function Pn(...s){if(!s.every(n=&gt;n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(s.length===1)return s[0];const t=s.reduce((n,r)=&gt;n+r.length,0),e=new Uint8Array(t);for(let n=0,r=0;n&lt;s.length;n++){const i=s[n];e.set(i,r),r+=i.length}return e}const wp=Array.from({length:256},(s,t)=&gt;t.toString(16).padStart(2,"0"));function Lr(s){if(!(s instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e&lt;s.length;e++)t+=wp[s[e]];return t}const Ap=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Js(s){if(typeof s!="bigint")throw new Error("Expected bigint");if(!(ct&lt;=s&amp;&amp;s&lt;Ap))throw new Error("Expected number 0 &lt;= n &lt; 2^256");return s.toString(16).padStart(64,"0")}function Fa(s){const t=ws(Js(s));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Vr(s){const t=s.toString(16);return t.length&amp;1?`0${t}`:t}function Po(s){if(typeof s!="string")throw new TypeError("hexToNumber: expected string, got "+typeof s);return BigInt(`0x${s}`)}function ws(s){if(typeof s!="string")throw new TypeError("hexToBytes: expected string, got "+typeof s);if(s.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+s.length);const t=new Uint8Array(s.length/2);for(let e=0;e&lt;t.length;e++){const n=e*2,r=s.slice(n,n+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i&lt;0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Qn(s){return Po(Lr(s))}function ai(s){return s instanceof Uint8Array?Uint8Array.from(s):ws(s)}function Yl(s){if(typeof s=="number"&amp;&amp;Number.isSafeInteger(s)&amp;&amp;s&gt;0)return BigInt(s);if(typeof s=="bigint"&amp;&amp;li(s))return s;throw new TypeError("Expected valid private scalar: 0 &lt; scalar &lt; curve.n")}function M(s,t=Rt.P){const e=s%t;return e&gt;=ct?e:t+e}function ge(s,t){const{P:e}=Rt;let n=s;for(;t-- &gt;ct;)n*=n,n%=e;return n}function bp(s){const{P:t}=Rt,e=BigInt(6),n=BigInt(11),r=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),l=s*s*s%t,c=l*l*s%t,u=ge(c,qr)*c%t,f=ge(u,qr)*c%t,h=ge(f,Hn)*l%t,g=ge(h,n)*h%t,y=ge(g,r)*g%t,w=ge(y,o)*y%t,v=ge(w,a)*w%t,x=ge(v,o)*y%t,C=ge(x,qr)*c%t,I=ge(C,i)*g%t,L=ge(I,e)*l%t,H=ge(L,Hn);if(H*H%t!==s)throw new Error("Cannot find square root");return H}function Gi(s,t=Rt.P){if(s===ct||t&lt;=ct)throw new Error(`invert: expected positive integers, got n=${s} mod=${t}`);let e=M(s,t),n=t,r=ct,i=xt;for(;e!==ct;){const a=n/e,l=n%e,c=r-i*a;n=e,e=l,r=i,i=c}if(n!==xt)throw new Error("invert: does not exist");return M(r,t)}function vp(s,t=Rt.P){const e=new Array(s.length),n=s.reduce((i,o,a)=&gt;o===ct?i:(e[a]=i,M(i*o,t)),xt),r=Gi(n,t);return s.reduceRight((i,o,a)=&gt;o===ct?i:(e[a]=M(i*e[a],t),M(i*o,t)),r),e}function Ep(s){const t=s.length*8-Or*8,e=Qn(s);return t&gt;0?e&gt;&gt;BigInt(t):e}function sf(s,t=!1){const e=Ep(s);if(t)return e;const{n}=Rt;return e&gt;=n?e-n:e}let Ks,ti;class kp{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t&lt;2)throw new Error("hashLen must be a number");if(typeof e!="number"||e&lt;2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return $n.hmacSha256(this.k,...t)}hmacSync(...t){return ti(this.k,...t)}checkSync(){if(typeof ti!="function")throw new nf("hmacSha256Sync needs to be set")}incr(){if(this.counter&gt;=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&amp;&amp;(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&amp;&amp;(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Pn(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Pn(...e)}}function li(s){return ct&lt;s&amp;&amp;s&lt;Rt.n}function da(s){return ct&lt;s&amp;&amp;s&lt;Rt.P}function Cp(s,t,e,n=!0){const{n:r}=Rt,i=sf(s,!0);if(!li(i))return;const o=Gi(i,r),a=gt.BASE.multiply(i),l=M(a.x,r);if(l===ct)return;const c=M(o*M(t+e*l,r),r);if(c===ct)return;let u=new zs(l,c),f=(a.x===u.r?0:2)|Number(a.y&amp;xt);return n&amp;&amp;u.hasHighS()&amp;&amp;(u=u.normalizeS(),f^=1),{sig:u,recovery:f}}function ci(s){let t;if(typeof s=="bigint")t=s;else if(typeof s=="number"&amp;&amp;Number.isSafeInteger(s)&amp;&amp;s&gt;0)t=BigInt(s);else if(typeof s=="string"){if(s.length!==2*Or)throw new Error("Expected 32 bytes of private key");t=Po(s)}else if(s instanceof Uint8Array){if(s.length!==Or)throw new Error("Expected 32 bytes of private key");t=Qn(s)}else throw new TypeError("Expected valid private key");if(!li(t))throw new Error("Expected private key: 0 &lt; key &lt; n");return t}function Pp(s){return s instanceof gt?(s.assertValidity(),s):gt.fromHex(s)}function xp(s){if(s instanceof zs)return s.assertValidity(),s;try{return zs.fromDER(s)}catch{return zs.fromCompact(s)}}function Ip(s,t=!1){return gt.fromPrivateKey(s).toRawBytes(t)}function Np(s,t,e,n=!1){return gt.fromSignature(s,t,e).toRawBytes(n)}function Zl(s){const t=s instanceof Uint8Array,e=typeof s=="string",n=(t||e)&amp;&amp;s.length;return t?n===ko||n===Co:e?n===ko*2||n===Co*2:s instanceof gt}function Tp(s,t,e=!1){if(Zl(s))throw new TypeError("getSharedSecret: first arg must be private key");if(!Zl(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=Pp(t);return n.assertValidity(),n.multiply(ci(s)).toRawBytes(e)}function rf(s){const t=s.length&gt;Oe?s.slice(0,Oe):s;return Qn(t)}function Sp(s){const t=rf(s),e=M(t,Rt.n);return of(e&lt;ct?t:e)}function of(s){return Fa(s)}function _p(s,t,e){if(s==null)throw new Error(`sign: expected valid message hash, not "${s}"`);const n=ai(s),r=ci(t),i=[of(r),Sp(n)];if(e!=null){e===!0&amp;&amp;(e=$n.randomBytes(Oe));const l=ai(e);if(l.length!==Oe)throw new Error(`sign: Expected ${Oe} bytes of extra data`);i.push(l)}const o=Pn(...i),a=rf(n);return{seed:o,m:a,d:r}}function Bp(s,t){const{sig:e,recovery:n}=s,{der:r,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=r?e.toDERRawBytes():e.toCompactRawBytes();return i?[o,n]:o}function Op(s,t,e={}){const{seed:n,m:r,d:i}=_p(s,t,e.extraEntropy),o=new kp(mp,Or);o.reseedSync(n);let a;for(;!(a=Cp(o.generateSync(),r,i,e.canonical));)o.reseedSync();return Bp(a,e)}gt.BASE._setWindowSize(8);const ae={node:gp,web:typeof self=="object"&amp;&amp;"crypto"in self?self.crypto:void 0},so={},$n={bytesToHex:Lr,hexToBytes:ws,concatBytes:Pn,mod:M,invert:Gi,isValidPrivateKey(s){try{return ci(s),!0}catch{return!1}},_bigintTo32Bytes:Fa,_normalizePrivateKey:ci,hashToPrivateKey:s=&gt;{s=ai(s);const t=Or+8;if(s.length&lt;t||s.length&gt;1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=M(Qn(s),Rt.n-xt)+xt;return Fa(e)},randomBytes:(s=32)=&gt;{if(ae.web)return ae.web.getRandomValues(new Uint8Array(s));if(ae.node){const{randomBytes:t}=ae.node;return Uint8Array.from(t(s))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=&gt;$n.hashToPrivateKey($n.randomBytes(Or+8)),precompute(s=8,t=gt.BASE){const e=t===gt.BASE?t:new gt(t.x,t.y);return e._setWindowSize(s),e.multiply(qr),e},sha256:async(...s)=&gt;{if(ae.web){const t=await ae.web.subtle.digest("SHA-256",Pn(...s));return new Uint8Array(t)}else if(ae.node){const{createHash:t}=ae.node,e=t("sha256");return s.forEach(n=&gt;e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(s,...t)=&gt;{if(ae.web){const e=await ae.web.subtle.importKey("raw",s,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Pn(...t),r=await ae.web.subtle.sign("HMAC",e,n);return new Uint8Array(r)}else if(ae.node){const{createHmac:e}=ae.node,n=e("sha256",s);return t.forEach(r=&gt;n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(s,...t)=&gt;{let e=so[s];if(e===void 0){const n=await $n.sha256(Uint8Array.from(s,r=&gt;r.charCodeAt(0)));e=Pn(n,n),so[s]=e}return $n.sha256(e,...t)},taggedHashSync:(s,...t)=&gt;{if(typeof Ks!="function")throw new nf("sha256Sync is undefined, you need to set it");let e=so[s];if(e===void 0){const n=Ks(Uint8Array.from(s,r=&gt;r.charCodeAt(0)));e=Pn(n,n),so[s]=e}return Ks(e,...t)},_JacobianPoint:dt};Object.defineProperties($n,{sha256Sync:{configurable:!1,get(){return Ks},set(s){Ks||(Ks=s)}},hmacSha256Sync:{configurable:!1,get(){return ti},set(s){ti||(ti=s)}}});const Da="0x0000000000000000000000000000000000000000",Xl="0x0000000000000000000000000000000000000000000000000000000000000000",ql=BigInt(0),tc=BigInt(1),ec=BigInt(2),nc=BigInt(27),sc=BigInt(28),ro=BigInt(35),Ss={};function rc(s){return vs(de(s),32)}var er,nr,sr,os;const Ie=class Ie{constructor(t,e,n,r){P(this,er,void 0);P(this,nr,void 0);P(this,sr,void 0);P(this,os,void 0);Wo(t,Ss,"Signature"),m(this,er,e),m(this,nr,n),m(this,sr,r),m(this,os,null)}get r(){return d(this,er)}set r(t){E(Vs(t)===32,"invalid r","value",t),m(this,er,$(t))}get s(){return d(this,nr)}set s(t){E(Vs(t)===32,"invalid s","value",t);const e=$(t);E(parseInt(e.substring(0,3))&lt;8,"non-canonical s","value",e),m(this,nr,e)}get v(){return d(this,sr)}set v(t){const e=it(t,"value");E(e===27||e===28,"invalid v","v",t),m(this,sr,e)}get networkV(){return d(this,os)}get legacyChainId(){const t=this.networkV;return t==null?null:Ie.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=ut(this.s);return this.yParity&amp;&amp;(t[0]|=128),$(t)}get compactSerialized(){return Ut([this.r,this.yParityAndS])}get serialized(){return Ut([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Ie(Ss,this.r,this.s,this.v);return this.networkV&amp;&amp;m(t,os,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=G(t,"v");return e==nc||e==sc?ql:(E(e&gt;=ro,"invalid EIP-155 v","v",t),(e-ro)/ec)}static getChainIdV(t,e){return G(t)*ec+BigInt(35+e-27)}static getNormalizedV(t){const e=G(t);return e===ql||e===nc?27:e===tc||e===sc?28:(E(e&gt;=ro,"invalid v","v",t),e&amp;tc?27:28)}static from(t){function e(c,u){E(c,u,"signature",t)}if(t==null)return new Ie(Ss,Xl,Xl,27);if(typeof t=="string"){const c=ut(t,"signature");if(c.length===64){const u=$(c.slice(0,32)),f=c.slice(32,64),h=f[0]&amp;128?28:27;return f[0]&amp;=127,new Ie(Ss,u,$(f),h)}if(c.length===65){const u=$(c.slice(0,32)),f=c.slice(32,64);e((f[0]&amp;128)===0,"non-canonical s");const h=Ie.getNormalizedV(c[64]);return new Ie(Ss,u,$(f),h)}e(!1,"invalid raw signature length")}if(t instanceof Ie)return t.clone();const n=t.r;e(n!=null,"missing r");const r=rc(n),i=function(c,u){if(c!=null)return rc(c);if(u!=null){e(Bt(u,32),"invalid yParityAndS");const f=ut(u);return f[0]&amp;=127,$(f)}e(!1,"missing s")}(t.s,t.yParityAndS);e((ut(i)[0]&amp;128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,u,f){if(c!=null){const h=G(c);return{networkV:h&gt;=ro?h:void 0,v:Ie.getNormalizedV(h)}}if(u!=null)return e(Bt(u,32),"invalid yParityAndS"),{v:ut(u)[0]&amp;128?28:27};if(f!=null){switch(it(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),l=new Ie(Ss,r,i,a);return o&amp;&amp;m(l,os,o),e(t.yParity==null||it(t.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};er=new WeakMap,nr=new WeakMap,sr=new WeakMap,os=new WeakMap;let Le=Ie;$n.hmacSha256Sync=function(s,...t){return ut($i("sha256",s,Ut(t)))};var sn;const Yn=class Yn{constructor(t){P(this,sn,void 0);E(Vs(t)===32,"invalid private key","privateKey","[REDACTED]"),m(this,sn,$(t))}get privateKey(){return d(this,sn)}get publicKey(){return Yn.computePublicKey(d(this,sn))}get compressedPublicKey(){return Yn.computePublicKey(d(this,sn),!0)}sign(t){E(Vs(t)===32,"invalid digest length","digest",t);const[e,n]=Op(re(t),re(d(this,sn)),{recovered:!0,canonical:!0}),r=zs.fromHex(e);return Le.from({r:Vn("0x"+r.r.toString(16),32),s:Vn("0x"+r.s.toString(16),32),v:n?28:27})}computeSharedSecret(t){const e=Yn.computePublicKey(t);return $(Tp(re(d(this,sn)),ut(e)))}static computePublicKey(t,e){let n=ut(t,"key");if(n.length===32){const i=Ip(n,!!e);return $(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const r=gt.fromHex(n);return $(r.toRawBytes(e))}static recoverPublicKey(t,e){E(Vs(t)===32,"invalid digest length","digest",t);const n=Le.from(e),r=zs.fromCompact(re(Ut([n.r,n.s]))).toDERRawBytes(),i=Np(re(t),r,n.yParity);return E(i!=null,"invalid signature for digest","signature",e),$(i)}static addPoints(t,e,n){const r=gt.fromHex(Yn.computePublicKey(t).substring(2)),i=gt.fromHex(Yn.computePublicKey(e).substring(2));return"0x"+r.add(i).toHex(!!n)}};sn=new WeakMap;let ui=Yn;const Lp=BigInt(0),Rp=BigInt(36);function ic(s){s=s.toLowerCase();const t=s.substring(2).split(""),e=new Uint8Array(40);for(let r=0;r&lt;40;r++)e[r]=t[r].charCodeAt(0);const n=ut(_t(e));for(let r=0;r&lt;40;r+=2)n[r&gt;&gt;1]&gt;&gt;4&gt;=8&amp;&amp;(t[r]=t[r].toUpperCase()),(n[r&gt;&gt;1]&amp;15)&gt;=8&amp;&amp;(t[r+1]=t[r+1].toUpperCase());return"0x"+t.join("")}const cl={};for(let s=0;s&lt;10;s++)cl[String(s)]=String(s);for(let s=0;s&lt;26;s++)cl[String.fromCharCode(65+s)]=String(10+s);const oc=15;function Up(s){s=s.toUpperCase(),s=s.substring(4)+s.substring(0,2)+"00";let t=s.split("").map(n=&gt;cl[n]).join("");for(;t.length&gt;=oc;){let n=t.substring(0,oc);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length&lt;2;)e="0"+e;return e}const Fp=function(){const s={};for(let t=0;t&lt;36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];s[e]=BigInt(t)}return s}();function Dp(s){s=s.toLowerCase();let t=Lp;for(let e=0;e&lt;s.length;e++)t=t*Rp+Fp[s[e]];return t}function pt(s){if(E(typeof s=="string","invalid address","address",s),s.match(/^(0x)?[0-9a-fA-F]{40}$/)){s.startsWith("0x")||(s="0x"+s);const t=ic(s);return E(!s.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===s,"bad address checksum","address",s),t}if(s.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){E(s.substring(2,4)===Up(s),"bad icap checksum","address",s);let t=Dp(s.substring(4)).toString(16);for(;t.length&lt;40;)t="0"+t;return ic("0x"+t)}E(!1,"invalid address","address",s)}function Mp(s){const t=pt(s.from);let n=G(s.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,pt(Lt(_t(oi([t,n])),12))}function af(s){return s&amp;&amp;typeof s.getAddress=="function"}async function pa(s,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&amp;&amp;(S(typeof s!="string","unconfigured name","UNCONFIGURED_NAME",{value:s}),E(!1,"invalid AddressLike value; did not resolve to a value address","target",s)),pt(e)}function ie(s,t){if(typeof s=="string")return s.match(/^0x[0-9a-f]{40}$/i)?pt(s):(S(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),pa(s,t.resolveName(s)));if(af(s))return pa(s,s.getAddress());if(s&amp;&amp;typeof s.then=="function")return pa(s,s);E(!1,"unsupported addressable value","target",s)}const Ye={};function D(s,t){let e=!1;return t&lt;0&amp;&amp;(e=!0,t*=-1),new jt(Ye,`${e?"":"u"}int${t}`,s,{signed:e,width:t})}function ht(s,t){return new jt(Ye,`bytes${t||""}`,s,{size:t})}const ac=Symbol.for("_ethers_typed");var as;const Ze=class Ze{constructor(t,e,n,r){k(this,"type");k(this,"value");P(this,as,void 0);k(this,"_typedSymbol");r==null&amp;&amp;(r=null),Wo(Ye,t,"Typed"),V(this,{_typedSymbol:ac,type:e,value:n}),m(this,as,r),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=&gt;t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,as)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,as)===!0?-1:d(this,as)===!1?this.value.length:null}static from(t,e){return new Ze(Ye,t,e)}static uint8(t){return D(t,8)}static uint16(t){return D(t,16)}static uint24(t){return D(t,24)}static uint32(t){return D(t,32)}static uint40(t){return D(t,40)}static uint48(t){return D(t,48)}static uint56(t){return D(t,56)}static uint64(t){return D(t,64)}static uint72(t){return D(t,72)}static uint80(t){return D(t,80)}static uint88(t){return D(t,88)}static uint96(t){return D(t,96)}static uint104(t){return D(t,104)}static uint112(t){return D(t,112)}static uint120(t){return D(t,120)}static uint128(t){return D(t,128)}static uint136(t){return D(t,136)}static uint144(t){return D(t,144)}static uint152(t){return D(t,152)}static uint160(t){return D(t,160)}static uint168(t){return D(t,168)}static uint176(t){return D(t,176)}static uint184(t){return D(t,184)}static uint192(t){return D(t,192)}static uint200(t){return D(t,200)}static uint208(t){return D(t,208)}static uint216(t){return D(t,216)}static uint224(t){return D(t,224)}static uint232(t){return D(t,232)}static uint240(t){return D(t,240)}static uint248(t){return D(t,248)}static uint256(t){return D(t,256)}static uint(t){return D(t,256)}static int8(t){return D(t,-8)}static int16(t){return D(t,-16)}static int24(t){return D(t,-24)}static int32(t){return D(t,-32)}static int40(t){return D(t,-40)}static int48(t){return D(t,-48)}static int56(t){return D(t,-56)}static int64(t){return D(t,-64)}static int72(t){return D(t,-72)}static int80(t){return D(t,-80)}static int88(t){return D(t,-88)}static int96(t){return D(t,-96)}static int104(t){return D(t,-104)}static int112(t){return D(t,-112)}static int120(t){return D(t,-120)}static int128(t){return D(t,-128)}static int136(t){return D(t,-136)}static int144(t){return D(t,-144)}static int152(t){return D(t,-152)}static int160(t){return D(t,-160)}static int168(t){return D(t,-168)}static int176(t){return D(t,-176)}static int184(t){return D(t,-184)}static int192(t){return D(t,-192)}static int200(t){return D(t,-200)}static int208(t){return D(t,-208)}static int216(t){return D(t,-216)}static int224(t){return D(t,-224)}static int232(t){return D(t,-232)}static int240(t){return D(t,-240)}static int248(t){return D(t,-248)}static int256(t){return D(t,-256)}static int(t){return D(t,-256)}static bytes1(t){return ht(t,1)}static bytes2(t){return ht(t,2)}static bytes3(t){return ht(t,3)}static bytes4(t){return ht(t,4)}static bytes5(t){return ht(t,5)}static bytes6(t){return ht(t,6)}static bytes7(t){return ht(t,7)}static bytes8(t){return ht(t,8)}static bytes9(t){return ht(t,9)}static bytes10(t){return ht(t,10)}static bytes11(t){return ht(t,11)}static bytes12(t){return ht(t,12)}static bytes13(t){return ht(t,13)}static bytes14(t){return ht(t,14)}static bytes15(t){return ht(t,15)}static bytes16(t){return ht(t,16)}static bytes17(t){return ht(t,17)}static bytes18(t){return ht(t,18)}static bytes19(t){return ht(t,19)}static bytes20(t){return ht(t,20)}static bytes21(t){return ht(t,21)}static bytes22(t){return ht(t,22)}static bytes23(t){return ht(t,23)}static bytes24(t){return ht(t,24)}static bytes25(t){return ht(t,25)}static bytes26(t){return ht(t,26)}static bytes27(t){return ht(t,27)}static bytes28(t){return ht(t,28)}static bytes29(t){return ht(t,29)}static bytes30(t){return ht(t,30)}static bytes31(t){return ht(t,31)}static bytes32(t){return ht(t,32)}static address(t){return new Ze(Ye,"address",t)}static bool(t){return new Ze(Ye,"bool",!!t)}static bytes(t){return new Ze(Ye,"bytes",t)}static string(t){return new Ze(Ye,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Ze(Ye,"overrides",Object.assign({},t))}static isTyped(t){return t&amp;&amp;typeof t=="object"&amp;&amp;"_typedSymbol"in t&amp;&amp;t._typedSymbol===ac}static dereference(t,e){if(Ze.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};as=new WeakMap;let jt=Ze;class Hp extends An{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=jt.dereference(e,"string");try{n=pt(n)}catch(r){return this._throwError(r.message,e)}return t.writeValue(n)}decode(t){return pt(Vn(t.readValue(),20))}}class $p extends An{constructor(e){super(e.name,e.type,"_",e.dynamic);k(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function lf(s,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&amp;&amp;typeof e=="object"){let l={};n=t.map(c=&gt;{const u=c.localName;return S(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),S(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),l[u]=!0,e[u]})}else E(!1,"invalid tuple value","tuple",e);E(t.length===n.length,"types/value length mismatch","tuple",e);let r=new Ba,i=new Ba,o=[];t.forEach((l,c)=&gt;{let u=n[c];if(l.dynamic){let f=i.length;l.encode(i,u);let h=r.writeUpdatableValue();o.push(g=&gt;{h(g+f)})}else l.encode(r,u)}),o.forEach(l=&gt;{l(r.length)});let a=s.appendWriter(r);return a+=s.appendWriter(i),a}function cf(s,t){let e=[],n=[],r=s.subReader(0);return t.forEach(i=&gt;{let o=null;if(i.dynamic){let a=s.readIndex(),l=r.subReader(a);try{o=i.decode(l)}catch(c){if(Ce(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(s)}catch(a){if(Ce(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),n.push(i.localName||null)}),vo.fromItems(e,n)}class Gp extends An{constructor(e,n,r){const i=e.type+"["+(n&gt;=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o);k(this,"coder");k(this,"length");V(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r&lt;this.length;r++)n.push(e);return n}encode(e,n){const r=jt.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&amp;&amp;(i=r.length,e.writeValue(r.length)),Tu(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a&lt;r.length;a++)o.push(this.coder);return lf(e,o,r)}decode(e){let n=this.length;n===-1&amp;&amp;(n=e.readIndex(),S(n*Zt&lt;=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Zt,length:e.dataLength}));let r=[];for(let i=0;i&lt;n;i++)r.push(new $p(this.coder));return cf(e,r)}}class Qp extends An{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=jt.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class uf extends An{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=re(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class Vp extends uf{constructor(t){super("bytes",t)}decode(t){return $(super.decode(t))}}class zp extends An{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1);k(this,"size");V(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=re(jt.dereference(n,this.type));return r.length!==this.size&amp;&amp;this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return $(e.readBytes(this.size))}}const Jp=new Uint8Array([]);class Kp extends An{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&amp;&amp;this._throwError("not null",e),t.writeBytes(Jp)}decode(t){return t.readBytes(0),null}}const jp=BigInt(0),Wp=BigInt(1),Yp=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Zp extends An{constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1);k(this,"size");k(this,"signed");V(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=G(jt.dereference(n,this.type)),i=Jr(Yp,Zt*8);if(this.signed){let o=Jr(i,this.size*8-1);(r&gt;o||r&lt;-(o+Wp))&amp;&amp;this._throwError("value out-of-bounds",n),r=Bu(r,8*Zt)}else(r&lt;jp||r&gt;Jr(i,this.size*8))&amp;&amp;this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Jr(e.readValue(),this.size*8);return this.signed&amp;&amp;(n=Yh(n,this.size*8)),n}}class Xp extends uf{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,pn(jt.dereference(e,"string")))}decode(t){return ol(super.decode(t))}}class io extends An{constructor(e,n){let r=!1;const i=[];e.forEach(a=&gt;{a.dynamic&amp;&amp;(r=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r);k(this,"coders");V(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=&gt;{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=&gt;{const o=i.localName;return o&amp;&amp;(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=&gt;{let o=r.localName;!o||n[o]!==1||(o==="length"&amp;&amp;(o="_length"),e[o]==null&amp;&amp;(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=jt.dereference(n,"tuple");return lf(e,this.coders,r)}decode(e){return cf(e,this.coders)}}function Es(s){return _t(pn(s))}function qp(s){let t=0;function e(){return s[t++]&lt;&lt;8|s[t++]}let n=e(),r=1,i=[0,1];for(let H=1;H&lt;n;H++)i.push(r+=e());let o=e(),a=t;t+=o;let l=0,c=0;function u(){return l==0&amp;&amp;(c=c&lt;&lt;8|s[t++],l=8),c&gt;&gt;--l&amp;1}const f=31,h=2**f,g=h&gt;&gt;&gt;1,y=g&gt;&gt;1,w=h-1;let v=0;for(let H=0;H&lt;f;H++)v=v&lt;&lt;1|u();let x=[],C=0,I=h;for(;;){let H=Math.floor(((v-C+1)*r-1)/I),X=0,et=n;for(;et-X&gt;1;){let st=X+et&gt;&gt;&gt;1;H&lt;i[st]?et=st:X=st}if(X==0)break;x.push(X);let F=C+Math.floor(I*i[X]/r),Q=C+Math.floor(I*i[X+1]/r)-1;for(;!((F^Q)&amp;g);)v=v&lt;&lt;1&amp;w|u(),F=F&lt;&lt;1&amp;w,Q=Q&lt;&lt;1&amp;w|1;for(;F&amp;~Q&amp;y;)v=v&amp;g|v&lt;&lt;1&amp;w&gt;&gt;&gt;1|u(),F=F&lt;&lt;1^g,Q=(Q^g)&lt;&lt;1|g|1;C=F,I=1+Q-F}let L=n-4;return x.map(H=&gt;{switch(H-L){case 3:return L+65792+(s[a++]&lt;&lt;16|s[a++]&lt;&lt;8|s[a++]);case 2:return L+256+(s[a++]&lt;&lt;8|s[a++]);case 1:return L+s[a++];default:return H-1}})}function tg(s){let t=0;return()=&gt;s[t++]}function ff(s){return tg(qp(eg(s)))}function eg(s){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,i)=&gt;t[r.charCodeAt(0)]=i);let e=s.length,n=new Uint8Array(6*e&gt;&gt;3);for(let r=0,i=0,o=0,a=0;r&lt;e;r++)a=a&lt;&lt;6|t[s.charCodeAt(r)],o+=6,o&gt;=8&amp;&amp;(n[i++]=a&gt;&gt;(o-=8));return n}function ng(s){return s&amp;1?~s&gt;&gt;1:s&gt;&gt;1}function sg(s,t){let e=Array(s);for(let n=0,r=0;n&lt;s;n++)e[n]=r+=ng(t());return e}function zn(s,t=0){let e=[];for(;;){let n=s(),r=s();if(!r)break;t+=n;for(let i=0;i&lt;r;i++)e.push(t+i);t+=r+1}return e}function hf(s){return fi(()=&gt;{let t=zn(s);if(t.length)return t})}function df(s){let t=[];for(;;){let e=s();if(e==0)break;t.push(rg(e,s))}for(;;){let e=s()-1;if(e&lt;0)break;t.push(ig(e,s))}return t.flat()}function fi(s){let t=[];for(;;){let e=s(t.length);if(!e)break;t.push(e)}return t}function pf(s,t,e){let n=Array(s).fill().map(()=&gt;[]);for(let r=0;r&lt;t;r++)sg(s,e).forEach((i,o)=&gt;n[o].push(i));return n}function rg(s,t){let e=1+t(),n=t(),r=fi(t);return pf(r.length,1+s,t).flatMap((o,a)=&gt;{let[l,...c]=o;return Array(r[a]).fill().map((u,f)=&gt;{let h=f*n;return[l+f*e,c.map(g=&gt;g+h)]})})}function ig(s,t){let e=1+t();return pf(e,1+s,t).map(r=&gt;[r[0],r.slice(1)])}var pe=ff("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");const lc=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),cc=4;function og(s){return s.toString(16).toUpperCase().padStart(2,"0")}function gf(s){return`{${og(s)}}`}function ag(s){let t=[];for(let e=0,n=s.length;e&lt;n;){let r=s.codePointAt(e);e+=r&lt;65536?1:2,t.push(r)}return t}function hi(s){let e=s.length;if(e&lt;4096)return String.fromCodePoint(...s);let n=[];for(let r=0;r&lt;e;)n.push(String.fromCodePoint(...s.slice(r,r+=4096)));return n.join("")}var ul=ff("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");function jr(s){return s&gt;&gt;24&amp;255}function mf(s){return s&amp;16777215}const lg=new Map(hf(ul).flatMap((s,t)=&gt;s.map(e=&gt;[e,t+1&lt;&lt;24]))),cg=new Set(zn(ul)),yf=new Map,Ma=new Map;for(let[s,t]of df(ul)){if(!cg.has(s)&amp;&amp;t.length==2){let[e,n]=t,r=Ma.get(e);r||(r=new Map,Ma.set(e,r)),r.set(n,s)}yf.set(s,t.reverse())}const di=44032,xo=4352,Io=4449,No=4519,wf=19,Af=21,Rr=28,To=Af*Rr,ug=wf*To,fg=di+ug,hg=xo+wf,dg=Io+Af,pg=No+Rr;function bf(s){return s&gt;=di&amp;&amp;s&lt;fg}function gg(s,t){if(s&gt;=xo&amp;&amp;s&lt;hg&amp;&amp;t&gt;=Io&amp;&amp;t&lt;dg)return di+(s-xo)*To+(t-Io)*Rr;if(bf(s)&amp;&amp;t&gt;No&amp;&amp;t&lt;pg&amp;&amp;(s-di)%Rr==0)return s+(t-No);{let e=Ma.get(s);return e&amp;&amp;(e=e.get(t),e)?e:-1}}function vf(s){let t=[],e=[],n=!1;function r(i){let o=lg.get(i);o&amp;&amp;(n=!0,i|=o),t.push(i)}for(let i of s)for(;;){if(i&lt;128)t.push(i);else if(bf(i)){let o=i-di,a=o/To|0,l=o%To/Rr|0,c=o%Rr;r(xo+a),r(Io+l),c&gt;0&amp;&amp;r(No+c)}else{let o=yf.get(i);o?e.push(...o):r(i)}if(!e.length)break;i=e.pop()}if(n&amp;&amp;t.length&gt;1){let i=jr(t[0]);for(let o=1;o&lt;t.length;o++){let a=jr(t[o]);if(a==0||i&lt;=a){i=a;continue}let l=o-1;for(;;){let c=t[l+1];if(t[l+1]=t[l],t[l]=c,!l||(i=jr(t[--l]),i&lt;=a))break}i=jr(t[o])}}return t}function mg(s){let t=[],e=[],n=-1,r=0;for(let i of s){let o=jr(i),a=mf(i);if(n==-1)o==0?n=a:t.push(a);else if(r&gt;0&amp;&amp;r&gt;=o)o==0?(t.push(n,...e),e.length=0,n=a):e.push(a),r=o;else{let l=gg(n,a);l&gt;=0?n=l:r==0&amp;&amp;o==0?(t.push(n),n=a):(e.push(a),r=o)}}return n&gt;=0&amp;&amp;t.push(n,...e),t}function Ef(s){return vf(s).map(mf)}function yg(s){return mg(vf(s))}const Ha=65039,kf=".",Cf=1,uc=45;function Dr(){return new Set(zn(pe))}const wg=new Map(df(pe)),Ag=Dr(),So=Dr(),fc=new Set(zn(pe).map(function(s){return this[s]},[...So])),bg=Dr();Dr();const vg=hf(pe);function hc(){return new Set([zn(pe).map(s=&gt;vg[s]),zn(pe)].flat(2))}const Eg=pe(),pi=fi(s=&gt;{let t=fi(pe).map(e=&gt;e+96);if(t.length){let e=s&gt;=Eg;t[0]-=32,t=hi(t),e&amp;&amp;(t=`Restricted[${t}]`);let n=hc(),r=hc(),i=[...n,...r].sort((a,l)=&gt;a-l),o=!pe();return{N:t,P:n,M:o,R:e,V:new Set(i)}}}),dc=Dr(),gi=new Map;[...dc,...Dr()].sort((s,t)=&gt;s-t).map((s,t,e)=&gt;{let n=pe(),r=e[t]=n?e[t-n]:{V:[],M:new Map};r.V.push(s),dc.has(s)||gi.set(s,r)});for(let{V:s,M:t}of new Set(gi.values())){let e=[];for(let r of s){let i=pi.filter(a=&gt;a.V.has(r)),o=e.find(({G:a})=&gt;i.some(l=&gt;a.has(l)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(r),i.forEach(a=&gt;o.G.add(a))}let n=e.flatMap(({G:r})=&gt;[...r]);for(let{G:r,V:i}of e){let o=new Set(n.filter(a=&gt;!r.has(a)));for(let a of i)t.set(a,o)}}let mi=new Set,Pf=new Set;for(let s of pi)for(let t of s.V)(mi.has(t)?Pf:mi).add(t);for(let s of mi)!gi.has(s)&amp;&amp;!Pf.has(s)&amp;&amp;gi.set(s,Cf);const kg=new Set([...mi,...Ef(mi)]),Cg=zn(pe),Pg=xf([]);function xf(s){let t=fi(()=&gt;{let a=zn(pe).map(l=&gt;Cg[l]);if(a.length)return xf(a)}).sort((a,l)=&gt;l.Q.size-a.Q.size),e=pe(),n=e%3;e=e/3|0;let r=e&amp;1;e&gt;&gt;=1;let i=e&amp;1,o=e&amp;2;return{B:t,V:n,F:r,S:i,C:o,Q:new Set(s)}}class xg extends Array{get is_emoji(){return!0}}function qo(s,t=gf){let e=[];Tg(s[0])&amp;&amp;e.push("â—Œ");let n=0,r=s.length;for(let i=0;i&lt;r;i++){let o=s[i];If(o)&amp;&amp;(e.push(hi(s.slice(n,i))),e.push(t(o)),n=i+1)}return e.push(hi(s.slice(n,r))),e.join("")}function fl(s){return(If(s)?"":`${hl(qo([s]))} `)+gf(s)}function hl(s){return`"${s}"â€Ž`}function Ig(s){if(s.length&gt;=4&amp;&amp;s[2]==uc&amp;&amp;s[3]==uc)throw new Error("invalid label extension")}function pc(s){for(let e=s.lastIndexOf(95);e&gt;0;)if(s[--e]!==95)throw new Error("underscore allowed only at start")}function Ng(s){let t=s[0],e=lc.get(t);if(e)throw ei(`leading ${e}`);let n=s.length,r=-1;for(let i=1;i&lt;n;i++){t=s[i];let o=lc.get(t);if(o){if(r==i)throw ei(`${e} + ${o}`);r=i+1,e=o}}if(r==n)throw ei(`trailing ${e}`)}function Tg(s){return So.has(s)}function If(s){return bg.has(s)}function Sg(s){return Lg(_g(s))}function _g(s,t){let e=0;return s.split(kf).map(n=&gt;{let r=ag(n),i={input:r,offset:e};e+=r.length+1;let o;try{let a=i.tokens=Ug(r,yg),l=a.length,c;if(l){let u=a[0],f=l&gt;1||u.is_emoji;if(!f&amp;&amp;u.every(h=&gt;h&lt;128))o=u,pc(o),Ig(o),c="ASCII";else if(f&amp;&amp;(i.emoji=!0,u=a.flatMap(h=&gt;h.is_emoji?[]:h)),o=a.flatMap(h=&gt;!t&amp;&amp;h.is_emoji?Fg(h):h),pc(o),!u.length)c="Emoji";else{if(So.has(o[0]))throw ei("leading combining mark");for(let y=1;y&lt;l;y++){let w=a[y];if(!w.is_emoji&amp;&amp;So.has(w[0]))throw ei(`emoji + combining mark: "${hi(a[y-1])} + ${qo([w[0]])}"`)}Ng(o);let h=[...new Set(u)],[g]=Og(h);Rg(g,u),Bg(g,h),c=g.N}}else throw new Error("empty label");i.type=c}catch(a){i.error=a}return i.output=o,i})}function Bg(s,t){let e,n=[];for(let r of t){let i=gi.get(r);if(i===Cf)return;if(i){let o=i.M.get(r);if(e=e?e.filter(a=&gt;o.has(a)):[...o],!e.length)return}else n.push(r)}if(e){for(let r of e)if(n.every(i=&gt;r.V.has(i)))throw new Error(`whole-script confusable: ${s.N}/${r.N}`)}}function Og(s){let t=pi;for(let e of s){let n=t.filter(r=&gt;r.V.has(e));if(!n.length)throw t===pi?Nf(e):Tf(t[0],e);if(t=n,n.length==1)break}return t}function Lg(s){return s.map(({input:t,error:e,output:n})=&gt;{if(e){let r=e.message;throw new Error(s.length==1?r:`Invalid label ${hl(qo(t))}: ${r}`)}return hi(n)}).join(kf)}function Nf(s){return new Error(`disallowed character: ${fl(s)}`)}function Tf(s,t){let e=fl(t),n=pi.find(r=&gt;r.P.has(t));return n&amp;&amp;(e=`${n.N} ${e}`),new Error(`illegal mixture: ${s.N} + ${e}`)}function ei(s){return new Error(`illegal placement: ${s}`)}function Rg(s,t){let{V:e,M:n}=s;for(let r of t)if(!e.has(r))throw Tf(s,r);if(n){let r=Ef(t);for(let i=1,o=r.length;i&lt;o;i++)if(fc.has(r[i])){let a=i+1;for(let l;a&lt;o&amp;&amp;fc.has(l=r[a]);a++)for(let c=i;c&lt;a;c++)if(r[c]==l)throw new Error(`non-spacing marks: repeated ${fl(l)}`);if(a-i&gt;cc)throw new Error(`non-spacing marks: too many ${hl(qo(r.slice(i-1,a)))} (${a-i}/${cc})`);i=a}}}function Ug(s,t){let e=[],n=[];for(s=s.slice().reverse();s.length;){let r=Dg(s);if(r)n.length&amp;&amp;(e.push(t(n)),n=[]),e.push(r);else{let i=s.pop();if(kg.has(i))n.push(i);else{let o=wg.get(i);if(o)n.push(...o);else if(!Ag.has(i))throw Nf(i)}}}return n.length&amp;&amp;e.push(t(n)),e}function Fg(s){return s.filter(t=&gt;t!=Ha)}function Dg(s,t){let e=Pg,n,r,i=[],o=s.length;for(t&amp;&amp;(t.length=0);o;){let a=s[--o];if(e=e.B.find(l=&gt;l.Q.has(a)),!e)break;if(e.S)r=a;else if(e.C&amp;&amp;a===r)break;i.push(a),e.F&amp;&amp;(i.push(Ha),o&gt;0&amp;&amp;s[o-1]==Ha&amp;&amp;o--),e.V&amp;&amp;(n=Mg(i,e),t&amp;&amp;t.push(...s.slice(o).reverse()),s.length=o)}return n}function Mg(s,t){let e=xg.from(s);return t.V==2&amp;&amp;e.splice(1,1),e}const Sf=new Uint8Array(32);Sf.fill(0);function gc(s){return E(s.length!==0,"invalid ENS name; empty component","comp",s),s}function _f(s){const t=pn(Hg(s)),e=[];if(s.length===0)return e;let n=0;for(let r=0;r&lt;t.length;r++)t[r]===46&amp;&amp;(e.push(gc(t.slice(n,r))),n=r+1);return E(n&lt;t.length,"invalid ENS name; empty component","name",s),e.push(gc(t.slice(n))),e}function Hg(s){try{return Sg(s)}catch(t){E(!1,`invalid ENS name (${t.message})`,"name",s)}}function $a(s){E(typeof s=="string","invalid ENS name; not a string","name",s);let t=Sf;const e=_f(s);for(;e.length;)t=_t(Ut([t,_t(e.pop())]));return $(t)}function $g(s){return $(Ut(_f(s).map(t=&gt;{if(t.length&gt;63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function ga(s,t){return{address:pt(s),storageKeys:t.map((e,n)=&gt;(E(Bt(e,32),"invalid slot",`storageKeys[${n}]`,e),e.toLowerCase()))}}function Is(s){if(Array.isArray(s))return s.map((e,n)=&gt;Array.isArray(e)?(E(e.length===2,"invalid slot set",`value[${n}]`,e),ga(e[0],e[1])):(E(e!=null&amp;&amp;typeof e=="object","invalid address-slot set","value",s),ga(e.address,e.storageKeys)));E(s!=null&amp;&amp;typeof s=="object","invalid access list","value",s);const t=Object.keys(s).map(e=&gt;{const n=s[e].reduce((r,i)=&gt;(r[i]=!0,r),{});return ga(e,Object.keys(n).sort())});return t.sort((e,n)=&gt;e.address.localeCompare(n.address)),t}function Gg(s){let t;return typeof s=="string"?t=ui.computePublicKey(s,!1):t=s.publicKey,pt(_t("0x"+t.substring(4)).substring(26))}function Qg(s,t){return Gg(ui.recoverPublicKey(s,t))}const ne=BigInt(0),Vg=BigInt(2),zg=BigInt(27),Jg=BigInt(28),Kg=BigInt(35),jg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function dl(s){return s==="0x"?null:pt(s)}function Bf(s,t){try{return Is(s)}catch(e){E(!1,e.message,t,s)}}function ta(s,t){return s==="0x"?0:it(s,t)}function Yt(s,t){if(s==="0x")return ne;const e=G(s,t);return E(e&lt;=jg,"value exceeds uint size",t,e),e}function $t(s,t){const e=G(s,"value"),n=de(e);return E(n.length&lt;=32,"value too large",`tx.${t}`,e),n}function Of(s){return Is(s).map(t=&gt;[t.address,t.storageKeys])}function Wg(s){const t=al(s);E(Array.isArray(t)&amp;&amp;(t.length===9||t.length===6),"invalid field count for legacy transaction","data",s);const e={type:0,nonce:ta(t[0],"nonce"),gasPrice:Yt(t[1],"gasPrice"),gasLimit:Yt(t[2],"gasLimit"),to:dl(t[3]),value:Yt(t[4],"value"),data:$(t[5]),chainId:ne};if(t.length===6)return e;const n=Yt(t[6],"v"),r=Yt(t[7],"r"),i=Yt(t[8],"s");if(r===ne&amp;&amp;i===ne)e.chainId=n;else{let o=(n-Kg)/Vg;o&lt;ne&amp;&amp;(o=ne),e.chainId=o,E(o!==ne||n===zg||n===Jg,"non-canonical legacy v","v",t[6]),e.signature=Le.from({r:vs(t[7],32),s:vs(t[8],32),v:n}),e.hash=_t(s)}return e}function mc(s,t){const e=[$t(s.nonce||0,"nonce"),$t(s.gasPrice||0,"gasPrice"),$t(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",$t(s.value||0,"value"),s.data||"0x"];let n=ne;if(s.chainId!=ne)n=G(s.chainId,"tx.chainId"),E(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(s.signature){const i=s.signature.legacyChainId;i!=null&amp;&amp;(n=i)}if(!t)return n!==ne&amp;&amp;(e.push(de(n)),e.push("0x"),e.push("0x")),oi(e);let r=BigInt(27+t.yParity);return n!==ne?r=Le.getChainIdV(n,t.v):BigInt(t.v)!==r&amp;&amp;E(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(de(r)),e.push(de(t.r)),e.push(de(t.s)),oi(e)}function Lf(s,t){let e;try{if(e=ta(t[0],"yParity"),e!==0&amp;&amp;e!==1)throw new Error("bad yParity")}catch{E(!1,"invalid yParity","yParity",t[0])}const n=vs(t[1],32),r=vs(t[2],32),i=Le.from({r:n,s:r,yParity:e});s.signature=i}function Yg(s){const t=al(ut(s).slice(1));E(Array.isArray(t)&amp;&amp;(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",$(s));const e=Yt(t[2],"maxPriorityFeePerGas"),n=Yt(t[3],"maxFeePerGas"),r={type:2,chainId:Yt(t[0],"chainId"),nonce:ta(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:Yt(t[4],"gasLimit"),to:dl(t[5]),value:Yt(t[6],"value"),data:$(t[7]),accessList:Bf(t[8],"accessList")};return t.length===9||(r.hash=_t(s),Lf(r,t.slice(9))),r}function yc(s,t){const e=[$t(s.chainId||0,"chainId"),$t(s.nonce||0,"nonce"),$t(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(s.maxFeePerGas||0,"maxFeePerGas"),$t(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",$t(s.value||0,"value"),s.data||"0x",Of(s.accessList||[])];return t&amp;&amp;(e.push($t(t.yParity,"yParity")),e.push(de(t.r)),e.push(de(t.s))),Ut(["0x02",oi(e)])}function Zg(s){const t=al(ut(s).slice(1));E(Array.isArray(t)&amp;&amp;(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",$(s));const e={type:1,chainId:Yt(t[0],"chainId"),nonce:ta(t[1],"nonce"),gasPrice:Yt(t[2],"gasPrice"),gasLimit:Yt(t[3],"gasLimit"),to:dl(t[4]),value:Yt(t[5],"value"),data:$(t[6]),accessList:Bf(t[7],"accessList")};return t.length===8||(e.hash=_t(s),Lf(e,t.slice(8))),e}function wc(s,t){const e=[$t(s.chainId||0,"chainId"),$t(s.nonce||0,"nonce"),$t(s.gasPrice||0,"gasPrice"),$t(s.gasLimit||0,"gasLimit"),s.to!=null?pt(s.to):"0x",$t(s.value||0,"value"),s.data||"0x",Of(s.accessList||[])];return t&amp;&amp;(e.push($t(t.yParity,"recoveryParam")),e.push(de(t.r)),e.push(de(t.s))),Ut(["0x01",oi(e)])}var rn,rr,ir,or,ar,lr,cr,ur,fr,hr,dr,pr;const Cn=class Cn{constructor(){P(this,rn,void 0);P(this,rr,void 0);P(this,ir,void 0);P(this,or,void 0);P(this,ar,void 0);P(this,lr,void 0);P(this,cr,void 0);P(this,ur,void 0);P(this,fr,void 0);P(this,hr,void 0);P(this,dr,void 0);P(this,pr,void 0);m(this,rn,null),m(this,rr,null),m(this,or,0),m(this,ar,BigInt(0)),m(this,lr,null),m(this,cr,null),m(this,ur,null),m(this,ir,"0x"),m(this,fr,BigInt(0)),m(this,hr,BigInt(0)),m(this,dr,null),m(this,pr,null)}get type(){return d(this,rn)}set type(t){switch(t){case null:m(this,rn,null);break;case 0:case"legacy":m(this,rn,0);break;case 1:case"berlin":case"eip-2930":m(this,rn,1);break;case 2:case"london":case"eip-1559":m(this,rn,2);break;default:E(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return d(this,rr)}set to(t){m(this,rr,t==null?null:pt(t))}get nonce(){return d(this,or)}set nonce(t){m(this,or,it(t,"value"))}get gasLimit(){return d(this,ar)}set gasLimit(t){m(this,ar,G(t))}get gasPrice(){const t=d(this,lr);return t==null&amp;&amp;(this.type===0||this.type===1)?ne:t}set gasPrice(t){m(this,lr,t==null?null:G(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=d(this,cr);return t??(this.type===2?ne:null)}set maxPriorityFeePerGas(t){m(this,cr,t==null?null:G(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=d(this,ur);return t??(this.type===2?ne:null)}set maxFeePerGas(t){m(this,ur,t==null?null:G(t,"maxFeePerGas"))}get data(){return d(this,ir)}set data(t){m(this,ir,$(t))}get value(){return d(this,fr)}set value(t){m(this,fr,G(t,"value"))}get chainId(){return d(this,hr)}set chainId(t){m(this,hr,G(t))}get signature(){return d(this,dr)||null}set signature(t){m(this,dr,t==null?null:Le.from(t))}get accessList(){const t=d(this,pr)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){m(this,pr,t==null?null:Is(t))}get hash(){return this.signature==null?null:_t(this.serialized)}get unsignedHash(){return _t(this.unsignedSerialized)}get from(){return this.signature==null?null:Qg(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ui.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(S(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return mc(this,this.signature);case 1:return wc(this,this.signature);case 2:return yc(this,this.signature)}S(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return mc(this);case 1:return wc(this);case 2:return yc(this)}S(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&amp;&amp;this.maxPriorityFeePerGas!=null&amp;&amp;S(this.maxFeePerGas&gt;=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),S(!e||this.type!==0&amp;&amp;this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),S(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):e?r.push(2):t?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return Cn.from(this)}toJSON(){const t=e=&gt;e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Cn;if(typeof t=="string"){const n=ut(t);if(n[0]&gt;=127)return Cn.from(Wg(n));switch(n[0]){case 1:return Cn.from(Zg(n));case 2:return Cn.from(Yg(n))}S(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Cn;return t.type!=null&amp;&amp;(e.type=t.type),t.to!=null&amp;&amp;(e.to=t.to),t.nonce!=null&amp;&amp;(e.nonce=t.nonce),t.gasLimit!=null&amp;&amp;(e.gasLimit=t.gasLimit),t.gasPrice!=null&amp;&amp;(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&amp;&amp;(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&amp;&amp;(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&amp;&amp;(e.data=t.data),t.value!=null&amp;&amp;(e.value=t.value),t.chainId!=null&amp;&amp;(e.chainId=t.chainId),t.signature!=null&amp;&amp;(e.signature=Le.from(t.signature)),t.accessList!=null&amp;&amp;(e.accessList=t.accessList),t.hash!=null&amp;&amp;(E(e.isSigned(),"unsigned transaction cannot define hash","tx",t),E(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&amp;&amp;(E(e.isSigned(),"unsigned transaction cannot define from","tx",t),E(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};rn=new WeakMap,rr=new WeakMap,ir=new WeakMap,or=new WeakMap,ar=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,fr=new WeakMap,hr=new WeakMap,dr=new WeakMap,pr=new WeakMap;let _o=Cn;const Rf=new Uint8Array(32);Rf.fill(0);const Xg=BigInt(-1),Uf=BigInt(0),Ff=BigInt(1),qg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function tm(s){const t=ut(s),e=t.length%32;return e?Ut([t,Rf.slice(e)]):$(t)}const em=Vn(Ff,32),nm=Vn(Uf,32),Ac={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ma=["name","version","chainId","verifyingContract","salt"];function bc(s){return function(t){return E(typeof t=="string",`invalid domain value for ${JSON.stringify(s)}`,`domain.${s}`,t),t}}const sm={name:bc("name"),version:bc("version"),chainId:function(s){const t=G(s,"domain.chainId");return E(t&gt;=0,"invalid chain ID","domain.chainId",s),Number.isSafeInteger(t)?Number(t):Ms(t)},verifyingContract:function(s){try{return pt(s).toLowerCase()}catch{}E(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",s)},salt:function(s){const t=ut(s,"domain.salt");return E(t.length===32,'invalid domain value "salt"',"domain.salt",s),$(t)}};function ya(s){{const t=s.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");E(n%8===0&amp;&amp;n!==0&amp;&amp;n&lt;=256&amp;&amp;(t[2]==null||t[2]===String(n)),"invalid numeric width","type",s);const r=Jr(qg,e?n-1:n),i=e?(r+Ff)*Xg:Uf;return function(o){const a=G(o,"value");return E(a&gt;=i&amp;&amp;a&lt;=r,`value out-of-bounds for ${s}`,"value",a),Vn(e?Bu(a,256):a,32)}}}{const t=s.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return E(e!==0&amp;&amp;e&lt;=32&amp;&amp;t[1]===String(e),"invalid bytes width","type",s),function(n){const r=ut(n);return E(r.length===e,`invalid length for ${s}`,"value",n),tm(n)}}}switch(s){case"address":return function(t){return vs(pt(t),32)};case"bool":return function(t){return t?em:nm};case"bytes":return function(t){return _t(t)};case"string":return function(t){return Es(t)}}return null}function vc(s,t){return`${s}(${t.map(({name:e,type:n})=&gt;n+" "+e).join(",")})`}var ki,on,gr,Do,Df;const ye=class ye{constructor(t){P(this,Do);k(this,"primaryType");P(this,ki,void 0);P(this,on,void 0);P(this,gr,void 0);m(this,ki,JSON.stringify(t)),m(this,on,new Map),m(this,gr,new Map);const e=new Map,n=new Map,r=new Map;Object.keys(t).forEach(a=&gt;{e.set(a,new Set),n.set(a,[]),r.set(a,new Set)});for(const a in t){const l=new Set;for(const c of t[a]){E(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",t),l.add(c.name);const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;E(u!==a,`circular type reference to ${JSON.stringify(u)}`,"types",t),!ya(u)&amp;&amp;(E(n.has(u),`unknown type ${JSON.stringify(u)}`,"types",t),n.get(u).push(a),e.get(a).add(u))}}const i=Array.from(n.keys()).filter(a=&gt;n.get(a).length===0);E(i.length!==0,"missing primary type","types",t),E(i.length===1,`ambiguous primary types or unused types: ${i.map(a=&gt;JSON.stringify(a)).join(", ")}`,"types",t),V(this,{primaryType:i[0]});function o(a,l){E(!l.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),l.add(a);for(const c of e.get(a))if(n.has(c)){o(c,l);for(const u of l)r.get(u).add(c)}l.delete(a)}o(this.primaryType,new Set);for(const[a,l]of r){const c=Array.from(l);c.sort(),d(this,on).set(a,vc(a,t[a])+c.map(u=&gt;vc(u,t[u])).join(""))}}get types(){return JSON.parse(d(this,ki))}getEncoder(t){let e=d(this,gr).get(t);return e||(e=R(this,Do,Df).call(this,t),d(this,gr).set(t,e)),e}encodeType(t){const e=d(this,on).get(t);return E(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return _t(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(ya(t))return n(t,e);const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r)return E(!r[3]||parseInt(r[3])===e.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",e),e.map(o=&gt;this._visit(r[1],o,n));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:l})=&gt;(o[a]=this._visit(l,e[a],n),o),{});E(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new ye(t)}static getPrimaryType(t){return ye.from(t).primaryType}static hashStruct(t,e,n){return ye.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const r=Ac[n];E(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:r})}return e.sort((n,r)=&gt;ma.indexOf(n.name)-ma.indexOf(r.name)),ye.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Ut(["0x1901",ye.hashDomain(t),ye.from(e).hash(n)])}static hash(t,e,n){return _t(ye.encode(t,e,n))}static async resolveNames(t,e,n,r){t=Object.assign({},t);for(const a in t)t[a]==null&amp;&amp;delete t[a];const i={};t.verifyingContract&amp;&amp;!Bt(t.verifyingContract,20)&amp;&amp;(i[t.verifyingContract]="0x");const o=ye.from(e);o.visit(n,(a,l)=&gt;(a==="address"&amp;&amp;!Bt(l,20)&amp;&amp;(i[l]="0x"),l));for(const a in i)i[a]=await r(a);return t.verifyingContract&amp;&amp;i[t.verifyingContract]&amp;&amp;(t.verifyingContract=i[t.verifyingContract]),n=o.visit(n,(a,l)=&gt;a==="address"&amp;&amp;i[l]?i[l]:l),{domain:t,value:n}}static getPayload(t,e,n){ye.hashDomain(t);const r={},i=[];ma.forEach(l=&gt;{const c=t[l];c!=null&amp;&amp;(r[l]=sm[l](c),i.push({name:l,type:Ac[l]}))});const o=ye.from(e),a=Object.assign({},e);return E(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(n),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(n,(l,c)=&gt;{if(l.match(/^bytes(\d*)/))return $(ut(c));if(l.match(/^u?int/))return G(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return E(typeof c=="string","invalid string","value",c),c}E(!1,"unsupported type","type",l)})}}};ki=new WeakMap,on=new WeakMap,gr=new WeakMap,Do=new WeakSet,Df=function(t){{const r=ya(t);if(r)return r}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const r=e[1],i=this.getEncoder(r);return o=&gt;{E(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return d(this,on).has(r)&amp;&amp;(a=a.map(_t)),_t(Ut(a))}}const n=this.types[t];if(n){const r=Es(d(this,on).get(t));return i=&gt;{const o=n.map(({name:a,type:l})=&gt;{const c=this.getEncoder(l)(i[a]);return d(this,on).has(l)?_t(c):c});return o.unshift(r),Ut(o)}}E(!1,`unknown type: ${t}`,"type",t)};let Bo=ye;function Xt(s){const t=new Set;return s.forEach(e=&gt;t.add(e)),Object.freeze(t)}const rm="external public payable",im=Xt(rm.split(" ")),Mf="constant external internal payable private public pure view",om=Xt(Mf.split(" ")),Hf="constructor error event fallback function receive struct",$f=Xt(Hf.split(" ")),Gf="calldata memory storage payable indexed",am=Xt(Gf.split(" ")),lm="tuple returns",cm=[Hf,Gf,lm,Mf].join(" "),um=Xt(cm.split(" ")),fm={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},hm=new RegExp("^(\\s*)"),dm=new RegExp("^([0-9]+)"),pm=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Qf=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Vf=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ht,Se,Ci,Ga;const Mo=class Mo{constructor(t){P(this,Ci);P(this,Ht,void 0);P(this,Se,void 0);m(this,Ht,0),m(this,Se,t.slice())}get offset(){return d(this,Ht)}get length(){return d(this,Se).length-d(this,Ht)}clone(){return new Mo(d(this,Se))}reset(){m(this,Ht,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=R(this,Ci,Ga).call(this,d(this,Ht)+1,t.match+1);return m(this,Ht,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;d(this,Ht)&lt;t.match-1;){const n=this.peek().linkNext;e.push(R(this,Ci,Ga).call(this,d(this,Ht)+1,n)),m(this,Ht,n)}return m(this,Ht,t.match+1),e}peek(){if(d(this,Ht)&gt;=d(this,Se).length)throw new Error("out-of-bounds");return d(this,Se)[d(this,Ht)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&amp;&amp;t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return $r(this,Ht)._++,t}toString(){const t=[];for(let e=d(this,Ht);e&lt;d(this,Se).length;e++){const n=d(this,Se)[e];t.push(`${n.type}:${n.text}`)}return`&lt;TokenString ${t.join(" ")}&gt;`}};Ht=new WeakMap,Se=new WeakMap,Ci=new WeakSet,Ga=function(t=0,e=0){return new Mo(d(this,Se).slice(t,e).map(n=&gt;Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let Re=Mo;function Wn(s){const t=[],e=o=&gt;{const a=i&lt;s.length?JSON.stringify(s[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],r=[],i=0;for(;i&lt;s.length;){let o=s.substring(i),a=o.match(hm);a&amp;&amp;(i+=a[1].length,o=s.substring(i));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let c=fm[o[0]]||"";if(c){if(l.type=c,l.text=o[0],i++,c==="OPEN_PAREN")n.push(t.length-1),r.push(t.length-1);else if(c=="CLOSE_PAREN")n.length===0&amp;&amp;e("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1;else if(c==="COMMA")l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1,r.push(t.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length&gt;0&amp;&amp;t[t.length-1].type==="NUMBER"){const f=t.pop().text;u=f+u,t[t.length-1].value=it(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(a=o.match(pm),a){if(l.text=a[1],i+=l.text.length,um.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Vf)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(dm),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Re(t.map(o=&gt;Object.freeze(o)))}function Ec(s,t){let e=[];for(const n in t.keys())s.has(n)&amp;&amp;e.push(n);if(e.length&gt;1)throw new Error(`conflicting types: ${e.join(", ")}`)}function ea(s,t){if(t.peekKeyword($f)){const e=t.pop().text;if(e!==s)throw new Error(`expected ${s}, got ${e}`)}return t.popType("ID")}function yn(s,t){const e=new Set;for(;;){const n=s.peekType("KEYWORD");if(n==null||t&amp;&amp;!t.has(n))break;if(s.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function zf(s){let t=yn(s,om);return Ec(t,Xt("constant payable nonpayable".split(" "))),Ec(t,Xt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function gn(s,t){return s.popParams().map(e=&gt;Gt.from(e,t))}function Jf(s){if(s.peekType("AT")){if(s.pop(),s.peekType("NUMBER"))return G(s.pop().text);throw new Error("invalid gas")}return null}function ks(s){if(s.length)throw new Error(`unexpected tokens: ${s.toString()}`)}const gm=new RegExp(/^(.*)\[([0-9]*)\]$/);function kc(s){const t=s.match(Vf);if(E(t,"invalid type","type",s),s==="uint")return"uint256";if(s==="int")return"int256";if(t[2]){const e=parseInt(t[2]);E(e!==0&amp;&amp;e&lt;=32,"invalid bytes length","type",s)}else if(t[3]){const e=parseInt(t[3]);E(e!==0&amp;&amp;e&lt;=256&amp;&amp;e%8===0,"invalid numeric width","type",s)}return s}const St={},oe=Symbol.for("_ethers_internal"),Cc="_ParamTypeInternal",Pc="_ErrorInternal",xc="_EventInternal",Ic="_ConstructorInternal",Nc="_FallbackInternal",Tc="_FunctionInternal",Sc="_StructInternal";var mr,fo;const we=class we{constructor(t,e,n,r,i,o,a,l){P(this,mr);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(Wo(t,St,"ParamType"),Object.defineProperty(this,oe,{value:Cc}),o&amp;&amp;(o=Object.freeze(o.slice())),r==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(r==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");V(this,{name:e,type:n,baseType:r,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const r={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&amp;&amp;(r.indexed=this.indexed),this.isTuple()&amp;&amp;(r.components=this.components.map(i=&gt;JSON.parse(i.format(t)))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&amp;&amp;(e+=this.type),e+="("+this.components.map(n=&gt;n.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&amp;&amp;(this.indexed===!0&amp;&amp;(e+=" indexed"),t==="full"&amp;&amp;this.name&amp;&amp;(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(r=&gt;n.arrayChildren.walk(r,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((r,i)=&gt;n.components[i].walk(r,e))}return e(this.type,t)}async walkAsync(t,e){const n=[],r=[t];return R(this,mr,fo).call(this,n,t,e,i=&gt;{r[0]=i}),n.length&amp;&amp;await Promise.all(n),r[0]}static from(t,e){if(we.isParamType(t))return t;if(typeof t=="string")try{return we.from(Wn(t),e)}catch{E(!1,"invalid param type","obj",t)}else if(t instanceof Re){let a="",l="",c=null;yn(t,Xt(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(l="tuple",c=t.popParams().map(w=&gt;we.from(w)),a=`tuple(${c.map(w=&gt;w.format()).join(",")})`):(a=kc(t.popType("TYPE")),l=a);let u=null,f=null;for(;t.length&amp;&amp;t.peekType("BRACKET");){const w=t.pop();u=new we(St,"",a,l,null,c,f,u),f=w.value,a+=w.text,l="array",c=null}let h=null;if(yn(t,am).has("indexed")){if(!e)throw new Error("");h=!0}const y=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new we(St,y,a,l,h,c,f,u)}const n=t.name;E(!n||typeof n=="string"&amp;&amp;n.match(Qf),"invalid name","obj.name",n);let r=t.indexed;r!=null&amp;&amp;(E(e,"parameter cannot be indexed","obj.indexed",t.indexed),r=!!r);let i=t.type,o=i.match(gm);if(o){const a=parseInt(o[2]||"-1"),l=we.from({type:o[1],components:t.components});return new we(St,n||"",i,"array",r,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=t.components!=null?t.components.map(c=&gt;we.from(c)):null;return new we(St,n||"",i,"tuple",r,a,null,null)}return i=kc(t.type),new we(St,n||"",i,i,r,null,null,null)}static isParamType(t){return t&amp;&amp;t[oe]===Cc}};mr=new WeakSet,fo=function(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((l,c)=&gt;{var u;R(u=o,mr,fo).call(u,t,l,n,f=&gt;{a[c]=f})}),r(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(l=&gt;{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in e))throw new Error(`missing value for component ${l.name}`);return e[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=&gt;{var u;R(u=o[c],mr,fo).call(u,t,l,n,f=&gt;{a[c]=f})}),r(a);return}const i=n(this.type,e);i.then?t.push(async function(){r(await i)}()):r(i)};let Gt=we;class Cs{constructor(t,e,n){k(this,"type");k(this,"inputs");Wo(t,St,"Fragment"),n=Object.freeze(n.slice()),V(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{Cs.from(JSON.parse(t))}catch{}return Cs.from(Wn(t))}if(t instanceof Re)switch(t.peekKeyword($f)){case"constructor":return dn.from(t);case"error":return se.from(t);case"event":return ze.from(t);case"fallback":case"receive":return Xe.from(t);case"function":return Je.from(t);case"struct":return As.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return dn.from(t);case"error":return se.from(t);case"event":return ze.from(t);case"fallback":case"receive":return Xe.from(t);case"function":return Je.from(t);case"struct":return As.from(t)}S(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}E(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return dn.isFragment(t)}static isError(t){return se.isFragment(t)}static isEvent(t){return ze.isFragment(t)}static isFunction(t){return Je.isFragment(t)}static isStruct(t){return As.isFragment(t)}}class na extends Cs{constructor(e,n,r,i){super(e,n,i);k(this,"name");E(typeof r=="string"&amp;&amp;r.match(Qf),"invalid identifier","name",r),i=Object.freeze(i.slice()),V(this,{name:r})}}function yi(s,t){return"("+t.map(e=&gt;e.format(s)).join(s==="full"?", ":",")+")"}class se extends na{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,oe,{value:Pc})}get selector(){return Es(this.format("sighash")).substring(0,10)}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=&gt;JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&amp;&amp;e.push("error"),e.push(this.name+yi(t,this.inputs)),e.join(" ")}static from(t){if(se.isFragment(t))return t;if(typeof t=="string")return se.from(Wn(t));if(t instanceof Re){const e=ea("error",t),n=gn(t);return ks(t),new se(St,e,n)}return new se(St,t.name,t.inputs?t.inputs.map(Gt.from):[])}static isFragment(t){return t&amp;&amp;t[oe]===Pc}}class ze extends na{constructor(e,n,r,i){super(e,"event",n,r);k(this,"anonymous");Object.defineProperty(this,oe,{value:xc}),V(this,{anonymous:i})}get topicHash(){return Es(this.format("sighash"))}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&amp;&amp;n.push("event"),n.push(this.name+yi(e,this.inputs)),e!=="sighash"&amp;&amp;this.anonymous&amp;&amp;n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=&gt;Gt.from(i)),new ze(St,e,n,!1).topicHash}static from(e){if(ze.isFragment(e))return e;if(typeof e=="string")try{return ze.from(Wn(e))}catch{E(!1,"invalid event fragment","obj",e)}else if(e instanceof Re){const n=ea("event",e),r=gn(e,!0),i=!!yn(e,Xt(["anonymous"])).has("anonymous");return ks(e),new ze(St,n,r,i)}return new ze(St,e.name,e.inputs?e.inputs.map(n=&gt;Gt.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&amp;&amp;e[oe]===xc}}class dn extends Cs{constructor(e,n,r,i,o){super(e,n,r);k(this,"payable");k(this,"gas");Object.defineProperty(this,oe,{value:Ic}),V(this,{payable:i,gas:o})}format(e){if(S(e!=null&amp;&amp;e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[`constructor${yi(e,this.inputs)}`];return n.push(this.payable?"payable":"nonpayable"),this.gas!=null&amp;&amp;n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(dn.isFragment(e))return e;if(typeof e=="string")try{return dn.from(Wn(e))}catch{E(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Re){yn(e,Xt(["constructor"]));const n=gn(e),r=!!yn(e,im).has("payable"),i=Jf(e);return ks(e),new dn(St,"constructor",n,r,i)}return new dn(St,"constructor",e.inputs?e.inputs.map(Gt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[oe]===Ic}}class Xe extends Cs{constructor(e,n,r){super(e,"fallback",n);k(this,"payable");Object.defineProperty(this,oe,{value:Nc}),V(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(Xe.isFragment(e))return e;if(typeof e=="string")try{return Xe.from(Wn(e))}catch{E(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Re){const n=e.toString(),r=e.peekKeyword(Xt(["fallback","receive"]));if(E(r,"type must be fallback or receive","obj",n),e.popKeyword(Xt(["fallback","receive"]))==="receive"){const l=gn(e);return E(l.length===0,"receive cannot have arguments","obj.inputs",l),yn(e,Xt(["payable"])),ks(e),new Xe(St,[],!0)}let o=gn(e);o.length?E(o.length===1&amp;&amp;o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=&gt;l.format("minimal")).join(", ")):o=[Gt.from("bytes")];const a=zf(e);if(E(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),yn(e,Xt(["returns"])).has("returns")){const l=gn(e);E(l.length===1&amp;&amp;l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=&gt;c.format("minimal")).join(", "))}return ks(e),new Xe(St,o,a==="payable")}if(e.type==="receive")return new Xe(St,[],!0);if(e.type==="fallback"){const n=[Gt.from("bytes")],r=e.stateMutability==="payable";return new Xe(St,n,r)}E(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&amp;&amp;e[oe]===Nc}}class Je extends na{constructor(e,n,r,i,o,a){super(e,"function",n,i);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,oe,{value:Tc}),o=Object.freeze(o.slice()),V(this,{constant:r==="view"||r==="pure",gas:a,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return Es(this.format("sighash")).substring(0,10)}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e))),outputs:this.outputs.map(r=&gt;JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&amp;&amp;n.push("function"),n.push(this.name+yi(e,this.inputs)),e!=="sighash"&amp;&amp;(this.stateMutability!=="nonpayable"&amp;&amp;n.push(this.stateMutability),this.outputs&amp;&amp;this.outputs.length&amp;&amp;(n.push("returns"),n.push(yi(e,this.outputs))),this.gas!=null&amp;&amp;n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=&gt;Gt.from(i)),new Je(St,e,"view",n,[],null).selector}static from(e){if(Je.isFragment(e))return e;if(typeof e=="string")try{return Je.from(Wn(e))}catch{E(!1,"invalid function fragment","obj",e)}else if(e instanceof Re){const r=ea("function",e),i=gn(e),o=zf(e);let a=[];yn(e,Xt(["returns"])).has("returns")&amp;&amp;(a=gn(e));const l=Jf(e);return ks(e),new Je(St,r,o,i,a,l)}let n=e.stateMutability;return n==null&amp;&amp;(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(n="nonpayable"))):typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(n="nonpayable")),new Je(St,e.name,n,e.inputs?e.inputs.map(Gt.from):[],e.outputs?e.outputs.map(Gt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[oe]===Tc}}class As extends na{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,oe,{value:Sc})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return As.from(Wn(t))}catch{E(!1,"invalid struct fragment","obj",t)}else if(t instanceof Re){const e=ea("struct",t),n=gn(t);return ks(t),new As(St,e,n)}return new As(St,t.name,t.inputs?t.inputs.map(Gt.from):[])}static isFragment(t){return t&amp;&amp;t[oe]===Sc}}const Ue=new Map;Ue.set(0,"GENERIC_PANIC");Ue.set(1,"ASSERT_FALSE");Ue.set(17,"OVERFLOW");Ue.set(18,"DIVIDE_BY_ZERO");Ue.set(33,"ENUM_RANGE_ERROR");Ue.set(34,"BAD_STORAGE_DATA");Ue.set(49,"STACK_UNDERFLOW");Ue.set(50,"ARRAY_RANGE_ERROR");Ue.set(65,"OUT_OF_MEMORY");Ue.set(81,"UNINITIALIZED_FUNCTION_CALL");const mm=new RegExp(/^bytes([0-9]*)$/),ym=new RegExp(/^(u?int)([0-9]*)$/);let wa=null;function wm(s,t,e,n){let r="missing revert data",i=null;const o=null;let a=null;if(e){r="execution reverted";const c=ut(e);if(e=$(e),c.length===0)r+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)r+=" (could not decode reason; invalid data length)";else if($(c.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},r+=`: ${JSON.stringify(i)}`}catch{r+=" (could not decode reason; invalid string data)"}else if($(c.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Ue.get(u)||"UNKNOWN"}(${u})`,r+=`: ${i}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}const l={to:t.to?pt(t.to):null,data:t.data||"0x"};return t.from&amp;&amp;(l.from=pt(t.from)),Dt(r,"CALL_EXCEPTION",{action:s,data:e,reason:i,transaction:l,invocation:o,revert:a})}var Nn,Rs;const Ho=class Ho{constructor(){P(this,Nn)}getDefaultValue(t){const e=t.map(r=&gt;R(this,Nn,Rs).call(this,Gt.from(r)));return new io(e,"_").defaultValue()}encode(t,e){Tu(e.length,t.length,"types/values length mismatch");const n=t.map(o=&gt;R(this,Nn,Rs).call(this,Gt.from(o))),r=new io(n,"_"),i=new Ba;return r.encode(i,e),i.data}decode(t,e,n){const r=t.map(o=&gt;R(this,Nn,Rs).call(this,Gt.from(o)));return new io(r,"_").decode(new Oa(e,n))}static defaultAbiCoder(){return wa==null&amp;&amp;(wa=new Ho),wa}static getBuiltinCallException(t,e,n){return wm(t,e,n,Ho.defaultAbiCoder())}};Nn=new WeakSet,Rs=function(t){if(t.isArray())return new Gp(R(this,Nn,Rs).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new io(t.components.map(n=&gt;R(this,Nn,Rs).call(this,n)),t.name);switch(t.baseType){case"address":return new Hp(t.name);case"bool":return new Qp(t.name);case"string":return new Xp(t.name);case"bytes":return new Vp(t.name);case"":return new Kp(t.name)}let e=t.type.match(ym);if(e){let n=parseInt(e[2]||"256");return E(n!==0&amp;&amp;n&lt;=256&amp;&amp;n%8===0,"invalid "+e[1]+" bit length","param",t),new Zp(n/8,e[1]==="int",t.name)}if(e=t.type.match(mm),e){let n=parseInt(e[1]);return E(n!==0&amp;&amp;n&lt;=32,"invalid bytes length","param",t),new zp(n,t.name)}E(!1,"invalid type","type",t.type)};let wi=Ho;class Am{constructor(t,e,n){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const r=t.name,i=t.format();V(this,{fragment:t,name:r,signature:i,topic:e,args:n})}}class bm{constructor(t,e,n,r){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const i=t.name,o=t.format();V(this,{fragment:t,name:i,args:n,signature:o,selector:e,value:r})}}class vm{constructor(t,e,n){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const r=t.name,i=t.format();V(this,{fragment:t,name:r,args:n,signature:i,selector:e})}}class _c{constructor(t){k(this,"hash");k(this,"_isIndexed");V(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&amp;&amp;t._isIndexed)}}const Bc={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Oc={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:s=&gt;`reverted with reason string ${JSON.stringify(s)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:s=&gt;{let t="unknown panic code";return s&gt;=0&amp;&amp;s&lt;=255&amp;&amp;Bc[s.toString()]&amp;&amp;(t=Bc[s.toString()]),`reverted with panic code 0x${s.toString(16)} (${t})`}}};var Me,He,$e,Vt,yr,ho,wr,po;const Hs=class Hs{constructor(t){P(this,yr);P(this,wr);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");P(this,Me,void 0);P(this,He,void 0);P(this,$e,void 0);P(this,Vt,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,m(this,$e,new Map),m(this,Me,new Map),m(this,He,new Map);const n=[];for(const o of e)try{n.push(Cs.from(o))}catch(a){console.log("EE",a)}V(this,{fragments:Object.freeze(n)});let r=null,i=!1;m(this,Vt,this.getAbiCoder()),this.fragments.forEach((o,a)=&gt;{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}V(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(E(!r||o.payable!==r.payable,"conflicting fallback fragments",`fragments[${a}]`,o),r=o,i=r.payable);return;case"function":l=d(this,$e);break;case"event":l=d(this,He);break;case"error":l=d(this,Me);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||V(this,{deploy:dn.from("constructor()")}),V(this,{fallback:r,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(r=&gt;r.format(e))}formatJson(){const t=this.fragments.map(e=&gt;e.format("json"));return JSON.stringify(t.map(e=&gt;JSON.parse(e)))}getAbiCoder(){return wi.defaultAbiCoder()}getFunctionName(t){const e=R(this,yr,ho).call(this,t,null,!1);return E(e,"no matching function","key",t),e.name}hasFunction(t){return!!R(this,yr,ho).call(this,t,null,!1)}getFunction(t,e){return R(this,yr,ho).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(d(this,$e).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,$e).get(r),n)}}getEventName(t){const e=R(this,wr,po).call(this,t,null,!1);return E(e,"no matching event","key",t),e.name}hasEvent(t){return!!R(this,wr,po).call(this,t,null,!1)}getEvent(t,e){return R(this,wr,po).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(d(this,He).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,He).get(r),n)}}getError(t,e){if(Bt(t)){const r=t.toLowerCase();if(Oc[r])return se.from(Oc[r].signature);for(const i of d(this,Me).values())if(r===i.selector)return i;return null}if(t.indexOf("(")===-1){const r=[];for(const[i,o]of d(this,Me))i.split("(")[0]===t&amp;&amp;r.push(o);if(r.length===0)return t==="Error"?se.from("error Error(string)"):t==="Panic"?se.from("error Panic(uint256)"):null;if(r.length&gt;1){const i=r.map(o=&gt;JSON.stringify(o.format())).join(", ");E(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return r[0]}if(t=se.from(t).format(),t==="Error(string)")return se.from("error Error(string)");if(t==="Panic(uint256)")return se.from("error Panic(uint256)");const n=d(this,Me).get(t);return n||null}forEachError(t){const e=Array.from(d(this,Me).keys());e.sort((n,r)=&gt;n.localeCompare(r));for(let n=0;n&lt;e.length;n++){const r=e[n];t(d(this,Me).get(r),n)}}_decodeParams(t,e){return d(this,Vt).decode(t,e)}_encodeParams(t,e){return d(this,Vt).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);E(n,"unknown error","fragment",t),t=n}return E(Lt(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Lt(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);E(n,"unknown error","fragment",t),t=n}return Ut([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);E(n,"unknown function","fragment",t),t=n}return E(Lt(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Lt(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);E(n,"unknown function","fragment",t),t=n}return Ut([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);E(i,"unknown function","fragment",t),t=i}let n="invalid length for result data";const r=re(e);if(r.length%32===0)try{return d(this,Vt).decode(t.outputs,r)}catch{n="could not decode result data"}S(!1,n,"BAD_DATA",{value:$(r),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=ut(t,"data"),r=wi.getBuiltinCallException("call",e,n),i="execution reverted (unknown custom error)";if(r.message.startsWith(i)){const a=$(n.slice(0,4)),l=this.getError(a);if(l)try{const c=d(this,Vt).decode(l.inputs,n.slice(4));r.revert={name:l.name,signature:l.format(),args:c},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&amp;&amp;(r.invocation={method:o.name,signature:o.signature,args:o.args}),r}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);E(n,"unknown function","fragment",t),t=n}return $(d(this,Vt).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);E(i,"unknown event","eventFragment",t),t=i}S(e.length&lt;=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const r=(i,o)=&gt;i.type==="string"?Es(o):i.type==="bytes"?_t($(o)):(i.type==="bool"&amp;&amp;typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Vn(o):i.type.match(/^bytes/)?o=Wh(o,32):i.type==="address"&amp;&amp;d(this,Vt).encode(["address"],[o]),vs($(o),32));for(e.forEach((i,o)=&gt;{const a=t.inputs[o];if(!a.indexed){E(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?E(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(l=&gt;r(a,l))):n.push(r(a,i))});n.length&amp;&amp;n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);E(o,"unknown event","eventFragment",t),t=o}const n=[],r=[],i=[];return t.anonymous||n.push(t.topicHash),E(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=&gt;{const l=e[a];if(o.indexed)if(o.type==="string")n.push(Es(l));else if(o.type==="bytes")n.push(_t(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(d(this,Vt).encode([o.type],[l]))}else r.push(o),i.push(l)}),{data:d(this,Vt).encode(r,i),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const g=this.getEvent(t);E(g,"unknown event","eventFragment",t),t=g}if(n!=null&amp;&amp;!t.anonymous){const g=t.topicHash;E(Bt(n[0],32)&amp;&amp;n[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],o=[];t.inputs.forEach((g,y)=&gt;{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(r.push(Gt.from({type:"bytes32",name:g.name})),o.push(!0)):(r.push(g),o.push(!1)):(i.push(g),o.push(!1))});const a=n!=null?d(this,Vt).decode(r,Ut(n)):null,l=d(this,Vt).decode(i,e,!0),c=[],u=[];let f=0,h=0;return t.inputs.forEach((g,y)=&gt;{let w=null;if(g.indexed)if(a==null)w=new _c(null);else if(o[y])w=new _c(a[h++]);else try{w=a[h++]}catch(v){w=v}else try{w=l[f++]}catch(v){w=v}c.push(w),u.push(g.name||null)}),vo.fromItems(c,u)}parseTransaction(t){const e=ut(t.data,"tx.data"),n=G(t.value!=null?t.value:0,"tx.value"),r=this.getFunction($(e.slice(0,4)));if(!r)return null;const i=d(this,Vt).decode(r.inputs,e.slice(4));return new bm(r,r.selector,i,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Am(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=$(t),n=this.getError(Lt(e,0,4));if(!n)return null;const r=d(this,Vt).decode(n.inputs,Lt(e,4));return new vm(n,n.selector,r)}static from(t){return t instanceof Hs?t:typeof t=="string"?new Hs(JSON.parse(t)):typeof t.format=="function"?new Hs(t.format("json")):new Hs(t)}};Me=new WeakMap,He=new WeakMap,$e=new WeakMap,Vt=new WeakMap,yr=new WeakSet,ho=function(t,e,n){if(Bt(t)){const i=t.toLowerCase();for(const o of d(this,$e).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,$e))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){const o=e.length&gt;0?e[e.length-1]:null;let a=e.length,l=!0;jt.isTyped(o)&amp;&amp;o.type==="overrides"&amp;&amp;(l=!1,a--);for(let c=i.length-1;c&gt;=0;c--){const u=i[c].inputs.length;u!==a&amp;&amp;(!l||u!==a-1)&amp;&amp;i.splice(c,1)}for(let c=i.length-1;c&gt;=0;c--){const u=i[c].inputs;for(let f=0;f&lt;e.length;f++)if(jt.isTyped(e[f])){if(f&gt;=u.length){if(e[f].type==="overrides")continue;i.splice(c,1);break}if(e[f].type!==u[f].baseType){i.splice(c,1);break}}}}if(i.length===1&amp;&amp;e&amp;&amp;e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&amp;&amp;i.splice(0,1)}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;n){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");E(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,$e).get(Je.from(t).format());return r||null},wr=new WeakSet,po=function(t,e,n){if(Bt(t)){const i=t.toLowerCase();for(const o of d(this,He).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,He))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){for(let o=i.length-1;o&gt;=0;o--)i[o].inputs.length&lt;e.length&amp;&amp;i.splice(o,1);for(let o=i.length-1;o&gt;=0;o--){const a=i[o].inputs;for(let l=0;l&lt;e.length;l++)if(jt.isTyped(e[l])&amp;&amp;e[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;n){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");E(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,He).get(ze.from(t).format());return r||null};let Qa=Hs;const Kf=BigInt(0);function ni(s){return s??null}function Kt(s){return s==null?null:s.toString()}class Lc{constructor(t,e,n){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");V(this,{gasPrice:ni(t),maxFeePerGas:ni(e),maxPriorityFeePerGas:ni(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Kt(t),maxFeePerGas:Kt(e),maxPriorityFeePerGas:Kt(n)}}}function Oo(s){const t={};s.to&amp;&amp;(t.to=s.to),s.from&amp;&amp;(t.from=s.from),s.data&amp;&amp;(t.data=$(s.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of e)!(r in s)||s[r]==null||(t[r]=G(s[r],`request.${r}`));const n="type,nonce".split(/,/);for(const r of n)!(r in s)||s[r]==null||(t[r]=it(s[r],`request.${r}`));return s.accessList&amp;&amp;(t.accessList=Is(s.accessList)),"blockTag"in s&amp;&amp;(t.blockTag=s.blockTag),"enableCcipRead"in s&amp;&amp;(t.enableCcipRead=!!s.enableCcipRead),"customData"in s&amp;&amp;(t.customData=s.customData),t}var an;class Em{constructor(t,e){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"miner");k(this,"extraData");k(this,"baseFeePerGas");P(this,an,void 0);m(this,an,t.transactions.map(n=&gt;typeof n!="string"?new Ai(n,e):n)),V(this,{provider:e,hash:ni(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:ni(t.baseFeePerGas)})}get transactions(){return d(this,an).map(t=&gt;typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=d(this,an).slice();return t.length===0?[]:(S(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:r,gasUsed:i,hash:o,miner:a,nonce:l,number:c,parentHash:u,timestamp:f,transactions:h}=this;return{_type:"Block",baseFeePerGas:Kt(t),difficulty:Kt(e),extraData:n,gasLimit:Kt(r),gasUsed:Kt(i),hash:o,miner:a,nonce:l,number:c,parentHash:u,timestamp:f,transactions:h}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=&gt;t&lt;this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,an).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=d(this,an)[t];else{const n=t.toLowerCase();for(const r of d(this,an))if(typeof r=="string"){if(r!==n)continue;e=r;break}else{if(r.hash===n)continue;e=r;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;E(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return km(this)}}an=new WeakMap;class Qi{constructor(t,e){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=e;const n=Object.freeze(t.topics.slice());V(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return S(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return S(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return S(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return Cm(this)}}var Pi;class jf{constructor(t,e){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"type");k(this,"status");k(this,"root");P(this,Pi,void 0);m(this,Pi,Object.freeze(t.logs.map(r=&gt;new Qi(r,e))));let n=Kf;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&amp;&amp;(n=t.gasPrice),V(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:n,type:t.type,status:t.status,root:t.root})}get logs(){return d(this,Pi)}toJSON(){const{to:t,from:e,contractAddress:n,hash:r,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Kt(this.cumulativeGasUsed),from:e,gasPrice:Kt(this.gasPrice),gasUsed:Kt(this.gasUsed),hash:r,index:i,logs:c,logsBloom:l,root:f,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=&gt;t&lt;this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Yf(this)}reorderedEvent(t){return S(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Wf(this,t)}}Pi=new WeakMap;var Tn;const Cl=class Cl{constructor(t,e){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");P(this,Tn,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,m(this,Tn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:r,type:i,to:o,from:a,nonce:l,data:c,signature:u,accessList:f}=this;return{_type:"TransactionReceipt",accessList:f,blockNumber:t,blockHash:e,chainId:Kt(this.chainId),data:c,from:a,gasLimit:Kt(this.gasLimit),gasPrice:Kt(this.gasPrice),hash:r,maxFeePerGas:Kt(this.maxFeePerGas),maxPriorityFeePerGas:Kt(this.maxPriorityFeePerGas),nonce:l,signature:u,to:o,index:n,type:i,value:Kt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&amp;&amp;(t=n.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await Wt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=t??1,r=e??0;let i=d(this,Tn),o=-1,a=i===-1;const l=async()=&gt;{if(a)return null;const{blockNumber:h,nonce:g}=await Wt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g&lt;this.nonce){i=h;return}if(a)return null;const y=await this.getTransaction();if(!(y&amp;&amp;y.blockNumber!=null))for(o===-1&amp;&amp;(o=i-3,o&lt;d(this,Tn)&amp;&amp;(o=d(this,Tn)));o&lt;=h;){if(a)return null;const w=await this.provider.getBlock(o,!0);if(w==null)return;for(const v of w)if(v===this.hash)return;for(let v=0;v&lt;w.length;v++){const x=await w.getTransaction(v);if(x.from===this.from&amp;&amp;x.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(x.hash);if(C==null||h-C.blockNumber+1&lt;n)return;let I="replaced";x.data===this.data&amp;&amp;x.to===this.to&amp;&amp;x.value===this.value?I="repriced":x.data==="0x"&amp;&amp;x.from===x.to&amp;&amp;x.value===Kf&amp;&amp;(I="cancelled"),S(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:x.replaceableTransaction(i),hash:x.hash,receipt:C})}}o++}},c=h=&gt;{if(h==null||h.status!==0)return h;S(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(u);if(u){if(await u.confirmations()&gt;=n)return c(u)}else if(await l(),n===0)return null;return await new Promise((h,g)=&gt;{const y=[],w=()=&gt;{y.forEach(x=&gt;x())};if(y.push(()=&gt;{a=!0}),r&gt;0){const x=setTimeout(()=&gt;{w(),g(Dt("wait for transaction timeout","TIMEOUT"))},r);y.push(()=&gt;{clearTimeout(x)})}const v=async x=&gt;{if(await x.confirmations()&gt;=n){w();try{h(c(x))}catch(C){g(C)}}};if(y.push(()=&gt;{this.provider.off(this.hash,v)}),this.provider.on(this.hash,v),i&gt;=0){const x=async()=&gt;{try{await l()}catch(C){if(Ce(C,"TRANSACTION_REPLACED")){w(),g(C);return}}a||this.provider.once("block",x)};y.push(()=&gt;{this.provider.off("block",x)}),this.provider.once("block",x)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return S(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Yf(this)}reorderedEvent(t){return S(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),S(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wf(this,t)}replaceableTransaction(t){E(Number.isInteger(t)&amp;&amp;t&gt;=0,"invalid startBlock","startBlock",t);const e=new Cl(this,this.provider);return m(e,Tn,t),e}};Tn=new WeakMap;let Ai=Cl;function km(s){return{orphan:"drop-block",hash:s.hash,number:s.number}}function Wf(s,t){return{orphan:"reorder-transaction",tx:s,other:t}}function Yf(s){return{orphan:"drop-transaction",tx:s}}function Cm(s){return{orphan:"drop-log",log:{transactionHash:s.transactionHash,blockHash:s.blockHash,blockNumber:s.blockNumber,address:s.address,data:s.data,topics:Object.freeze(s.topics.slice()),index:s.index}}}class pl extends Qi{constructor(e,n,r){super(e,e.provider);k(this,"interface");k(this,"fragment");k(this,"args");const i=n.decodeEventLog(r,e.data,e.topics);V(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Zf extends Qi{constructor(e,n){super(e,e.provider);k(this,"error");V(this,{error:n})}}var Ar;class Pm extends jf{constructor(e,n,r){super(r,n);P(this,Ar,void 0);m(this,Ar,e)}get logs(){return super.logs.map(e=&gt;{const n=e.topics.length?d(this,Ar).getEvent(e.topics[0]):null;if(n)try{return new pl(e,d(this,Ar),n)}catch(r){return new Zf(e,r)}return e})}}Ar=new WeakMap;var xi;class gl extends Ai{constructor(e,n,r){super(r,n);P(this,xi,void 0);m(this,xi,e)}async wait(e){const n=await super.wait(e);return n==null?null:new Pm(d(this,xi),this.provider,n)}}xi=new WeakMap;class Xf extends Ou{constructor(e,n,r,i){super(e,n,r);k(this,"log");V(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class xm extends Xf{constructor(t,e,n,r,i){super(t,e,n,new pl(i,t.interface,r));const o=t.interface.decodeEventLog(r,this.log.data,this.log.topics);V(this,{args:o,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Rc=BigInt(0);function qf(s){return s&amp;&amp;typeof s.call=="function"}function th(s){return s&amp;&amp;typeof s.estimateGas=="function"}function ml(s){return s&amp;&amp;typeof s.resolveName=="function"}function eh(s){return s&amp;&amp;typeof s.sendTransaction=="function"}var Ii;class Im{constructor(t,e,n){P(this,Ii,void 0);k(this,"fragment");if(V(this,{fragment:e}),e.inputs.length&lt;n.length)throw new Error("too many arguments");const r=Ps(t.runner,"resolveName"),i=ml(r)?r:null;m(this,Ii,async function(){const o=await Promise.all(e.inputs.map((a,l)=&gt;n[l]==null?null:a.walkAsync(n[l],(u,f)=&gt;u==="address"?Array.isArray(f)?Promise.all(f.map(h=&gt;ie(h,i))):ie(f,i):f)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return d(this,Ii)}}Ii=new WeakMap;function Ps(s,t){return s==null?null:typeof s[t]=="function"?s:s.provider&amp;&amp;typeof s.provider[t]=="function"?s.provider:null}function Xn(s){return s==null?null:s.provider||null}async function nh(s,t){const e=jt.dereference(s,"overrides");E(typeof e=="object","invalid overrides parameter","overrides",s);const n=Oo(e);return E(n.to==null||(t||[]).indexOf("to")&gt;=0,"cannot override to","overrides.to",n.to),E(n.data==null||(t||[]).indexOf("data")&gt;=0,"cannot override data","overrides.data",n.data),n.from&amp;&amp;(n.from=await ie(n.from)),n}async function Nm(s,t,e){const n=Ps(s,"resolveName"),r=ml(n)?n:null;return await Promise.all(t.map((i,o)=&gt;i.walkAsync(e[o],(a,l)=&gt;(l=jt.dereference(l,a),a==="address"?ie(l,r):l))))}function Tm(s){const t=async function(o){const a=await nh(o,["data"]);a.to=await s.getAddress();const l=s.interface,c=G(a.value||Rc,"overrides.value")===Rc,u=(a.data||"0x")==="0x";l.fallback&amp;&amp;!l.fallback.payable&amp;&amp;l.receive&amp;&amp;!u&amp;&amp;!c&amp;&amp;E(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),E(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&amp;&amp;l.fallback.payable;return E(f||c,"cannot send value to non-payable fallback","overrides.value",a.value),E(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=Ps(s.runner,"call");S(qf(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await t(o);try{return await a.call(l)}catch(c){throw rl(c)&amp;&amp;c.data?s.interface.makeError(c.data,l):c}},n=async function(o){const a=s.runner;S(eh(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await t(o)),c=Xn(s.runner);return new gl(s.interface,c,l)},r=async function(o){const a=Ps(s.runner,"estimateGas");return S(th(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},i=async o=&gt;await n(o);return V(i,{_contract:s,estimateGas:r,populateTransaction:t,send:n,staticCall:e}),i}function Sm(s,t){const e=function(...c){const u=s.interface.getFunction(t,c);return S(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:c}}),u},n=async function(...c){const u=e(...c);let f={};if(u.inputs.length+1===c.length&amp;&amp;(f=await nh(c.pop())),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await Nm(s.runner,u.inputs,c);return Object.assign({},f,await Wt({to:s.getAddress(),data:s.interface.encodeFunctionData(u,h)}))},r=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},i=async function(...c){const u=s.runner;S(eh(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...c)),h=Xn(s.runner);return new gl(s.interface,h,f)},o=async function(...c){const u=Ps(s.runner,"estimateGas");return S(th(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...c))},a=async function(...c){const u=Ps(s.runner,"call");S(qf(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...c);let h="0x";try{h=await u.call(f)}catch(y){throw rl(y)&amp;&amp;y.data?s.interface.makeError(y.data,f):y}const g=e(...c);return s.interface.decodeFunctionResult(g,h)},l=async(...c)=&gt;e(...c).constant?await r(...c):await i(...c);return V(l,{name:s.interface.getFunctionName(t),_contract:s,_key:t,getFragment:e,estimateGas:o,populateTransaction:n,send:i,staticCall:r,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const c=s.interface.getFunction(t);return S(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),c}}),l}function _m(s,t){const e=function(...r){const i=s.interface.getEvent(t,r);return S(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},n=function(...r){return new Im(s,e(...r),r)};return V(n,{name:s.interface.getEventName(t),_contract:s,_key:t,getFragment:e}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const r=s.interface.getEvent(t);return S(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}const Lo=Symbol.for("_ethersInternal_contract"),sh=new WeakMap;function Bm(s,t){sh.set(s[Lo],t)}function le(s){return sh.get(s[Lo])}function Om(s){return s&amp;&amp;typeof s=="object"&amp;&amp;"getTopicFilter"in s&amp;&amp;typeof s.getTopicFilter=="function"&amp;&amp;s.fragment}async function yl(s,t){let e,n=null;if(Array.isArray(t)){const i=function(o){if(Bt(o,32))return o;const a=s.interface.getEvent(o);return E(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=&gt;o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?Bt(t,32)?e=[t]:(n=s.interface.getEvent(t),E(n,"unknown fragment","event",t),e=[n.topicHash]):Om(t)?e=await t.getTopicFilter():"fragment"in t?(n=t.fragment,e=[n.topicHash]):E(!1,"unknown event name","event",t);e=e.map(i=&gt;{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=&gt;a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const r=e.map(i=&gt;i==null?"null":Array.isArray(i)?i.join("|"):i).join("&amp;");return{fragment:n,tag:r,topics:e}}async function Wr(s,t){const{subs:e}=le(s);return e.get((await yl(s,t)).tag)||null}async function Uc(s,t,e){const n=Xn(s.runner);S(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:r,tag:i,topics:o}=await yl(s,e),{addr:a,subs:l}=le(s);let c=l.get(i);if(!c){const f={address:a||s,topics:o},h=v=&gt;{let x=r;if(x==null)try{x=s.interface.getEvent(v.topics[0])}catch{}if(x){const C=x,I=r?s.interface.decodeEventLog(r,v.data,v.topics):[];za(s,e,I,L=&gt;new xm(s,L,e,C,v))}else za(s,e,[],C=&gt;new Xf(s,C,e,v))};let g=[];c={tag:i,listeners:[],start:()=&gt;{g.length||g.push(n.on(f,h))},stop:async()=&gt;{if(g.length==0)return;let v=g;g=[],await Promise.all(v),n.off(f,h)}},l.set(i,c)}return c}let Va=Promise.resolve();async function Lm(s,t,e,n){await Va;const r=await Wr(s,t);if(!r)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=&gt;{const l=Array.from(e);n&amp;&amp;l.push(n(a?null:o));try{o.call(s,...l)}catch{}return!a}),r.listeners.length===0&amp;&amp;(r.stop(),le(s).subs.delete(r.tag)),i&gt;0}async function za(s,t,e,n){try{await Va}catch{}const r=Lm(s,t,e,n);return Va=r,await r}const oo=["then"];var nw;const ri=class ri{constructor(t,e,n,r){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,nw);k(this,"fallback");E(typeof t=="string"||af(t),"invalid value for Contract target","target",t),n==null&amp;&amp;(n=null);const i=Qa.from(e);V(this,{target:t,runner:n,interface:i}),Object.defineProperty(this,Lo,{value:{}});let o,a=null,l=null;if(r){const f=Xn(n);l=new gl(this.interface,f,r)}let c=new Map;if(typeof t=="string")if(Bt(t))a=t,o=Promise.resolve(t);else{const f=Ps(n,"resolveName");if(!ml(f))throw Dt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(t).then(h=&gt;{if(h==null)throw Dt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return le(this).addr=h,h})}else o=t.getAddress().then(f=&gt;{if(f==null)throw new Error("TODO");return le(this).addr=f,f});Bm(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(f,h,g)=&gt;{if(typeof h=="symbol"||oo.indexOf(h)&gt;=0)return Reflect.get(f,h,g);try{return this.getEvent(h)}catch(y){if(!Ce(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=&gt;oo.indexOf(h)&gt;=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return V(this,{filters:u}),V(this,{fallback:i.receive||i.fallback?Tm(this):null}),new Proxy(this,{get:(f,h,g)=&gt;{if(typeof h=="symbol"||h in f||oo.indexOf(h)&gt;=0)return Reflect.get(f,h,g);try{return f.getFunction(h)}catch(y){if(!Ce(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,h)=&gt;typeof h=="symbol"||h in f||oo.indexOf(h)&gt;=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new ri(this.target,this.interface,t)}attach(t){return new ri(t,this.interface,this.runner)}async getAddress(){return await le(this).addrPromise}async getDeployedCode(){const t=Xn(this.runner);S(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Xn(this.runner);return S(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,i)=&gt;{const o=async()=&gt;{try{if(await this.getDeployedCode()!=null)return r(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return le(this).deployTx}getFunction(t){return typeof t!="string"&amp;&amp;(t=t.format()),Sm(this,t)}getEvent(t){return typeof t!="string"&amp;&amp;(t=t.format()),_m(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){e==null&amp;&amp;(e=0),n==null&amp;&amp;(n="latest");const{addr:r,addrPromise:i}=le(this),o=r||await i,{fragment:a,topics:l}=await yl(this,t),c={address:o,topics:l,fromBlock:e,toBlock:n},u=Xn(this.runner);return S(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(f=&gt;{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new pl(f,this.interface,h)}catch(g){return new Zf(f,g)}return new Qi(f,u)})}async on(t,e){const n=await Uc(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await Uc(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await za(this,t,e,null)}async listenerCount(t){if(t){const r=await Wr(this,t);return r?r.listeners.length:0}const{subs:e}=le(this);let n=0;for(const{listeners:r}of e.values())n+=r.length;return n}async listeners(t){if(t){const r=await Wr(this,t);return r?r.listeners.map(({listener:i})=&gt;i):[]}const{subs:e}=le(this);let n=[];for(const{listeners:r}of e.values())n=n.concat(r.map(({listener:i})=&gt;i));return n}async off(t,e){const n=await Wr(this,t);if(!n)return this;if(e){const r=n.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;n.listeners.splice(r,1)}return(e==null||n.listeners.length===0)&amp;&amp;(n.stop(),le(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await Wr(this,t);if(!e)return this;e.stop(),le(this).subs.delete(e.tag)}else{const{subs:e}=le(this);for(const{tag:n,stop:r}of e.values())r(),e.delete(n)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends ri{constructor(r,i=null){super(r,t,i)}}return e}static from(t,e,n){return n==null&amp;&amp;(n=null),new this(t,e,n)}};nw=Lo;let Ja=ri;function Rm(){return Ja}class bs extends Rm(){}function Aa(s){return s.match(/^ipfs:\/\/ipfs\//i)?s=s.substring(12):s.match(/^ipfs:\/\//i)?s=s.substring(7):E(!1,"unsupported IPFS format","link",s),`https://gateway.ipfs.io/ipfs/${s}`}class Um{constructor(t){k(this,"name");V(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const rh=new RegExp("^(ipfs)://(.*)$","i"),Fc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),rh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Sn,ls,_n,Us,$o,ih;const $s=class $s{constructor(t,e,n){P(this,_n);k(this,"provider");k(this,"address");k(this,"name");P(this,Sn,void 0);P(this,ls,void 0);V(this,{provider:t,address:e,name:n}),m(this,Sn,null),m(this,ls,new bs(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return d(this,Sn)==null&amp;&amp;m(this,Sn,(async()=&gt;{try{return await d(this,ls).supportsInterface("0x9061b923")}catch(t){if(Ce(t,"CALL_EXCEPTION"))return!1;throw m(this,Sn,null),t}})()),await d(this,Sn)}async getAddress(t){if(t==null&amp;&amp;(t=60),t===60)try{const i=await R(this,_n,Us).call(this,"addr(bytes32)");return i==null||i===Da?null:i}catch(i){if(Ce(i,"CALL_EXCEPTION"))return null;throw i}if(t&gt;=0&amp;&amp;t&lt;2147483648){let i=t+2147483648;const o=await R(this,_n,Us).call(this,"addr(bytes32,uint)",[i]);if(Bt(o,20))return pt(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof Um&amp;&amp;i.supportsCoinType(t)){e=i;break}if(e==null)return null;const n=await R(this,_n,Us).call(this,"addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const r=await e.decodeAddress(t,n);if(r!=null)return r;S(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await R(this,_n,Us).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await R(this,_n,Us).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const r=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${r}://${qh("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&amp;&amp;n[1].length===64)return`bzz://${n[1]}`;S(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n&lt;Fc.length;n++){const r=e.match(Fc[n]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=Aa(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const l=(r[2]||"").split("/");if(l.length!==2)return t.push({type:`!${i}caip`,value:r[2]||""}),{url:null,linkage:t};const c=l[1],u=new bs(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const w=await u.ownerOf(c);if(a!==w)return t.push({type:"!owner",value:w}),{url:null,linkage:t};t.push({type:"owner",value:w})}else if(i==="erc1155"){const w=await u.balanceOf(a,c);if(!w)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:w.toString()})}let f=await u[o](c);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),i==="erc1155"&amp;&amp;(f=f.replace("{id}",Vn(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&amp;&amp;(f=Aa(f)),t.push({type:"metadata-url",value:f});let h={};const g=await new mn(f).send();g.assertOk();try{h=g.bodyJson}catch{try{t.push({type:"!metadata",value:g.bodyText})}catch{const x=g.body;return x&amp;&amp;t.push({type:"!metadata",value:$(x)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(rh)==null)return t.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:y}),y=Aa(y)}return t.push({type:"url",value:y}),{linkage:t,url:y}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return S(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async fromName(t,e){var r;let n=e;for(;;){if(n===""||n==="."||e!=="eth"&amp;&amp;n==="eth")return null;const i=await R(r=$s,$o,ih).call(r,t,n);if(i!=null){const o=new $s(t,i,e);return n!==e&amp;&amp;!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Sn=new WeakMap,ls=new WeakMap,_n=new WeakSet,Us=async function(t,e){e=(e||[]).slice();const n=d(this,ls).interface;e.unshift($a(this.name));let r=null;await this.supportsWildcard()&amp;&amp;(r=n.getFunction(t),S(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[$g(this.name),n.encodeFunctionData(r,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await d(this,ls)[t](...e);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Ce(i,"CALL_EXCEPTION"))throw i}return null},$o=new WeakSet,ih=async function(t,e){const n=await $s.getEnsAddress(t);try{const i=await new bs(n,["function resolver(bytes32) view returns (address)"],t).resolver($a(e),{enableCcipRead:!0});return i===Da?null:i}catch(r){throw r}return null},P($s,$o);let Ro=$s;const Dc=BigInt(0);function Tt(s,t){return function(e){return e==null?t:s(e)}}function wl(s){return t=&gt;{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=&gt;s(e))}}function Vi(s,t){return e=&gt;{const n={};for(const r in s){let i=r;if(t&amp;&amp;r in t&amp;&amp;!(i in e)){for(const o of t[r])if(o in e){i=o;break}}try{const o=s[r](e[i]);o!==void 0&amp;&amp;(n[r]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";S(!1,`invalid value for value.${r} (${a})`,"BAD_DATA",{value:e})}}return n}}function Fm(s){switch(s){case!0:case"true":return!0;case!1:case"false":return!1}E(!1,`invalid boolean; ${JSON.stringify(s)}`,"value",s)}function Ur(s){return E(Bt(s,!0),"invalid data","value",s),s}function Pe(s){return E(Bt(s,32),"invalid hash","value",s),s}const Dm=Vi({address:pt,blockHash:Pe,blockNumber:it,data:Ur,index:it,removed:Tt(Fm,!1),topics:wl(Pe),transactionHash:Pe,transactionIndex:it},{index:["logIndex"]});function Mm(s){return Dm(s)}const Hm=Vi({hash:Tt(Pe),parentHash:Pe,number:it,timestamp:it,nonce:Tt(Ur),difficulty:G,gasLimit:G,gasUsed:G,miner:Tt(pt),extraData:Ur,baseFeePerGas:Tt(G)});function $m(s){const t=Hm(s);return t.transactions=s.transactions.map(e=&gt;typeof e=="string"?e:oh(e)),t}const Gm=Vi({transactionIndex:it,blockNumber:it,transactionHash:Pe,address:pt,topics:wl(Pe),data:Ur,index:it,blockHash:Pe},{index:["logIndex"]});function Qm(s){return Gm(s)}const Vm=Vi({to:Tt(pt,null),from:Tt(pt,null),contractAddress:Tt(pt,null),index:it,root:Tt($),gasUsed:G,logsBloom:Tt(Ur),blockHash:Pe,hash:Pe,logs:wl(Qm),blockNumber:it,cumulativeGasUsed:G,effectiveGasPrice:Tt(G),status:Tt(it),type:Tt(it,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function zm(s){return Vm(s)}function oh(s){s.to&amp;&amp;G(s.to)===Dc&amp;&amp;(s.to="0x0000000000000000000000000000000000000000");const t=Vi({hash:Pe,type:e=&gt;e==="0x"||e==null?0:it(e),accessList:Tt(Is,null),blockHash:Tt(Pe,null),blockNumber:Tt(it,null),transactionIndex:Tt(it,null),from:pt,gasPrice:Tt(G),maxPriorityFeePerGas:Tt(G),maxFeePerGas:Tt(G),gasLimit:G,to:Tt(pt,null),value:G,nonce:it,data:Ur,creates:Tt(pt,null),chainId:Tt(G,null)},{data:["input"],gasLimit:["gas"]})(s);if(t.to==null&amp;&amp;t.creates==null&amp;&amp;(t.creates=Mp(t)),(s.type===1||s.type===2)&amp;&amp;s.accessList==null&amp;&amp;(t.accessList=[]),s.signature?t.signature=Le.from(s.signature):t.signature=Le.from(s),t.chainId==null){const e=t.signature.legacyChainId;e!=null&amp;&amp;(t.chainId=e)}return t.blockHash&amp;&amp;G(t.blockHash)===Dc&amp;&amp;(t.blockHash=null),t}const Jm="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class zi{constructor(t){k(this,"name");V(this,{name:t})}clone(){return new zi(this.name)}}class sa extends zi{constructor(e,n){e==null&amp;&amp;(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const r={effectiveBlock:e};function i(o,a){let l=(n||{})[o];l==null&amp;&amp;(l=a),E(typeof l=="number",`invalud value for ${o}`,"costs",n),r[o]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),V(this,r)}clone(){return new sa(this.effectiveBlock,this)}}class ra extends zi{constructor(e,n){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");V(this,{address:e||Jm,targetNetwork:n??1})}clone(){return new ra(this.address,this.targetNetwork)}}var Ni,Ti;class ah extends zi{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");P(this,Ni,void 0);P(this,Ti,void 0);m(this,Ni,e),m(this,Ti,n)}get url(){return d(this,Ni)}get processFunc(){return d(this,Ti)}clone(){return this}}Ni=new WeakMap,Ti=new WeakMap;const ba=new Map;var br,vr,Bn;const Gs=class Gs{constructor(t,e){P(this,br,void 0);P(this,vr,void 0);P(this,Bn,void 0);m(this,br,t),m(this,vr,G(e)),m(this,Bn,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,br)}set name(t){m(this,br,t)}get chainId(){return d(this,vr)}set chainId(t){m(this,vr,G(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===G(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===G(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===G(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(d(this,Bn).values())}attachPlugin(t){if(d(this,Bn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Bn).set(t.name,t.clone()),this}getPlugin(t){return d(this,Bn).get(t)||null}getPlugins(t){return this.plugins.filter(e=&gt;e.name.split("#")[0]===t)}clone(){const t=new Gs(this.name,this.chainId);return this.plugins.forEach(e=&gt;{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new sa;let n=e.txBase;if(t.to==null&amp;&amp;(n+=e.txCreate),t.data)for(let r=2;r&lt;t.data.length;r+=2)t.data.substring(r,r+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const r=Is(t.accessList);for(const i in r)n+=e.txAccessListAddress+e.txAccessListStorageKey*r[i].storageKeys.length}return n}static from(t){if(jm(),t==null)return Gs.from("mainnet");if(typeof t=="number"&amp;&amp;(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=ba.get(t);if(e)return e();if(typeof t=="bigint")return new Gs("unknown",t);E(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){E(typeof t.name=="string"&amp;&amp;typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Gs(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&amp;&amp;e.attachPlugin(new ra(t.ensAddress,t.ensNetwork)),e}E(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&amp;&amp;(t=BigInt(t));const n=ba.get(t);n&amp;&amp;E(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),ba.set(t,e)}};br=new WeakMap,vr=new WeakMap,Bn=new WeakMap;let Ke=Gs;function Mc(s,t){const e=String(s);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${s}`);const n=e.split(".");if(n.length===1&amp;&amp;n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${s}`);for(;n[1].length&lt;t;)n[1]+="0";if(n[1].length&gt;9){let r=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||r++,n[1]=r.toString()}return BigInt(n[0]+n[1])}function Hc(s){return new ah(s,async(t,e,n)=&gt;{n.setHeader("User-Agent","ethers");let r;try{const[i,o]=await Promise.all([n.send(),t()]);r=i;const a=r.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Mc(a.maxFee,9),maxPriorityFeePerGas:Mc(a.maxPriorityFee,9)}}catch(i){S(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}})}function Km(s){return new ah("data:",async(t,e,n)=&gt;{const r=await t();if(r.maxFeePerGas==null||r.maxPriorityFeePerGas==null)return r;const i=r.maxFeePerGas-r.maxPriorityFeePerGas;return{gasPrice:r.gasPrice,maxFeePerGas:i+s,maxPriorityFeePerGas:s}})}let $c=!1;function jm(){if($c)return;$c=!0;function s(t,e,n){const r=function(){const i=new Ke(t,e);return n.ensNetwork!=null&amp;&amp;i.attachPlugin(new ra(null,n.ensNetwork)),i.attachPlugin(new sa),(n.plugins||[]).forEach(o=&gt;{i.attachPlugin(o)}),i};Ke.register(t,r),Ke.register(e,r),n.altNames&amp;&amp;n.altNames.forEach(i=&gt;{Ke.register(i,r)})}s("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),s("ropsten",3,{ensNetwork:3}),s("rinkeby",4,{ensNetwork:4}),s("goerli",5,{ensNetwork:5}),s("kovan",42,{ensNetwork:42}),s("sepolia",11155111,{}),s("classic",61,{}),s("classicKotti",6,{}),s("arbitrum",42161,{ensNetwork:1}),s("arbitrum-goerli",421613,{}),s("bnb",56,{ensNetwork:1}),s("bnbt",97,{}),s("linea",59144,{ensNetwork:1}),s("linea-goerli",59140,{}),s("matic",137,{ensNetwork:1,plugins:[Hc("https://gasstation.polygon.technology/v2")]}),s("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Hc("https://gasstation-testnet.polygon.technology/v2")]}),s("optimism",10,{ensNetwork:1,plugins:[Km(BigInt("1000000"))]}),s("optimism-goerli",420,{}),s("xdai",100,{ensNetwork:1})}function Ka(s){return JSON.parse(JSON.stringify(s))}var ln,be,On,Ge,Er,go;class Wm{constructor(t){P(this,Er);P(this,ln,void 0);P(this,be,void 0);P(this,On,void 0);P(this,Ge,void 0);m(this,ln,t),m(this,be,null),m(this,On,4e3),m(this,Ge,-2)}get pollingInterval(){return d(this,On)}set pollingInterval(t){m(this,On,t)}start(){d(this,be)||(m(this,be,d(this,ln)._setTimeout(R(this,Er,go).bind(this),d(this,On))),R(this,Er,go).call(this))}stop(){d(this,be)&amp;&amp;(d(this,ln)._clearTimeout(d(this,be)),m(this,be,null))}pause(t){this.stop(),t&amp;&amp;m(this,Ge,-2)}resume(){this.start()}}ln=new WeakMap,be=new WeakMap,On=new WeakMap,Ge=new WeakMap,Er=new WeakSet,go=async function(){try{const t=await d(this,ln).getBlockNumber();if(d(this,Ge)===-2){m(this,Ge,t);return}if(t!==d(this,Ge)){for(let e=d(this,Ge)+1;e&lt;=t;e++){if(d(this,be)==null)return;await d(this,ln).emit("block",e)}m(this,Ge,t)}}catch{}d(this,be)!=null&amp;&amp;m(this,be,d(this,ln)._setTimeout(R(this,Er,go).bind(this),d(this,On)))};var cs,us,Ln;class lh{constructor(t){P(this,cs,void 0);P(this,us,void 0);P(this,Ln,void 0);m(this,cs,t),m(this,Ln,!1),m(this,us,e=&gt;{this._poll(e,d(this,cs))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){d(this,Ln)||(m(this,Ln,!0),d(this,us).call(this,-2),d(this,cs).on("block",d(this,us)))}stop(){d(this,Ln)&amp;&amp;(m(this,Ln,!1),d(this,cs).off("block",d(this,us)))}pause(t){this.stop()}resume(){this.start()}}cs=new WeakMap,us=new WeakMap,Ln=new WeakMap;var Go;class Ym extends lh{constructor(e,n){super(e);P(this,Go,void 0);m(this,Go,Ka(n))}async _poll(e,n){throw new Error("@TODO")}}Go=new WeakMap;var kr;class Zm extends lh{constructor(e,n){super(e);P(this,kr,void 0);m(this,kr,n)}async _poll(e,n){const r=await n.getTransactionReceipt(d(this,kr));r&amp;&amp;n.emit(d(this,kr),r)}}kr=new WeakMap;var cn,Cr,Pr,Rn,ve,Qo,ch;class Al{constructor(t,e){P(this,Qo);P(this,cn,void 0);P(this,Cr,void 0);P(this,Pr,void 0);P(this,Rn,void 0);P(this,ve,void 0);m(this,cn,t),m(this,Cr,Ka(e)),m(this,Pr,R(this,Qo,ch).bind(this)),m(this,Rn,!1),m(this,ve,-2)}start(){d(this,Rn)||(m(this,Rn,!0),d(this,ve)===-2&amp;&amp;d(this,cn).getBlockNumber().then(t=&gt;{m(this,ve,t)}),d(this,cn).on("block",d(this,Pr)))}stop(){d(this,Rn)&amp;&amp;(m(this,Rn,!1),d(this,cn).off("block",d(this,Pr)))}pause(t){this.stop(),t&amp;&amp;m(this,ve,-2)}resume(){this.start()}}cn=new WeakMap,Cr=new WeakMap,Pr=new WeakMap,Rn=new WeakMap,ve=new WeakMap,Qo=new WeakSet,ch=async function(t){if(d(this,ve)===-2)return;const e=Ka(d(this,Cr));e.fromBlock=d(this,ve)+1,e.toBlock=t;const n=await d(this,cn).getLogs(e);if(n.length===0){d(this,ve)&lt;t-60&amp;&amp;m(this,ve,t-60);return}for(const r of n)d(this,cn).emit(d(this,Cr),r),m(this,ve,r.blockNumber)};const Xm=BigInt(2),qm=10;function ao(s){return s&amp;&amp;typeof s.then=="function"}function mo(s,t){return s+":"+JSON.stringify(t,(e,n)=&gt;{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&amp;&amp;!Array.isArray(n)){const r=Object.keys(n);return r.sort(),r.reduce((i,o)=&gt;(i[o]=n[o],i),{})}return n})}class uh{constructor(t){k(this,"name");V(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function t0(s){return JSON.parse(JSON.stringify(s))}function ja(s){return s=Array.from(new Set(s).values()),s.sort(),s}async function va(s,t){if(s==null)throw new Error("invalid event");if(Array.isArray(s)&amp;&amp;(s={topics:s}),typeof s=="string")switch(s){case"block":case"pending":case"debug":case"error":case"network":return{type:s,tag:s}}if(Bt(s,32)){const e=s.toLowerCase();return{type:"transaction",tag:mo("tx",{hash:e}),hash:e}}if(s.orphan){const e=s;return{type:"orphan",tag:mo("orphan",e),filter:t0(e)}}if(s.address||s.topics){const e=s,n={topics:(e.topics||[]).map(r=&gt;r==null?null:Array.isArray(r)?ja(r.map(i=&gt;i.toLowerCase())):r.toLowerCase())};if(e.address){const r=[],i=[],o=a=&gt;{Bt(a)?r.push(a):i.push((async()=&gt;{r.push(await ie(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&amp;&amp;await Promise.all(i),n.address=ja(r.map(a=&gt;a.toLowerCase()))}return{filter:n,tag:mo("event",n),type:"event"}}E(!1,"unknown ProviderEvent","event",s)}function Ea(){return new Date().getTime()}const e0={cacheTimeout:250,pollingInterval:4e3};var zt,Un,Jt,xr,fe,fs,Fn,un,Si,Ee,Ir,Nr,te,me,_i,Wa,Bi,Ya,hs,Yr,Oi,Za,ds,Zr,Tr,yo;class n0{constructor(t,e){P(this,te);P(this,_i);P(this,Bi);P(this,hs);P(this,Oi);P(this,ds);P(this,Tr);P(this,zt,void 0);P(this,Un,void 0);P(this,Jt,void 0);P(this,xr,void 0);P(this,fe,void 0);P(this,fs,void 0);P(this,Fn,void 0);P(this,un,void 0);P(this,Si,void 0);P(this,Ee,void 0);P(this,Ir,void 0);P(this,Nr,void 0);if(m(this,Nr,Object.assign({},e0,e||{})),t==="any")m(this,fs,!0),m(this,fe,null);else if(t){const n=Ke.from(t);m(this,fs,!1),m(this,fe,Promise.resolve(n)),setTimeout(()=&gt;{this.emit("network",n,null)},0)}else m(this,fs,!1),m(this,fe,null);m(this,un,-1),m(this,Fn,new Map),m(this,zt,new Map),m(this,Un,new Map),m(this,Jt,null),m(this,xr,!1),m(this,Si,1),m(this,Ee,new Map),m(this,Ir,!1)}get pollingInterval(){return d(this,Nr).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,Un).values())}attachPlugin(t){if(d(this,Un).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Un).set(t.name,t.connect(this)),this}getPlugin(t){return d(this,Un).get(t)||null}get disableCcipRead(){return d(this,Ir)}set disableCcipRead(t){m(this,Ir,!!t)}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const r=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a&lt;n.length;a++){const l=n[a],c=l.replace("{sender}",r).replace("{data}",i),u=new mn(c);l.indexOf("{data}")===-1&amp;&amp;(u.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error";const h=await u.send();try{const g=h.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:g}),g.data;g.message&amp;&amp;(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:g})}catch{}S(h.statusCode&lt;400||h.statusCode&gt;=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:l,errorMessage:f}}),o.push(f)}S(!1,`error encountered during CCIP fetch: ${o.map(a=&gt;JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:o}})}_wrapBlock(t,e){return new Em($m(t),this)}_wrapLog(t,e){return new Qi(Mm(t),this)}_wrapTransactionReceipt(t,e){return new jf(zm(t),this)}_wrapTransactionResponse(t,e){return new Ai(oh(t),this)}_detectNetwork(){S(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){S(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=it(await R(this,te,me).call(this,{method:"getBlockNumber"}),"%response");return d(this,un)&gt;=0&amp;&amp;m(this,un,t),t}_getAddress(t){return ie(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(Bt(t))return Bt(t,32)?t:Ms(t);if(typeof t=="bigint"&amp;&amp;(t=it(t,"blockTag")),typeof t=="number")return t&gt;=0?Ms(t):d(this,un)&gt;=0?Ms(d(this,un)+t):this.getBlockNumber().then(e=&gt;Ms(e+t));E(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(l=&gt;l==null?null:Array.isArray(l)?ja(l.map(c=&gt;c.toLowerCase())):l.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,r=(l,c,u)=&gt;{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(n&amp;&amp;(c!=null||u!=null))throw new Error("invalid filter");const h={};return f&amp;&amp;(h.address=f),e.length&amp;&amp;(h.topics=e),c&amp;&amp;(h.fromBlock=c),u&amp;&amp;(h.toBlock=u),n&amp;&amp;(h.blockHash=n),h};let i=[];if(t.address)if(Array.isArray(t.address))for(const l of t.address)i.push(this._getAddress(l));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&amp;&amp;(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&amp;&amp;(a=this._getBlockTag(t.toBlock)),i.filter(l=&gt;typeof l!="string").length||o!=null&amp;&amp;typeof o!="string"||a!=null&amp;&amp;typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=&gt;r(l[0],l[1],l[2])):r(i,o,a)}_getTransactionRequest(t){const e=Oo(t),n=[];if(["to","from"].forEach(r=&gt;{if(e[r]==null)return;const i=ie(e[r]);ao(i)?n.push(async function(){e[r]=await i}()):e[r]=i}),e.blockTag!=null){const r=this._getBlockTag(e.blockTag);ao(r)?n.push(async function(){e.blockTag=await r}()):e.blockTag=r}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(d(this,fe)==null){const r=this._detectNetwork().then(i=&gt;(this.emit("network",i,null),i),i=&gt;{throw d(this,fe)===r&amp;&amp;m(this,fe,null),i});return m(this,fe,r),(await r).clone()}const t=d(this,fe),[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&amp;&amp;(d(this,fs)?(this.emit("network",n,e),d(this,fe)===t&amp;&amp;m(this,fe,Promise.resolve(n))):S(!1,`network changed: ${e.chainId} =&gt; ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=&gt;{const{_block:r,gasPrice:i}=await Wt({_block:R(this,Oi,Za).call(this,"latest",!1),gasPrice:(async()=&gt;{try{const c=await R(this,te,me).call(this,{method:"getGasPrice"});return G(c,"%response")}catch{}return null})()});let o=null,a=null;const l=this._wrapBlock(r,t);return l&amp;&amp;l.baseFeePerGas&amp;&amp;(a=BigInt("1000000000"),o=l.baseFeePerGas*Xm+a),new Lc(i,o,a)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const r=new mn(n.url),i=await n.processFunc(e,this,r);return new Lc(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return ao(e)&amp;&amp;(e=await e),G(await R(this,te,me).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:n}=await Wt({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await R(this,Bi,Ya).call(this,R(this,_i,Wa).call(this,e,n,t.enableCcipRead?0:-1))}async getBalance(t,e){return G(await R(this,hs,Yr).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return it(await R(this,hs,Yr).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return $(await R(this,hs,Yr).call(this,{method:"getCode"},t,e))}async getStorage(t,e,n){const r=G(e,"position");return $(await R(this,hs,Yr).call(this,{method:"getStorage",position:r},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:r}=await Wt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=_o.from(t);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(e)}async getBlock(t,e){const{network:n,params:r}=await Wt({network:this.getNetwork(),params:R(this,Oi,Za).call(this,t,!!e)});return r==null?null:this._wrapBlock(r,n)}async getTransaction(t){const{network:e,params:n}=await Wt({network:this.getNetwork(),params:R(this,te,me).call(this,{method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await Wt({network:this.getNetwork(),params:R(this,te,me).call(this,{method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&amp;&amp;n.effectiveGasPrice==null){const r=await R(this,te,me).call(this,{method:"getTransaction",hash:t});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await Wt({network:this.getNetwork(),result:R(this,te,me).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:$(e)}async getLogs(t){let e=this._getFilter(t);ao(e)&amp;&amp;(e=await e);const{network:n,params:r}=await Wt({network:this.getNetwork(),params:R(this,te,me).call(this,{method:"getLogs",filter:e})});return r.map(i=&gt;this._wrapLog(i,n))}_getProvider(t){S(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Ro.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=pt(t);const e=$a(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await Ro.getEnsAddress(this),i=await new bs(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===Da)return null;const a=await new bs(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(n){if(Ce(n,"BAD_DATA")&amp;&amp;n.value==="0x"||Ce(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const r=e??1;return r===0?this.getTransactionReceipt(t):new Promise(async(i,o)=&gt;{let a=null;const l=async c=&gt;{try{const u=await this.getTransactionReceipt(t);if(u!=null&amp;&amp;c-u.blockNumber+1&gt;=r){i(u),a&amp;&amp;(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};n!=null&amp;&amp;(a=setTimeout(()=&gt;{a!=null&amp;&amp;(a=null,this.off("block",l),o(Dt("timeout","TIMEOUT",{reason:"timeout"})))},n)),l(await this.getBlockNumber())})}async waitForBlock(t){S(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=d(this,Ee).get(t);e&amp;&amp;(e.timer&amp;&amp;clearTimeout(e.timer),d(this,Ee).delete(t))}_setTimeout(t,e){e==null&amp;&amp;(e=0);const n=$r(this,Si)._++,r=()=&gt;{d(this,Ee).delete(n),t()};if(this.paused)d(this,Ee).set(n,{timer:null,func:r,time:e});else{const i=setTimeout(r,e);d(this,Ee).set(n,{timer:i,func:r,time:Ea()})}return n}_forEachSubscriber(t){for(const e of d(this,zt).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new uh(t.type);case"block":{const e=new Wm(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new Al(this,t.filter);case"transaction":return new Zm(this,t.hash);case"orphan":return new Ym(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of d(this,zt).values())if(n.subscriber===t){n.started&amp;&amp;n.subscriber.stop(),n.subscriber=e,n.started&amp;&amp;e.start(),d(this,Jt)!=null&amp;&amp;e.pause(d(this,Jt));break}}async on(t,e){const n=await R(this,Tr,yo).call(this,t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,d(this,Jt)!=null&amp;&amp;n.subscriber.pause(d(this,Jt))),this}async once(t,e){const n=await R(this,Tr,yo).call(this,t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,d(this,Jt)!=null&amp;&amp;n.subscriber.pause(d(this,Jt))),this}async emit(t,...e){const n=await R(this,ds,Zr).call(this,t,e);if(!n||n.listeners.length===0)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=&gt;{const a=new Ou(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),n.listeners.length===0&amp;&amp;(n.started&amp;&amp;n.subscriber.stop(),d(this,zt).delete(n.tag)),r&gt;0}async listenerCount(t){if(t){const n=await R(this,ds,Zr).call(this,t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of d(this,zt).values())e+=n.length;return e}async listeners(t){if(t){const n=await R(this,ds,Zr).call(this,t);return n?n.listeners.map(({listener:r})=&gt;r):[]}let e=[];for(const{listeners:n}of d(this,zt).values())e=e.concat(n.map(({listener:r})=&gt;r));return e}async off(t,e){const n=await R(this,ds,Zr).call(this,t);if(!n)return this;if(e){const r=n.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;n.listeners.splice(r,1)}return(!e||n.listeners.length===0)&amp;&amp;(n.started&amp;&amp;n.subscriber.stop(),d(this,zt).delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:r}=await R(this,Tr,yo).call(this,t);n&amp;&amp;r.stop(),d(this,zt).delete(e)}else for(const[e,{started:n,subscriber:r}]of d(this,zt))n&amp;&amp;r.stop(),d(this,zt).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return d(this,xr)}destroy(){this.removeAllListeners();for(const t of d(this,Ee).keys())this._clearTimeout(t);m(this,xr,!0)}get paused(){return d(this,Jt)!=null}set paused(t){!!t!==this.paused&amp;&amp;(this.paused?this.resume():this.pause(!1))}pause(t){if(m(this,un,-1),d(this,Jt)!=null){if(d(this,Jt)==!!t)return;S(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=&gt;e.pause(t)),m(this,Jt,!!t);for(const e of d(this,Ee).values())e.timer&amp;&amp;clearTimeout(e.timer),e.time=Ea()-e.time}resume(){if(d(this,Jt)!=null){this._forEachSubscriber(t=&gt;t.resume()),m(this,Jt,null);for(const t of d(this,Ee).values()){let e=t.time;e&lt;0&amp;&amp;(e=0),t.time=Ea(),setTimeout(t.func,e)}}}}zt=new WeakMap,Un=new WeakMap,Jt=new WeakMap,xr=new WeakMap,fe=new WeakMap,fs=new WeakMap,Fn=new WeakMap,un=new WeakMap,Si=new WeakMap,Ee=new WeakMap,Ir=new WeakMap,Nr=new WeakMap,te=new WeakSet,me=async function(t){const e=d(this,Nr).cacheTimeout;if(e&lt;0)return await this._perform(t);const n=mo(t.method,t);let r=d(this,Fn).get(n);return r||(r=this._perform(t),d(this,Fn).set(n,r),setTimeout(()=&gt;{d(this,Fn).get(n)===r&amp;&amp;d(this,Fn).delete(n)},e)),await r},_i=new WeakSet,Wa=async function(t,e,n){S(n&lt;qm,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const r=Oo(t);try{return $(await this._perform({method:"call",transaction:r,blockTag:e}))}catch(i){if(!this.disableCcipRead&amp;&amp;rl(i)&amp;&amp;i.data&amp;&amp;n&gt;=0&amp;&amp;e==="latest"&amp;&amp;r.to!=null&amp;&amp;Lt(i.data,0,4)==="0x556f1830"){const o=i.data,a=await ie(r.to,this);let l;try{l=a0(Lt(i.data,4))}catch(f){S(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:o}})}S(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(r,l.calldata,l.urls);S(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:l.errorArgs}});const u={to:a,data:Ut([l.selector,o0([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await R(this,_i,Wa).call(this,u,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},Bi=new WeakSet,Ya=async function(t){const{value:e}=await Wt({network:this.getNetwork(),value:t});return e},hs=new WeakSet,Yr=async function(t,e,n){let r=this._getAddress(e),i=this._getBlockTag(n);return(typeof r!="string"||typeof i!="string")&amp;&amp;([r,i]=await Promise.all([r,i])),await R(this,Bi,Ya).call(this,R(this,te,me).call(this,Object.assign(t,{address:r,blockTag:i})))},Oi=new WeakSet,Za=async function(t,e){if(Bt(t,32))return await R(this,te,me).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&amp;&amp;(n=await n),await R(this,te,me).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},ds=new WeakSet,Zr=async function(t,e){let n=await va(t,this);return n.type==="event"&amp;&amp;e&amp;&amp;e.length&gt;0&amp;&amp;e[0].removed===!0&amp;&amp;(n=await va({orphan:"drop-log",log:e[0]},this)),d(this,zt).get(n.tag)||null},Tr=new WeakSet,yo=async function(t){const e=await va(t,this),n=e.tag;let r=d(this,zt).get(n);return r||(r={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,zt).set(n,r)),r};function s0(s,t){try{const e=Xa(s,t);if(e)return ol(e)}catch{}return null}function Xa(s,t){if(s==="0x")return null;try{const e=it(Lt(s,t,t+32)),n=it(Lt(s,e,e+32));return Lt(s,e+32,e+32+n)}catch{}return null}function Gc(s){const t=de(s);if(t.length&gt;32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function r0(s){if(s.length%32===0)return s;const t=new Uint8Array(Math.ceil(s.length/32)*32);return t.set(s),t}const i0=new Uint8Array([]);function o0(s){const t=[];let e=0;for(let n=0;n&lt;s.length;n++)t.push(i0),e+=32;for(let n=0;n&lt;s.length;n++){const r=ut(s[n]);t[n]=Gc(e),t.push(Gc(r.length)),t.push(r0(r)),e+=32+Math.ceil(r.length/32)*32}return Ut(t)}const Qc="0x0000000000000000000000000000000000000000000000000000000000000000";function a0(s){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};S(Vs(s)&gt;=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Lt(s,0,32);S(Lt(e,0,12)===Lt(Qc,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Lt(e,12);try{const n=[],r=it(Lt(s,32,64)),i=it(Lt(s,r,r+32)),o=Lt(s,r+32);for(let a=0;a&lt;i;a++){const l=s0(o,a*32);if(l==null)throw new Error("abort");n.push(l)}t.urls=n}catch{S(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Xa(s,64);if(n==null)throw new Error("abort");t.calldata=n}catch{S(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}S(Lt(s,100,128)===Lt(Qc,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Lt(s,96,100);try{const n=Xa(s,128);if(n==null)throw new Error("abort");t.extraData=n}catch{S(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=&gt;t[n]),t}function _s(s,t){if(s.provider)return s.provider;S(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Vc(s,t){let e=Oo(t);if(e.to!=null&amp;&amp;(e.to=ie(e.to,s)),e.from!=null){const n=e.from;e.from=Promise.all([s.getAddress(),ie(n,s)]).then(([r,i])=&gt;(E(r.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),r))}else e.from=s.getAddress();return await Wt(e)}class l0{constructor(t){k(this,"provider");V(this,{provider:t||null})}async getNonce(t){return _s(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Vc(this,t)}async populateTransaction(t){const e=_s(this,"populateTransaction"),n=await Vc(this,t);n.nonce==null&amp;&amp;(n.nonce=await this.getNonce("pending")),n.gasLimit==null&amp;&amp;(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(n.chainId!=null){const o=G(n.chainId);E(o===r.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=r.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&amp;&amp;(n.type===2||i)?E(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&amp;&amp;i&amp;&amp;E(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&amp;&amp;n.maxFeePerGas!=null&amp;&amp;n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await e.getFeeData();S(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&amp;&amp;(n.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&amp;&amp;o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&amp;&amp;(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&amp;&amp;(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(S(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&amp;&amp;(n.gasPrice=o.gasPrice),n.type=0):S(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&amp;&amp;(n.maxFeePerGas==null&amp;&amp;(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&amp;&amp;(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Wt(n)}async estimateGas(t){return _s(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return _s(this,"call").call(await this.populateCall(t))}async resolveName(t){return await _s(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=_s(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const r=_o.from(n);return await e.broadcastTransaction(await this.signTransaction(r))}}function c0(s){return JSON.parse(JSON.stringify(s))}var ee,Qe,ps,Dn,gs,Sr,Li,qa,Ri,tl;class fh{constructor(t){P(this,Li);P(this,Ri);P(this,ee,void 0);P(this,Qe,void 0);P(this,ps,void 0);P(this,Dn,void 0);P(this,gs,void 0);P(this,Sr,void 0);m(this,ee,t),m(this,Qe,null),m(this,ps,R(this,Li,qa).bind(this)),m(this,Dn,!1),m(this,gs,null),m(this,Sr,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){d(this,Dn)||(m(this,Dn,!0),R(this,Li,qa).call(this,-2))}stop(){d(this,Dn)&amp;&amp;(m(this,Dn,!1),m(this,Sr,!0),R(this,Ri,tl).call(this),d(this,ee).off("block",d(this,ps)))}pause(t){t&amp;&amp;R(this,Ri,tl).call(this),d(this,ee).off("block",d(this,ps))}resume(){this.start()}}ee=new WeakMap,Qe=new WeakMap,ps=new WeakMap,Dn=new WeakMap,gs=new WeakMap,Sr=new WeakMap,Li=new WeakSet,qa=async function(t){try{d(this,Qe)==null&amp;&amp;m(this,Qe,this._subscribe(d(this,ee)));let e=null;try{e=await d(this,Qe)}catch(i){if(!Ce(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){m(this,Qe,null),d(this,ee)._recoverSubscriber(this,this._recover(d(this,ee)));return}const n=await d(this,ee).getNetwork();if(d(this,gs)||m(this,gs,n),d(this,gs).chainId!==n.chainId)throw new Error("chaid changed");if(d(this,Sr))return;const r=await d(this,ee).send("eth_getFilterChanges",[e]);await this._emitResults(d(this,ee),r)}catch(e){console.log("@TODO",e)}d(this,ee).once("block",d(this,ps))},Ri=new WeakSet,tl=function(){const t=d(this,Qe);t&amp;&amp;(m(this,Qe,null),t.then(e=&gt;{d(this,ee).send("eth_uninstallFilter",[e])}))};var ms;class u0 extends fh{constructor(e,n){super(e);P(this,ms,void 0);m(this,ms,c0(n))}_recover(e){return new Al(e,d(this,ms))}async _subscribe(e){return await e.send("eth_newFilter",[d(this,ms)])}async _emitResults(e,n){for(const r of n)e.emit(d(this,ms),e._wrapLog(r,e._network))}}ms=new WeakMap;class f0 extends fh{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const n of e)t.emit("pending",n)}}const h0="bigint,boolean,function,number,string,symbol".split(/,/g);function wo(s){if(s==null||h0.indexOf(typeof s)&gt;=0||typeof s.getAddress=="function")return s;if(Array.isArray(s))return s.map(wo);if(typeof s=="object")return Object.keys(s).reduce((t,e)=&gt;(t[e]=s[e],t),{});throw new Error(`should not happen: ${s} (${typeof s})`)}function d0(s){return new Promise(t=&gt;{setTimeout(t,s)})}function Bs(s){return s&amp;&amp;s.toLowerCase()}function zc(s){return s&amp;&amp;typeof s.pollingInterval=="number"}const p0={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1&lt;&lt;20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class ka extends l0{constructor(e,n){super(e);k(this,"address");n=pt(n),V(this,{address:n})}connect(e){S(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=wo(e),r=[];if(n.from){const o=n.from;r.push((async()=&gt;{const a=await ie(o,this.provider);E(a!=null&amp;&amp;a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&amp;&amp;r.push((async()=&gt;{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=&gt;{n.to=await ie(o,this.provider)})())}r.length&amp;&amp;await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=&gt;{const a=[1e3,100],l=async()=&gt;{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}this.provider._setTimeout(()=&gt;{l()},a.pop()||4e3)};l()})}async signTransaction(e){const n=wo(e);if(n.from){const i=await ie(n.from,this.provider);E(i!=null&amp;&amp;i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?pn(e):e;return await this.provider.send("personal_sign",[$(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=wo(r),o=await Bo.resolveNames(e,n,i,async a=&gt;{const l=await ie(a);return E(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Bo.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?pn(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),$(n)])}}var ys,_r,fn,Ve,_e,hn,Ui,el;class g0 extends n0{constructor(e,n){super(e,n);P(this,Ui);P(this,ys,void 0);P(this,_r,void 0);P(this,fn,void 0);P(this,Ve,void 0);P(this,_e,void 0);P(this,hn,void 0);m(this,_r,1),m(this,ys,Object.assign({},p0,n||{})),m(this,fn,[]),m(this,Ve,null),m(this,hn,null);{let i=null;const o=new Promise(a=&gt;{i=a});m(this,_e,{promise:o,resolve:i})}const r=this._getOption("staticNetwork");r&amp;&amp;(E(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),m(this,hn,r))}_getOption(e){return d(this,ys)[e]}get _network(){return S(d(this,hn),"network is not available yet","NETWORK_ERROR"),d(this,hn)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&amp;&amp;r.type!=null&amp;&amp;G(r.type)&amp;&amp;r.maxFeePerGas==null&amp;&amp;r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&amp;&amp;i.maxPriorityFeePerGas==null&amp;&amp;(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Ke.from(G(await this.send("eth_chainId",[])));const n={id:$r(this,_r)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Ke.from(G(r.result));throw this.getRpcError(n,r)}_start(){d(this,_e)==null||d(this,_e).resolve==null||(d(this,_e).resolve(),m(this,_e,null),(async()=&gt;{for(;d(this,hn)==null&amp;&amp;!this.destroyed;)try{m(this,hn,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Dt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await d0(1e3)}R(this,Ui,el).call(this)})())}async _waitUntilReady(){if(d(this,_e)!=null)return await d(this,_e).promise}_getSubscriber(e){return e.type==="pending"?new f0(this):e.type==="event"?this._getOption("polling")?new Al(this,e.filter):new u0(this,e.filter):e.type==="orphan"&amp;&amp;e.filter.orphan==="drop-log"?new uh("orphan"):super._getSubscriber(e)}get ready(){return d(this,_e)==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=&gt;{if(e[r]==null)return;let i=r;r==="gasLimit"&amp;&amp;(i="gas"),n[i]=Ms(G(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=&gt;{e[r]!=null&amp;&amp;(n[r]=$(e[r]))}),e.accessList&amp;&amp;(n.accessList=Is(e.accessList)),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Bs(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Bs(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Bs(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Bs(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&amp;&amp;e.filter.address!=null&amp;&amp;(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Bs):e.filter.address=Bs(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&amp;&amp;i.message){const l=i.message;if(!l.match(/revert/i)&amp;&amp;l.match(/insufficient funds/i))return Dt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const l=nl(i),c=wi.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],l?l.data:null);return c.info={error:i,payload:e},c}const o=JSON.stringify(w0(i));if(typeof i.message=="string"&amp;&amp;i.message.match(/user denied|ethers-user-denied/i))return Dt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const l=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Dt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(o.match(/nonce/i)&amp;&amp;o.match(/too low/i))return Dt("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(o.match(/replacement transaction/i)&amp;&amp;o.match(/underpriced/i))return Dt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(o.match(/only replay-protected/i))return Dt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:l,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&amp;&amp;i.details&amp;&amp;i.details.startsWith("Unauthorized method:")&amp;&amp;(a=!0),a?Dt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Dt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=$r(this,_r)._++,i=new Promise((o,a)=&gt;{d(this,fn).push({resolve:o,reject:a,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return R(this,Ui,el).call(this),i}async getSigner(e){e==null&amp;&amp;(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e&gt;=i.length)throw new Error("no such account");return new ka(this,i[e])}const{accounts:r}=await Wt({network:this.getNetwork(),accounts:n});e=pt(e);for(const i of r)if(pt(i)===e)return new ka(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=&gt;new ka(this,n))}destroy(){d(this,Ve)&amp;&amp;(clearTimeout(d(this,Ve)),m(this,Ve,null));for(const{payload:e,reject:n}of d(this,fn))n(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));m(this,fn,[]),super.destroy()}}ys=new WeakMap,_r=new WeakMap,fn=new WeakMap,Ve=new WeakMap,_e=new WeakMap,hn=new WeakMap,Ui=new WeakSet,el=function(){if(d(this,Ve))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");m(this,Ve,setTimeout(()=&gt;{m(this,Ve,null);const n=d(this,fn);for(m(this,fn,[]);n.length;){const r=[n.shift()];for(;n.length&amp;&amp;r.length!==d(this,ys).batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=&gt;o.payload)).length&gt;d(this,ys).batchMaxSize){n.unshift(r.pop());break}(async()=&gt;{const i=r.length===1?r[0].payload:r.map(o=&gt;o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of r){if(this.destroyed){l(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(f=&gt;f.id===c.id)[0];if(u==null){const f=Dt("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",f),l(f);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of r)a(o)}})()}},e))};var Mn;class m0 extends g0{constructor(e,n){super(e,n);P(this,Mn,void 0);m(this,Mn,4e3)}_getSubscriber(e){const n=super._getSubscriber(e);return zc(n)&amp;&amp;(n.pollingInterval=d(this,Mn)),n}get pollingInterval(){return d(this,Mn)}set pollingInterval(e){if(!Number.isInteger(e)||e&lt;0)throw new Error("invalid interval");m(this,Mn,e),this._forEachSubscriber(n=&gt;{zc(n)&amp;&amp;(n.pollingInterval=d(this,Mn))})}}Mn=new WeakMap;var Br;class y0 extends m0{constructor(e,n,r){e==null&amp;&amp;(e="http://localhost:8545");super(n,r);P(this,Br,void 0);typeof e=="string"?m(this,Br,new mn(e)):m(this,Br,e.clone())}_getConnection(){return d(this,Br).clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const r=await n.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}Br=new WeakMap;function nl(s){if(s==null)return null;if(typeof s.message=="string"&amp;&amp;s.message.match(/revert/i)&amp;&amp;Bt(s.data))return{message:s.message,data:s.data};if(typeof s=="object"){for(const t in s){const e=nl(s[t]);if(e)return e}return null}if(typeof s=="string")try{return nl(JSON.parse(s))}catch{}return null}function sl(s,t){if(s!=null){if(typeof s.message=="string"&amp;&amp;t.push(s.message),typeof s=="object")for(const e in s)sl(s[e],t);if(typeof s=="string")try{return sl(JSON.parse(s),t)}catch{}}}function w0(s){const t=[];return sl(s,t),t}const zr={};async function A0(s){if(zr[s])return zr[s];try{const e=await(await fetch(`https://api.token-discovery.tokenscript.org/ens/reverse?address=${s}`)).json();zr[s]=(e==null?void 0:e.ensName)??null}catch{zr[s]=null}return zr[s]}async function b0(s){const e=await ia().getPlayInvitesList(BigInt(s.tokenId)),n=vl(e);return console.log("Play requests: ",n),n}async function bl(s){const e=await ia().getFriendsList(BigInt(s.tokenId));return vl(e)}async function v0(s){const e=await ia().getPendingInvitesList(BigInt(s.tokenId));return vl(e)}function vl(s){return Array.from(s).map(([t,e,n,r,i])=&gt;({tokenId:t,tokenUri:e,owner:n,level:r,canPlay:i}))}async function E0(s){const t=ia(),e=await t.getCatInfo2(BigInt(s.tokenId)),n={};({0:n.level,1:n.numFeeds,2:n.lastFeed,3:n.numPlays,4:n.lastPlay,5:n.numCleans,6:n.lastClean,7:n.friends}=e[0]),n.pointsBalance=e[1],n.actionLimitReset=e[2],n.actionLimitCount=e[3],n.friends=Array.from(n.friends);const r=await t.getConfig2(),i=r[0];n.nextFeed=Math.max(Number(n.lastFeed+i[0]),Number(n.actionLimitReset)),n.nextPlay=Math.max(Number(n.lastPlay+i[1]),Number(n.actionLimitReset)),n.nextClean=Math.max(Number(n.lastClean+i[2]),Number(n.actionLimitReset));const o=r[1];return n.levelThresholds={feed:o[0],play:o[1],clean:o[2]},n.maxActions=r[3],console.log("Cat state: ",n),n}function hh(){const s=new Ke("polygon",chainID),t=rpcURL;return new y0(t,s,{staticNetwork:s})}function ia(s){const t=hh(),e="0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F";return new bs(e,[{inputs:[],name:"getConfig2",outputs:[{internalType:"uint256[3]",name:"",type:"uint256[3]"},{internalType:"uint16[3]",name:"",type:"uint16[3]"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCatInfo2",outputs:[{components:[{components:[{internalType:"uint8",name:"level",type:"uint8"},{internalType:"uint16",name:"numFeeds",type:"uint16"},{internalType:"uint256",name:"lastFeed",type:"uint256"},{internalType:"uint16",name:"numPlays",type:"uint16"},{internalType:"uint256",name:"lastPlay",type:"uint256"},{internalType:"uint16",name:"numCleans",type:"uint16"},{internalType:"uint256",name:"lastClean",type:"uint256"},{internalType:"uint256[]",name:"friends",type:"uint256[]"}],internalType:"struct SmartCatProxyV3.CatState",name:"state",type:"tuple"},{internalType:"uint256",name:"pointsBalance",type:"uint256"},{internalType:"uint256",name:"actionLimitReset",type:"uint256"},{internalType:"uint16",name:"actionLimitCount",type:"uint16"}],internalType:"struct SmartCatProxyV3.CatInfo2",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPlayInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getFriendsList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPendingInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCatProxyV3.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],t)}function dh(){const s=hh(),t="0x70F6aCb098d57917CD46e8c647fa9c45800D29f2";return new bs(t,[{inputs:[],name:"mintStartTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokensMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],s)}function k0(s){let t,e,n,r,i,o,a;return{c(){t=A("div"),e=A("div"),n=N(),r=A("img"),b(e,"class","shimmer svelte-1iuqlfv"),U(e,"display",s[1]?"none":"block"),b(r,"alt","cat"),ke(r.src,i=s[0])||b(r,"src",i),b(r,"class","svelte-1iuqlfv"),b(t,"class","cat-list-image svelte-1iuqlfv")},m(l,c){O(l,t,c),p(t,e),p(t,n),p(t,r),o||(a=Pt(r,"load",s[3]),o=!0)},p(l,[c]){c&amp;2&amp;&amp;U(e,"display",l[1]?"none":"block"),c&amp;1&amp;&amp;!ke(r.src,i=l[0])&amp;&amp;b(r,"src",i)},i:z,o:z,d(l){l&amp;&amp;B(t),o=!1,a()}}}function C0(s,t,e){let{tokenUri:n}=t,r,i=!1;xs(async()=&gt;{try{const a=await(await fetch(n,{headers:{"Content-type":"text/plain"}})).json();e(0,r=a.image)}catch{}});const o=()=&gt;e(1,i=!0);return s.$$set=a=&gt;{"tokenUri"in a&amp;&amp;e(2,n=a.tokenUri)},[r,i,n,o]}class Ji extends bt{constructor(t){super(),At(this,t,C0,k0,mt,{tokenUri:2})}}function P0(s){let t,e,n,r=(s[1]?`${s[1]} (${s[0]})`:s[0])+"",i;return{c(){t=A("small"),e=J("Owner: "),n=A("span"),i=J(r),b(t,"class","eth-address"),b(t,"title",s[0])},m(o,a){O(o,t,a),p(t,e),p(t,n),p(n,i)},p(o,[a]){a&amp;3&amp;&amp;r!==(r=(o[1]?`${o[1]} (${o[0]})`:o[0])+"")&amp;&amp;vt(i,r),a&amp;1&amp;&amp;b(t,"title",o[0])},i:z,o:z,d(o){o&amp;&amp;B(t)}}}function x0(s,t,e){let{address:n}=t,r;return xs(async()=&gt;{const i=await A0(n);i&amp;&amp;e(1,r=i)}),s.$$set=i=&gt;{"address"in i&amp;&amp;e(0,n=i.address)},[n,r]}class Ki extends bt{constructor(t){super(),At(this,t,x0,P0,mt,{address:0})}}function Jc(s){let t;return{c(){t=A("div"),t.innerHTML='&lt;div class="lds-ring svelte-i4cppe"&gt;&lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt; &lt;div class="svelte-i4cppe"&gt;&lt;/div&gt;&lt;/div&gt;',b(t,"class","loader-container svelte-i4cppe")},m(e,n){O(e,t,n)},d(e){e&amp;&amp;B(t)}}}function I0(s){let t,e=s[0]&amp;&amp;Jc();return{c(){e&amp;&amp;e.c(),t=wn()},m(n,r){e&amp;&amp;e.m(n,r),O(n,t,r)},p(n,[r]){n[0]?e||(e=Jc(),e.c(),e.m(t.parentNode,t)):e&amp;&amp;(e.d(1),e=null)},i:z,o:z,d(n){n&amp;&amp;B(t),e&amp;&amp;e.d(n)}}}function N0(s,t,e){let{show:n}=t;return s.$$set=r=&gt;{"show"in r&amp;&amp;e(0,n=r.show)},[n]}class Fr extends bt{constructor(t){super(),At(this,t,N0,I0,mt,{show:0})}}function T0(s){let t,e,n,r,i,o,a,l;return{c(){t=A("div"),e=A("span"),n=J(s[1]),r=J(" / "),i=J(s[0]),o=N(),a=A("div"),l=A("div"),b(e,"class","progress-text svelte-7mdbmt"),b(l,"class","progress-inner svelte-7mdbmt"),U(l,"width",Math.min(Math.round(parseInt(s[1])/parseInt(s[0])*100),100)+"%"),b(a,"class","progress-bar svelte-7mdbmt"),b(t,"class","progress-contain svelte-7mdbmt")},m(c,u){O(c,t,u),p(t,e),p(e,n),p(e,r),p(e,i),p(t,o),p(t,a),p(a,l)},p(c,[u]){u&amp;2&amp;&amp;vt(n,c[1]),u&amp;1&amp;&amp;vt(i,c[0]),u&amp;3&amp;&amp;U(l,"width",Math.min(Math.round(parseInt(c[1])/parseInt(c[0])*100),100)+"%")},i:z,o:z,d(c){c&amp;&amp;B(t)}}}function S0(s,t,e){let{threshold:n}=t,{total:r}=t;return s.$$set=i=&gt;{"threshold"in i&amp;&amp;e(0,n=i.threshold),"total"in i&amp;&amp;e(1,r=i.total)},[n,r]}class Ca extends bt{constructor(t){super(),At(this,t,S0,T0,mt,{threshold:0,total:1})}}const Kc={1:"Curious Whisker",2:"Clever Purrer",3:"Savvy Seer",4:"Intellectual Prodigy",5:"Genius Trailblazer",6:"Enlightened Guru",7:"Sage Supreme",8:"Infinite Brilliance",9:"Academicat",10:"Paw-sitively Wise",11:"Purrful Puzzler",12:"Great Catsby",13:"Lazer Chaser",14:"Meowowsaurus",15:"Feline Supreme",16:"Colonel Meow",17:"Pounce King",18:"Mystic Meowster",19:"Quantum Leapurr",20:"Catzilla"},Jn=s=&gt;s+(Kc[s]?" - "+Kc[s]:"");function jc(s,t,e){const n=s.slice();return n[6]=t[e],n}const _0=s=&gt;({friend:s&amp;2}),Wc=s=&gt;({friend:s[6]});function Yc(s){let t;const e=s[4].default,n=Vo(e,s,s[3],Wc);return{c(){n&amp;&amp;n.c()},m(r,i){n&amp;&amp;n.m(r,i),t=!0},p(r,i){n&amp;&amp;n.p&amp;&amp;(!t||i&amp;10)&amp;&amp;Jo(n,e,r,r[3],t?zo(e,r[3],i,_0):Ko(r[3]),Wc)},i(r){t||(T(n,r),t=!0)},o(r){_(n,r),t=!1},d(r){n&amp;&amp;n.d(r)}}}function Zc(s){let t,e,n,r;return{c(){t=A("div"),e=A("button"),e.textContent="Load More",b(e,"class","load-more-btn svelte-1ql4qcj"),b(t,"class","btn-container svelte-1ql4qcj")},m(i,o){O(i,t,o),p(t,e),n||(r=Pt(e,"click",s[5]),n=!0)},p:z,d(i){i&amp;&amp;B(t),n=!1,r()}}}function B0(s){let t,e,n,r=je(s[1]),i=[];for(let l=0;l&lt;r.length;l+=1)i[l]=Yc(jc(s,r,l));const o=l=&gt;_(i[l],1,1,()=&gt;{i[l]=null});let a=s[1].length&lt;s[0].length&amp;&amp;Zc(s);return{c(){t=A("div");for(let l=0;l&lt;i.length;l+=1)i[l].c();e=N(),a&amp;&amp;a.c(),b(t,"class","cat-list")},m(l,c){O(l,t,c);for(let u=0;u&lt;i.length;u+=1)i[u]&amp;&amp;i[u].m(t,null);p(t,e),a&amp;&amp;a.m(t,null),n=!0},p(l,[c]){if(c&amp;10){r=je(l[1]);let u;for(u=0;u&lt;r.length;u+=1){const f=jc(l,r,u);i[u]?(i[u].p(f,c),T(i[u],1)):(i[u]=Yc(f),i[u].c(),T(i[u],1),i[u].m(t,e))}for(It(),u=r.length;u&lt;i.length;u+=1)o(u);Nt()}l[1].length&lt;l[0].length?a?a.p(l,c):(a=Zc(l),a.c(),a.m(t,null)):a&amp;&amp;(a.d(1),a=null)},i(l){if(!n){for(let c=0;c&lt;r.length;c+=1)T(i[c]);n=!0}},o(l){i=i.filter(Boolean);for(let c=0;c&lt;i.length;c+=1)_(i[c]);n=!1},d(l){l&amp;&amp;B(t),Fi(i,l),a&amp;&amp;a.d()}}}function O0(s,t,e){let{$$slots:n={},$$scope:r}=t,{friendsList:i=[]}=t,o=[];xs(()=&gt;{a(5)});function a(c){const u=o.length,f=u+c,h=o;for(let g=u;g&lt;f&amp;&amp;g&lt;i.length;g++)h.push(i[g]);e(1,o=h)}const l=()=&gt;a(10);return s.$$set=c=&gt;{"friendsList"in c&amp;&amp;e(0,i=c.friendsList),"$$scope"in c&amp;&amp;e(3,r=c.$$scope)},[i,o,a,r,n,l]}class ph extends bt{constructor(t){super(),At(this,t,O0,B0,mt,{friendsList:0})}}function L0(s){let t,e;return{c(){t=new Ph(!1),e=wn(),t.a=e},m(n,r){t.m(s[0],n,r),O(n,e,r)},p(n,[r]){r&amp;1&amp;&amp;t.p(n[0])},i:z,o:z,d(n){n&amp;&amp;(B(e),t.d())}}}function R0(s,t,e){let{epochMs:n}=t,r,i="-",o;xs(()=&gt;{o=setInterval(()=&gt;{r=Date.now(),a()},1e3)});function a(){if(n&lt;r){e(0,i='&lt;span style="color: #D93F45;"&gt;Now&lt;/span&gt;'),clearInterval(o);return}const l=new Date(n),c=l.getDate()===new Date(r).getDate(),u=n-r,f=Math.floor(u/1e3),h=Math.floor(f/60),g=Math.floor(h/60),y=f%60,w=h%60;e(0,i=`
			&lt;span style="color: ${c?"#FFC759":"#000"};" title="${l.toLocaleString()}"&gt;
				${(g&lt;10?"0":"")+g}:${(w&lt;10?"0":"")+w}:${(y&lt;10?"0":"")+y}
			&lt;/span&gt;
		`)}return jo(()=&gt;{clearInterval(o)}),s.$$set=l=&gt;{"epochMs"in l&amp;&amp;e(1,n=l.epochMs)},[i,n]}class Pa extends bt{constructor(t){super(),At(this,t,R0,L0,mt,{epochMs:1})}}function U0(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v,x,C;return c=new Di({props:{imageUrl:s[0].image_preview_url}}),{c(){t=A("div"),e=A("h4"),e.textContent="Click below to Choose your sharing goals and gain followers",n=N(),r=A("div"),i=A("div"),i.innerHTML='&lt;img class="share-image svelte-17dj48s" alt="letter" src="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/opened-letter.png" crossorigin=""/&gt; &lt;h5 class="svelte-17dj48s"&gt;Find playdate mates and make new friends&lt;/h5&gt; &lt;p class="svelte-17dj48s"&gt;Share your Microchip ID with other SmartCat owners to find playdates&lt;/p&gt;',o=N(),a=A("div"),l=A("div"),Z(c.$$.fragment),u=N(),f=A("h5"),f.textContent="Show off your kitten",h=N(),g=A("p"),g.textContent="Share a picture of your cat like a proud owner and get othersâ€™ opinion",y=N(),w=A("div"),w.innerHTML='&lt;img class="share-image svelte-17dj48s" alt="rubix cube" src="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/rubix-cube.png" crossorigin=""/&gt; &lt;h5 class="svelte-17dj48s"&gt;Impress with your Smartness&lt;/h5&gt; &lt;p class="svelte-17dj48s"&gt;Let the community know how smart your cat has become&lt;/p&gt;',b(e,"class","share-header svelte-17dj48s"),b(i,"class","share-option svelte-17dj48s"),b(l,"class","share-image svelte-17dj48s"),b(f,"class","svelte-17dj48s"),b(g,"class","svelte-17dj48s"),b(a,"class","share-option svelte-17dj48s"),b(w,"class","share-option svelte-17dj48s"),b(r,"class","share-list svelte-17dj48s"),b(t,"class","share-container svelte-17dj48s")},m(I,L){O(I,t,L),p(t,e),p(t,n),p(t,r),p(r,i),p(r,o),p(r,a),p(a,l),j(c,l,null),p(a,u),p(a,f),p(a,h),p(a,g),p(r,y),p(r,w),s[10](r),v=!0,x||(C=[Pt(i,"click",s[7]),Pt(a,"click",s[8]),Pt(w,"click",s[9]),Pt(r,"mousemove",s[4]),Pt(r,"mousedown",s[2]),Pt(r,"mouseup",s[3]),Pt(r,"mouseleave",s[3])],x=!0)},p(I,[L]){const H={};L&amp;1&amp;&amp;(H.imageUrl=I[0].image_preview_url),c.$set(H)},i(I){v||(T(c.$$.fragment,I),v=!0)},o(I){_(c.$$.fragment,I),v=!1},d(I){I&amp;&amp;B(t),W(c),s[10](null),x=!1,Kn(C)}}}const Xc="https://opensea.io/assets/matic/0xd5ca946ac1c1f24eb26dae9e1a53ba6a02bd97fe/";function F0(s,t,e){let{token:n}=t,{catState:r}=t,i=!1,o,a,l,c=!1;const u=C=&gt;{C.stopPropagation(),C.preventDefault(),i=!0,o=C.pageX-l.offsetLeft,a=l.scrollLeft,c=!1},f=C=&gt;{C.stopPropagation(),C.preventDefault(),i=!1},h=C=&gt;{if(C.stopPropagation(),C.preventDefault(),!i)return;const L=C.pageX-l.offsetLeft-o;e(1,l.scrollLeft=a-L,l),c=!0},g=C=&gt;{if(c)return;let I;switch(C){case"play":I=`Meow Meow ðŸ˜º! My #smartcat is lonely. Cat #${n.tokenId} is looking for a playdate. Please invite me.`;break;case"show":I=`Meow Meow ðŸ˜º! Who have I not followed? Letâ€™s connect &amp; Follow each other on X ${Xc}${n.tokenId}`;break;case"impress":I=`Meow Meow ðŸ˜º! My #smartcat #${n.tokenId} is now on level ${n.level} and has collected ${r.pointsBalance} #smartlayer points! Check it out: ${Xc}${n.tokenId}`;break}window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(I)}`,"_blank")},y=()=&gt;g("play"),w=()=&gt;g("show"),v=()=&gt;g("impress");function x(C){Na[C?"unshift":"push"](()=&gt;{l=C,e(1,l)})}return s.$$set=C=&gt;{"token"in C&amp;&amp;e(0,n=C.token),"catState"in C&amp;&amp;e(6,r=C.catState)},[n,l,u,f,h,g,r,y,w,v,x]}class D0 extends bt{constructor(t){super(),At(this,t,F0,U0,mt,{token:0,catState:6})}}function qc(s){let t,e;return t=new D0({props:{token:s[0],catState:s[1]}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;1&amp;&amp;(i.token=n[0]),r&amp;2&amp;&amp;(i.catState=n[1]),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function tu(s){let t,e,n,r,i,o=s[1].actionLimitCount+"",a,l,c=s[1].maxActions+"",u,f,h,g,y,w,v,x,C,I,L,H,X,et,F,Q,st,ot,kt,Ct,yt,Ft,rt,lt,q,nt,Et,at,tt,wt,Mr,ft,Ot,We;return H=new Pa({props:{epochMs:s[1].nextFeed*1e3}}),F=new Ca({props:{total:Os(s[1].numFeeds,s[1].level,s[1].levelThresholds.feed),threshold:s[1].level&lt;15?s[1].levelThresholds.feed:Number(s[1].levelThresholds.feed)*3}}),yt=new Pa({props:{epochMs:s[1].nextClean*1e3}}),lt=new Ca({props:{total:Os(s[1].numCleans,s[1].level,s[1].levelThresholds.clean),threshold:s[1].level&lt;15?s[1].levelThresholds.clean:Number(s[1].levelThresholds.clean)*3}}),wt=new Pa({props:{epochMs:s[1].nextPlay*1e3}}),Ot=new Ca({props:{total:Os(s[1].numPlays,s[1].level,s[1].levelThresholds.play),threshold:s[1].level&lt;15?s[1].levelThresholds.play:Number(s[1].levelThresholds.play)*3}}),{c(){t=A("div"),e=A("div"),n=A("h3"),n.textContent="Today's duties",r=N(),i=A("div"),a=J(o),l=J(" / "),u=J(c),f=N(),h=A("table"),g=A("colgroup"),g.innerHTML='&lt;col style="width:30%"/&gt; &lt;col style="width:30%"/&gt; &lt;col style="width:40%"/&gt;',y=N(),w=A("thead"),w.innerHTML='&lt;tr&gt;&lt;th&gt;Task&lt;/th&gt; &lt;th&gt;Due date&lt;/th&gt; &lt;th style="text-align: right;"&gt;Level up&lt;/th&gt;&lt;/tr&gt;',v=N(),x=A("tr"),C=A("td"),C.textContent="Feed",I=N(),L=A("td"),Z(H.$$.fragment),X=N(),et=A("td"),Z(F.$$.fragment),Q=N(),st=A("tr"),ot=A("td"),ot.textContent="Clean",kt=N(),Ct=A("td"),Z(yt.$$.fragment),Ft=N(),rt=A("td"),Z(lt.$$.fragment),q=N(),nt=A("tr"),Et=A("td"),Et.textContent="Playdates",at=N(),tt=A("td"),Z(wt.$$.fragment),Mr=N(),ft=A("td"),Z(Ot.$$.fragment),b(n,"class","task-header svelte-uinh42"),b(i,"class","action-limits svelte-uinh42"),b(e,"class","task-header-wrapper svelte-uinh42"),b(w,"class","svelte-uinh42"),b(C,"class","svelte-uinh42"),b(L,"class","svelte-uinh42"),U(et,"text-align","right"),b(et,"class","svelte-uinh42"),b(ot,"class","svelte-uinh42"),b(Ct,"class","svelte-uinh42"),U(rt,"text-align","right"),b(rt,"class","svelte-uinh42"),b(Et,"class","svelte-uinh42"),b(tt,"class","svelte-uinh42"),U(ft,"text-align","right"),b(ft,"class","svelte-uinh42"),b(h,"class","task-table svelte-uinh42"),b(t,"class","info-container svelte-uinh42")},m(Y,Qt){O(Y,t,Qt),p(t,e),p(e,n),p(e,r),p(e,i),p(i,a),p(i,l),p(i,u),p(t,f),p(t,h),p(h,g),p(h,y),p(h,w),p(h,v),p(h,x),p(x,C),p(x,I),p(x,L),j(H,L,null),p(x,X),p(x,et),j(F,et,null),p(h,Q),p(h,st),p(st,ot),p(st,kt),p(st,Ct),j(yt,Ct,null),p(st,Ft),p(st,rt),j(lt,rt,null),p(h,q),p(h,nt),p(nt,Et),p(nt,at),p(nt,tt),j(wt,tt,null),p(nt,Mr),p(nt,ft),j(Ot,ft,null),We=!0},p(Y,Qt){(!We||Qt&amp;2)&amp;&amp;o!==(o=Y[1].actionLimitCount+"")&amp;&amp;vt(a,o),(!We||Qt&amp;2)&amp;&amp;c!==(c=Y[1].maxActions+"")&amp;&amp;vt(u,c);const Hr={};Qt&amp;2&amp;&amp;(Hr.epochMs=Y[1].nextFeed*1e3),H.$set(Hr);const oa={};Qt&amp;2&amp;&amp;(oa.total=Os(Y[1].numFeeds,Y[1].level,Y[1].levelThresholds.feed)),Qt&amp;2&amp;&amp;(oa.threshold=Y[1].level&lt;15?Y[1].levelThresholds.feed:Number(Y[1].levelThresholds.feed)*3),F.$set(oa);const Pl={};Qt&amp;2&amp;&amp;(Pl.epochMs=Y[1].nextClean*1e3),yt.$set(Pl);const aa={};Qt&amp;2&amp;&amp;(aa.total=Os(Y[1].numCleans,Y[1].level,Y[1].levelThresholds.clean)),Qt&amp;2&amp;&amp;(aa.threshold=Y[1].level&lt;15?Y[1].levelThresholds.clean:Number(Y[1].levelThresholds.clean)*3),lt.$set(aa);const xl={};Qt&amp;2&amp;&amp;(xl.epochMs=Y[1].nextPlay*1e3),wt.$set(xl);const la={};Qt&amp;2&amp;&amp;(la.total=Os(Y[1].numPlays,Y[1].level,Y[1].levelThresholds.play)),Qt&amp;2&amp;&amp;(la.threshold=Y[1].level&lt;15?Y[1].levelThresholds.play:Number(Y[1].levelThresholds.play)*3),Ot.$set(la)},i(Y){We||(T(H.$$.fragment,Y),T(F.$$.fragment,Y),T(yt.$$.fragment,Y),T(lt.$$.fragment,Y),T(wt.$$.fragment,Y),T(Ot.$$.fragment,Y),We=!0)},o(Y){_(H.$$.fragment,Y),_(F.$$.fragment,Y),_(yt.$$.fragment,Y),_(lt.$$.fragment,Y),_(wt.$$.fragment,Y),_(Ot.$$.fragment,Y),We=!1},d(Y){Y&amp;&amp;B(t),W(H),W(F),W(yt),W(lt),W(wt),W(Ot)}}}function eu(s){let t,e,n,r=s[2].length?`(${s[2].length})`:"",i,o,a,l,c;const u=[H0,M0],f=[];function h(g,y){return g[2].length?0:1}return a=h(s),l=f[a]=u[a](s),{c(){t=A("div"),e=A("h3"),n=J("Friends "),i=J(r),o=N(),l.c(),U(e,"font-size","18px"),U(e,"margin-top","0"),b(t,"class","info-container svelte-uinh42")},m(g,y){O(g,t,y),p(t,e),p(e,n),p(e,i),p(t,o),f[a].m(t,null),c=!0},p(g,y){(!c||y&amp;4)&amp;&amp;r!==(r=g[2].length?`(${g[2].length})`:"")&amp;&amp;vt(i,r);let w=a;a=h(g),a===w?f[a].p(g,y):(It(),_(f[w],1,1,()=&gt;{f[w]=null}),Nt(),l=f[a],l?l.p(g,y):(l=f[a]=u[a](g),l.c()),T(l,1),l.m(t,null))},i(g){c||(T(l),c=!0)},o(g){_(l),c=!1},d(g){g&amp;&amp;B(t),f[a].d()}}}function M0(s){let t,e;return{c(){t=A("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=A("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){O(n,t,r),O(n,e,r)},p:z,i:z,o:z,d(n){n&amp;&amp;(B(t),B(e))}}}function H0(s){let t,e;return t=new ph({props:{friendsList:s[2],$$slots:{default:[$0,({friend:n})=&gt;({7:n}),({friend:n})=&gt;n?128:0]},$$scope:{ctx:s}}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;4&amp;&amp;(i.friendsList=n[2]),r&amp;384&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function $0(s){let t,e,n,r,i,o,a,l=s[7].tokenId+"",c,u,f,h=Jn(s[7].level)+"",g,y,w,v,x;return e=new Ji({props:{tokenUri:s[7].tokenUri}}),v=new Ki({props:{address:s[7].owner}}),{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("h4"),a=J("#"),c=J(l),u=N(),f=A("span"),g=J(h),y=N(),w=A("div"),Z(v.$$.fragment),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item"),U(t,"cursor","unset")},m(C,I){O(C,t,I),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(r,y),p(r,w),j(v,w,null),x=!0},p(C,I){const L={};I&amp;128&amp;&amp;(L.tokenUri=C[7].tokenUri),e.$set(L),(!x||I&amp;128)&amp;&amp;l!==(l=C[7].tokenId+"")&amp;&amp;vt(c,l),(!x||I&amp;128)&amp;&amp;h!==(h=Jn(C[7].level)+"")&amp;&amp;vt(g,h);const H={};I&amp;128&amp;&amp;(H.address=C[7].owner),v.$set(H)},i(C){x||(T(e.$$.fragment,C),T(v.$$.fragment,C),x=!0)},o(C){_(e.$$.fragment,C),_(v.$$.fragment,C),x=!1},d(C){C&amp;&amp;B(t),W(e),W(v)}}}function G0(s){let t,e,n,r,i,o,a,l,c=Jn(s[0].level)+"",u,f,h,g,y,w,v=(s[1]?s[1].pointsBalance:"-")+"",x,C,I,L,H,X,et,F,Q,st,ot,kt,Ct,yt,Ft,rt,lt;e=new Qh({});let q=s[4]&amp;&amp;qc(s),nt=s[1]&amp;&amp;tu(s),Et=s[2]&amp;&amp;eu(s);return yt=new Fr({props:{show:s[3]}}),{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("label"),o.textContent="Smart level",a=N(),l=A("span"),u=J(c),f=N(),h=A("div"),g=A("label"),g.textContent="SmartLayer Points",y=N(),w=A("span"),x=J(v),C=N(),I=A("div"),L=A("div"),L.innerHTML='&lt;a href="https://www.smartlayer.network/smartcat/suitup/browse" target="_blank"&gt;View&lt;/a&gt;',H=N(),X=A("div"),et=A("div"),et.textContent="Share on X",Q=N(),q&amp;&amp;q.c(),st=N(),ot=A("div"),nt&amp;&amp;nt.c(),kt=N(),Et&amp;&amp;Et.c(),Ct=N(),Z(yt.$$.fragment),b(i,"class","score-box"),U(i,"flex","50%"),b(h,"class","score-box"),U(h,"flex","50%"),U(r,"display","flex"),U(r,"gap","8px"),U(r,"margin-top","24px"),b(L,"class","link-button svelte-uinh42"),U(L,"flex","50%"),b(X,"class",F="link-button "+(s[4]?"opened":"")+" svelte-uinh42"),U(X,"flex","50%"),U(I,"display","flex"),U(I,"gap","8px"),U(I,"margin","24px 0"),U(t,"padding","10px 10px 0")},m(at,tt){O(at,t,tt),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(i,a),p(i,l),p(l,u),p(r,f),p(r,h),p(h,g),p(h,y),p(h,w),p(w,x),p(t,C),p(t,I),p(I,L),p(I,H),p(I,X),p(X,et),O(at,Q,tt),q&amp;&amp;q.m(at,tt),O(at,st,tt),O(at,ot,tt),nt&amp;&amp;nt.m(ot,null),p(ot,kt),Et&amp;&amp;Et.m(ot,null),p(ot,Ct),j(yt,ot,null),Ft=!0,rt||(lt=Pt(et,"click",s[5]),rt=!0)},p(at,[tt]){(!Ft||tt&amp;1)&amp;&amp;c!==(c=Jn(at[0].level)+"")&amp;&amp;vt(u,c),(!Ft||tt&amp;2)&amp;&amp;v!==(v=(at[1]?at[1].pointsBalance:"-")+"")&amp;&amp;vt(x,v),(!Ft||tt&amp;16&amp;&amp;F!==(F="link-button "+(at[4]?"opened":"")+" svelte-uinh42"))&amp;&amp;b(X,"class",F),at[4]?q?(q.p(at,tt),tt&amp;16&amp;&amp;T(q,1)):(q=qc(at),q.c(),T(q,1),q.m(st.parentNode,st)):q&amp;&amp;(It(),_(q,1,1,()=&gt;{q=null}),Nt()),at[1]?nt?(nt.p(at,tt),tt&amp;2&amp;&amp;T(nt,1)):(nt=tu(at),nt.c(),T(nt,1),nt.m(ot,kt)):nt&amp;&amp;(It(),_(nt,1,1,()=&gt;{nt=null}),Nt()),at[2]?Et?(Et.p(at,tt),tt&amp;4&amp;&amp;T(Et,1)):(Et=eu(at),Et.c(),T(Et,1),Et.m(ot,Ct)):Et&amp;&amp;(It(),_(Et,1,1,()=&gt;{Et=null}),Nt());const wt={};tt&amp;8&amp;&amp;(wt.show=at[3]),yt.$set(wt)},i(at){Ft||(T(e.$$.fragment,at),T(q),T(nt),T(Et),T(yt.$$.fragment,at),Ft=!0)},o(at){_(e.$$.fragment,at),_(q),_(nt),_(Et),_(yt.$$.fragment,at),Ft=!1},d(at){at&amp;&amp;(B(t),B(Q),B(st),B(ot)),W(e),q&amp;&amp;q.d(at),nt&amp;&amp;nt.d(),Et&amp;&amp;Et.d(),W(yt),rt=!1,lt()}}}function Os(s,t,e){const n=Number(t)-1,r=t&gt;14?14:n,i=t&gt;14?n-14:0;return Number(s)-Number(e)*r-Number(e)*i*3}function Q0(s,t,e){let n,r=null,i=null,o=!0,a=!1;const l=async()=&gt;{try{r||e(1,r=await E0(n)),i||e(2,i=await bl(n))}catch(u){console.error(u),alert("Failed to load cat info: "+u.message)}e(3,o=!1)};return qt.data.subscribe(async u=&gt;{u.token&amp;&amp;(e(0,n=u.token),await l())}),[n,r,i,o,a,()=&gt;e(4,a=!a)]}class V0 extends bt{constructor(t){super(),At(this,t,Q0,G0,mt,{})}}function z0(s){let t;return{c(){t=A("h1"),t.textContent="404"},m(e,n){O(e,t,n)},p:z,i:z,o:z,d(e){e&amp;&amp;B(t)}}}class J0 extends bt{constructor(t){super(),At(this,t,null,z0,mt,{})}}function K0(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y;return{c(){t=A("div"),e=A("div"),n=A("img"),i=N(),o=A("img"),c=N(),u=A("h3"),u.textContent="Your cat is starving!",f=N(),h=A("p"),h.textContent="Feed him something tasty to keep him happy!",b(n,"class","gif svelte-ygkdxn"),b(n,"alt","smart food"),ke(n.src,r="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.gif")||b(n,"src",r),b(o,"class","static svelte-ygkdxn"),b(o,"alt","smart food"),ke(o.src,a="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.png")||b(o,"src",a),b(e,"class",l="gif-container "+(s[0]?"play":"")+" svelte-ygkdxn")},m(w,v){O(w,t,v),p(t,e),p(e,n),p(e,i),p(e,o),p(t,c),p(t,u),p(t,f),p(t,h),g||(y=Pt(window,"message",s[1]),g=!0)},p(w,[v]){v&amp;1&amp;&amp;l!==(l="gif-container "+(w[0]?"play":"")+" svelte-ygkdxn")&amp;&amp;b(e,"class",l)},i:z,o:z,d(w){w&amp;&amp;B(t),g=!1,y()}}}function j0(s,t,e){let n=!1;return[n,i=&gt;{var o,a,l;if(((o=i.data)==null?void 0:o.method)==="transactionEvent")switch((l=(a=i.data)==null?void 0:a.params)==null?void 0:l.status){case"started":e(0,n=!0);break;case"error":e(0,n=!1);break}}]}class W0 extends bt{constructor(t){super(),At(this,t,j0,K0,mt,{})}}function Y0(s){let t,e,n;return{c(){t=A("button"),t.textContent="Share on X (Twitter)",b(t,"class","primary-btn invite-btn")},m(r,i){O(r,t,i),e||(n=Pt(t,"click",s[1]),e=!0)},p:z,i:z,o:z,d(r){r&amp;&amp;B(t),e=!1,n()}}}function Z0(s,t,e){let{tokenId:n}=t;const r=()=&gt;{const i=`Meow Meow ðŸ˜º! My #smartcat is lonely. Cat #${n} is looking for a playdate. Please invite me.`;window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(i)}`,"_blank")};return s.$$set=i=&gt;{"tokenId"in i&amp;&amp;e(0,n=i.tokenId)},[n,r]}class gh extends bt{constructor(t){super(),At(this,t,Z0,Y0,mt,{tokenId:0})}}function nu(s,t,e){const n=s.slice();return n[7]=t[e],n}function su(s){let t=s[1].length&gt;0&amp;&amp;!s[1].find(ou),e,n,r,i,o,a=t&amp;&amp;ru();const l=[q0,X0],c=[];function u(f,h){return f[1].length?0:1}return n=u(s),r=c[n]=l[n](s),{c(){a&amp;&amp;a.c(),e=N(),r.c(),i=wn()},m(f,h){a&amp;&amp;a.m(f,h),O(f,e,h),c[n].m(f,h),O(f,i,h),o=!0},p(f,h){h&amp;2&amp;&amp;(t=f[1].length&gt;0&amp;&amp;!f[1].find(ou)),t?a||(a=ru(),a.c(),a.m(e.parentNode,e)):a&amp;&amp;(a.d(1),a=null);let g=n;n=u(f),n===g?c[n].p(f,h):(It(),_(c[g],1,1,()=&gt;{c[g]=null}),Nt(),r=c[n],r?r.p(f,h):(r=c[n]=l[n](f),r.c()),T(r,1),r.m(i.parentNode,i))},i(f){o||(T(r),o=!0)},o(f){_(r),o=!1},d(f){f&amp;&amp;(B(e),B(i)),a&amp;&amp;a.d(f),c[n].d(f)}}}function ru(s){let t;return{c(){t=A("p"),t.textContent="All cats are too tired to play at the moment, check back later."},m(e,n){O(e,t,n)},d(e){e&amp;&amp;B(t)}}}function X0(s){let t,e,n,r,i,o;return i=new gh({props:{tokenId:s[0].tokenId}}),{c(){t=A("h5"),t.textContent="You don't have any play requests yet",e=N(),n=A("p"),n.textContent="Share your microchip ID with other owners or request a playdate using another microchip ID",r=N(),Z(i.$$.fragment),b(n,"class","light")},m(a,l){O(a,t,l),O(a,e,l),O(a,n,l),O(a,r,l),j(i,a,l),o=!0},p(a,l){const c={};l&amp;1&amp;&amp;(c.tokenId=a[0].tokenId),i.$set(c)},i(a){o||(T(i.$$.fragment,a),o=!0)},o(a){_(i.$$.fragment,a),o=!1},d(a){a&amp;&amp;(B(t),B(e),B(n),B(r)),W(i,a)}}}function q0(s){let t,e,n=je(s[1]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=iu(nu(s,n,o));const i=o=&gt;_(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=A("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){O(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;22){n=je(o[1]);let l;for(l=0;l&lt;n.length;l+=1){const c=nu(o,n,l);r[l]?(r[l].p(c,a),T(r[l],1)):(r[l]=iu(c),r[l].c(),T(r[l],1),r[l].m(t,null))}for(It(),l=n.length;l&lt;r.length;l+=1)i(l);Nt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)T(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)_(r[a]);e=!1},d(o){o&amp;&amp;B(t),Fi(r,o)}}}function iu(s){let t,e,n,r,i,o,a,l=s[7].tokenId+"",c,u,f,h=Jn(s[7].level)+"",g,y,w,v,x,C,I,L,H,X;e=new Ji({props:{tokenUri:s[7].tokenUri}}),v=new Ki({props:{address:s[7].owner}});function et(){return s[5](s[7])}return{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("h4"),a=J("#"),c=J(l),u=N(),f=A("span"),g=J(h),y=N(),w=A("div"),Z(v.$$.fragment),x=N(),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class",C="cat-list-item "+(s[7].canPlay?"":"cant-play")+" "+(s[2]===s[7].tokenId?"selected":"")),b(t,"title",I=s[7].canPlay?"":"This cat is too tired to play")},m(F,Q){O(F,t,Q),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(r,y),p(r,w),j(v,w,null),p(t,x),L=!0,H||(X=Pt(t,"click",et),H=!0)},p(F,Q){s=F;const st={};Q&amp;2&amp;&amp;(st.tokenUri=s[7].tokenUri),e.$set(st),(!L||Q&amp;2)&amp;&amp;l!==(l=s[7].tokenId+"")&amp;&amp;vt(c,l),(!L||Q&amp;2)&amp;&amp;h!==(h=Jn(s[7].level)+"")&amp;&amp;vt(g,h);const ot={};Q&amp;2&amp;&amp;(ot.address=s[7].owner),v.$set(ot),(!L||Q&amp;6&amp;&amp;C!==(C="cat-list-item "+(s[7].canPlay?"":"cant-play")+" "+(s[2]===s[7].tokenId?"selected":"")))&amp;&amp;b(t,"class",C),(!L||Q&amp;2&amp;&amp;I!==(I=s[7].canPlay?"":"This cat is too tired to play"))&amp;&amp;b(t,"title",I)},i(F){L||(T(e.$$.fragment,F),T(v.$$.fragment,F),L=!0)},o(F){_(e.$$.fragment,F),_(v.$$.fragment,F),L=!1},d(F){F&amp;&amp;B(t),W(e),W(v),H=!1,X()}}}function ty(s){let t,e,n,r,i,o,a,l,c,u,f=s[1]&amp;&amp;su(s);return a=new Fr({props:{show:s[3]}}),{c(){t=A("div"),e=A("h3"),e.textContent="Play invites",n=N(),r=A("p"),r.textContent=`Your cat is prone to boredom!
		Accept play-dates from other cats owners to keep your cat happy.`,i=N(),f&amp;&amp;f.c(),o=N(),Z(a.$$.fragment),l=N(),c=A("input"),b(c,"id","inviter"),b(c,"type","hidden"),c.value=s[2]},m(h,g){O(h,t,g),p(t,e),p(t,n),p(t,r),p(t,i),f&amp;&amp;f.m(t,null),p(t,o),j(a,t,null),p(t,l),p(t,c),u=!0},p(h,[g]){h[1]?f?(f.p(h,g),g&amp;2&amp;&amp;T(f,1)):(f=su(h),f.c(),T(f,1),f.m(t,o)):f&amp;&amp;(It(),_(f,1,1,()=&gt;{f=null}),Nt());const y={};g&amp;8&amp;&amp;(y.show=h[3]),a.$set(y),(!u||g&amp;4)&amp;&amp;(c.value=h[2])},i(h){u||(T(f),T(a.$$.fragment,h),u=!0)},o(h){_(f),_(a.$$.fragment,h),u=!1},d(h){h&amp;&amp;B(t),f&amp;&amp;f.d(),W(a)}}}const ou=s=&gt;s.canPlay===!0;function ey(s,t,e){let n,r=null,i=0,o=!0;async function a(){try{e(1,r=await b0(n))}catch(u){console.error(u),alert("Failed to load invites: "+u.message)}e(3,o=!1)}function l(u){e(2,i=u.tokenId),web3.action.setProps({inviter:i})}return qt.data.subscribe(async u=&gt;{u.token&amp;&amp;(e(0,n=u.token),await a())}),[n,r,i,o,l,u=&gt;l(u)]}class ny extends bt{constructor(t){super(),At(this,t,ey,ty,mt,{})}}function au(s,t,e){const n=s.slice();return n[14]=t[e],n}function lu(s){let t,e,n,r;const i=[ry,sy],o=[];function a(l,c){return l[3].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=wn()},m(l,c){o[t].m(l,c),O(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(It(),_(o[u],1,1,()=&gt;{o[u]=null}),Nt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),T(e,1),e.m(n.parentNode,n))},i(l){r||(T(e),r=!0)},o(l){_(e),r=!1},d(l){l&amp;&amp;B(n),o[t].d(l)}}}function sy(s){let t;return{c(){t=A("h5"),t.textContent="No pending invites"},m(e,n){O(e,t,n)},p:z,i:z,o:z,d(e){e&amp;&amp;B(t)}}}function ry(s){let t,e,n=je(s[3]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=cu(au(s,n,o));const i=o=&gt;_(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=A("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){O(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;8){n=je(o[3]);let l;for(l=0;l&lt;n.length;l+=1){const c=au(o,n,l);r[l]?(r[l].p(c,a),T(r[l],1)):(r[l]=cu(c),r[l].c(),T(r[l],1),r[l].m(t,null))}for(It(),l=n.length;l&lt;r.length;l+=1)i(l);Nt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)T(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)_(r[a]);e=!1},d(o){o&amp;&amp;B(t),Fi(r,o)}}}function cu(s){let t,e,n,r,i,o,a,l=s[14].tokenId+"",c,u,f,h,g,y;return e=new Ji({props:{tokenUri:s[14].tokenUri}}),h=new Ki({props:{address:s[14].owner}}),{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("h4"),a=J("#"),c=J(l),u=N(),f=A("div"),Z(h.$$.fragment),g=N(),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item"),U(t,"cursor","unset")},m(w,v){O(w,t,v),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(r,u),p(r,f),j(h,f,null),p(t,g),y=!0},p(w,v){const x={};v&amp;8&amp;&amp;(x.tokenUri=w[14].tokenUri),e.$set(x),(!y||v&amp;8)&amp;&amp;l!==(l=w[14].tokenId+"")&amp;&amp;vt(c,l);const C={};v&amp;8&amp;&amp;(C.address=w[14].owner),h.$set(C)},i(w){y||(T(e.$$.fragment,w),T(h.$$.fragment,w),y=!0)},o(w){_(e.$$.fragment,w),_(h.$$.fragment,w),y=!1},d(w){w&amp;&amp;B(t),W(e),W(h)}}}function uu(s){let t,e,n,r;const i=[oy,iy],o=[];function a(l,c){return l[5].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=wn()},m(l,c){o[t].m(l,c),O(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(It(),_(o[u],1,1,()=&gt;{o[u]=null}),Nt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),T(e,1),e.m(n.parentNode,n))},i(l){r||(T(e),r=!0)},o(l){_(e),r=!1},d(l){l&amp;&amp;B(n),o[t].d(l)}}}function iy(s){let t,e;return{c(){t=A("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=A("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){O(n,t,r),O(n,e,r)},p:z,i:z,o:z,d(n){n&amp;&amp;(B(t),B(e))}}}function oy(s){let t,e;return t=new ph({props:{friendsList:s[5],$$slots:{default:[ay,({friend:n})=&gt;({13:n}),({friend:n})=&gt;n?8192:0]},$$scope:{ctx:s}}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;32&amp;&amp;(i.friendsList=n[5]),r&amp;139264&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function ay(s){let t,e,n,r,i,o,a,l=s[13].tokenId+"",c,u,f,h,g,y,w,v,x,C;e=new Ji({props:{tokenUri:s[13].tokenUri}}),h=new Ki({props:{address:s[13].owner}});function I(){return s[10](s[13])}return{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("h4"),a=J("#"),c=J(l),u=N(),f=A("div"),Z(h.$$.fragment),g=N(),y=A("div"),w=A("button"),w.textContent="Invite",b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(w,"class","primary-btn invite-btn svelte-1hmkp7d"),b(y,"class","invite-btn-wrapper svelte-1hmkp7d"),b(t,"class","cat-list-item"),U(t,"cursor","unset")},m(L,H){O(L,t,H),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(r,u),p(r,f),j(h,f,null),p(t,g),p(t,y),p(y,w),v=!0,x||(C=Pt(w,"click",I),x=!0)},p(L,H){s=L;const X={};H&amp;8192&amp;&amp;(X.tokenUri=s[13].tokenUri),e.$set(X),(!v||H&amp;8192)&amp;&amp;l!==(l=s[13].tokenId+"")&amp;&amp;vt(c,l);const et={};H&amp;8192&amp;&amp;(et.address=s[13].owner),h.$set(et)},i(L){v||(T(e.$$.fragment,L),T(h.$$.fragment,L),v=!0)},o(L){_(e.$$.fragment,L),_(h.$$.fragment,L),v=!1},d(L){L&amp;&amp;B(t),W(e),W(h),x=!1,C()}}}function ly(s){var Mr;let t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v,x,C,I=(((Mr=s[3])==null?void 0:Mr.length)??0)+"",L,H,X,et,F,Q,st,ot,kt,Ct,yt,Ft,rt,lt,q,nt,Et,at;l=new gh({props:{tokenId:s[0].tokenId}});let tt=s[3]!==null&amp;&amp;lu(s);yt=new Fr({props:{show:s[2]}});let wt=s[5]!==null&amp;&amp;uu(s);return q=new Fr({props:{show:s[4]}}),{c(){t=A("div"),e=A("h3"),e.textContent="Play with other cats",n=N(),r=A("p"),r.textContent="Your cat is prone to boredom!",i=N(),o=A("p"),o.textContent=`Send play-dates request to other cats owners to keep your cat happy.
		Note that you cannot send invites to your own cat, or your cats brothers and sisters in the same wallet.`,a=N(),Z(l.$$.fragment),c=N(),u=A("div"),f=A("input"),h=N(),g=A("label"),g.textContent="Microchip ID",y=N(),w=A("div"),v=A("div"),x=A("div"),C=J("Pending dates ("),L=J(I),H=J(")"),et=N(),F=A("div"),Q=J("Friends"),ot=N(),kt=A("div"),tt&amp;&amp;tt.c(),Ct=N(),Z(yt.$$.fragment),Ft=N(),rt=A("div"),wt&amp;&amp;wt.c(),lt=N(),Z(q.$$.fragment),b(f,"type","text"),b(f,"placeholder"," "),b(f,"id","invitee"),b(f,"name","invitee"),f.required=!0,b(u,"class","form-field"),b(x,"class",X="tab-item "+(s[1]==="pending"?"selected":"")+" svelte-1hmkp7d"),b(F,"class",st="tab-item "+(s[1]==="friends"?"selected":"")+" svelte-1hmkp7d"),b(v,"class","tabs-header svelte-1hmkp7d"),b(kt,"class","pending-tab"),U(kt,"display",s[1]==="pending"?"block":"none"),b(rt,"class","friends-tab"),U(rt,"display",s[1]==="friends"?"block":"none"),b(w,"class","tabs svelte-1hmkp7d")},m(ft,Ot){O(ft,t,Ot),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,a),j(l,t,null),p(t,c),p(t,u),p(u,f),p(u,h),p(u,g),p(t,y),p(t,w),p(w,v),p(v,x),p(x,C),p(x,L),p(x,H),p(v,et),p(v,F),p(F,Q),p(w,ot),p(w,kt),tt&amp;&amp;tt.m(kt,null),p(kt,Ct),j(yt,kt,null),p(w,Ft),p(w,rt),wt&amp;&amp;wt.m(rt,null),p(rt,lt),j(q,rt,null),nt=!0,Et||(at=[Pt(g,"click",s[7]),Pt(x,"click",s[8]),Pt(F,"click",s[9])],Et=!0)},p(ft,[Ot]){var Hr;const We={};Ot&amp;1&amp;&amp;(We.tokenId=ft[0].tokenId),l.$set(We),(!nt||Ot&amp;8)&amp;&amp;I!==(I=(((Hr=ft[3])==null?void 0:Hr.length)??0)+"")&amp;&amp;vt(L,I),(!nt||Ot&amp;2&amp;&amp;X!==(X="tab-item "+(ft[1]==="pending"?"selected":"")+" svelte-1hmkp7d"))&amp;&amp;b(x,"class",X),(!nt||Ot&amp;2&amp;&amp;st!==(st="tab-item "+(ft[1]==="friends"?"selected":"")+" svelte-1hmkp7d"))&amp;&amp;b(F,"class",st),ft[3]!==null?tt?(tt.p(ft,Ot),Ot&amp;8&amp;&amp;T(tt,1)):(tt=lu(ft),tt.c(),T(tt,1),tt.m(kt,Ct)):tt&amp;&amp;(It(),_(tt,1,1,()=&gt;{tt=null}),Nt());const Y={};Ot&amp;4&amp;&amp;(Y.show=ft[2]),yt.$set(Y),(!nt||Ot&amp;2)&amp;&amp;U(kt,"display",ft[1]==="pending"?"block":"none"),ft[5]!==null?wt?(wt.p(ft,Ot),Ot&amp;32&amp;&amp;T(wt,1)):(wt=uu(ft),wt.c(),T(wt,1),wt.m(rt,lt)):wt&amp;&amp;(It(),_(wt,1,1,()=&gt;{wt=null}),Nt());const Qt={};Ot&amp;16&amp;&amp;(Qt.show=ft[4]),q.$set(Qt),(!nt||Ot&amp;2)&amp;&amp;U(rt,"display",ft[1]==="friends"?"block":"none")},i(ft){nt||(T(l.$$.fragment,ft),T(tt),T(yt.$$.fragment,ft),T(wt),T(q.$$.fragment,ft),nt=!0)},o(ft){_(l.$$.fragment,ft),_(tt),_(yt.$$.fragment,ft),_(wt),_(q.$$.fragment,ft),nt=!1},d(ft){ft&amp;&amp;B(t),W(l),tt&amp;&amp;tt.d(),W(yt),wt&amp;&amp;wt.d(),W(q),Et=!1,Kn(at)}}}function cy(s,t,e){let n,r="pending",i=!1,o=null,a=!1,l=null;const c=async()=&gt;{e(2,i=!0);try{o||e(3,o=await v0(n))}catch(v){console.error(v),alert("Failed to load pending invites: "+v.message)}e(2,i=!1)},u=async()=&gt;{e(4,a=!0);try{l||e(5,l=await bl(n))}catch(v){console.error(v),alert("Failed to load pending invites: "+v.message)}e(4,a=!1)},f=v=&gt;{v==="friends"&amp;&amp;u(),e(1,r=v)};return qt.data.subscribe(async v=&gt;{v.token&amp;&amp;(e(0,n=v.token),await c())}),[n,r,i,o,a,l,f,()=&gt;document.getElementById("invitee").focus(),()=&gt;f("pending"),()=&gt;f("friends"),v=&gt;{const x=document.getElementById("invitee");x.value=v.tokenId;const C=new Event("change",{bubbles:!0});x.dispatchEvent(C)}]}class uy extends bt{constructor(t){super(),At(this,t,cy,ly,mt,{})}}function fy(s){let t,e,n;return{c(){t=A("img"),b(t,"alt","overlay"),b(t,"class",e=Ao(s[1]?"fade-out-image":"")+" svelte-vmrgry"),U(t,"position","absolute"),U(t,"top","0"),U(t,"left","0"),U(t,"width","100%"),U(t,"height","400px"),ke(t.src,n="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/dirty-overlay.png")||b(t,"src",n)},m(r,i){O(r,t,i)},p(r,i){i&amp;2&amp;&amp;e!==(e=Ao(r[1]?"fade-out-image":"")+" svelte-vmrgry")&amp;&amp;b(t,"class",e)},d(r){r&amp;&amp;B(t)}}}function hy(s){let t,e,n,r,i,o,a,l,c;return e=new Di({props:{imageUrl:s[0].image_preview_url,$$slots:{default:[fy]},$$scope:{ctx:s}}}),{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("h3"),r.textContent="Your cat is dirty!!!",i=N(),o=A("p"),o.textContent="Your cat is usually good at cleaning himself, but today he chose to roll around in the mud :-/",U(t,"text-align","center"),U(t,"padding","0 25px")},m(u,f){O(u,t,f),j(e,t,null),p(t,n),p(t,r),p(t,i),p(t,o),a=!0,l||(c=Pt(window,"message",s[2]),l=!0)},p(u,[f]){const h={};f&amp;1&amp;&amp;(h.imageUrl=u[0].image_preview_url),f&amp;10&amp;&amp;(h.$$scope={dirty:f,ctx:u}),e.$set(h)},i(u){a||(T(e.$$.fragment,u),a=!0)},o(u){_(e.$$.fragment,u),a=!1},d(u){u&amp;&amp;B(t),W(e),l=!1,c()}}}function dy(s,t,e){let n,r=!1;return qt.data.subscribe(o=&gt;{e(0,n=o.token)}),[n,r,o=&gt;{var a,l,c;if(((a=o.data)==null?void 0:a.method)==="transactionEvent")switch((c=(l=o.data)==null?void 0:l.params)==null?void 0:c.status){case"started":e(1,r=!0);break;case"error":e(1,r=!1);break;case"completed":e(1,r=!1);break}}]}class py extends bt{constructor(t){super(),At(this,t,dy,hy,mt,{})}}function gy(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v=Jn(s[0].level)+"",x;return{c(){t=A("div"),e=A("img"),r=N(),i=A("img"),a=N(),l=A("img"),u=N(),f=A("div"),h=A("div"),g=A("label"),g.textContent="Smart level",y=N(),w=A("span"),x=J(v),b(e,"class","level-image svelte-qgh38x"),b(e,"alt","leveling up"),ke(e.src,n=xa)||b(e,"src",n),b(i,"class","level-image level-image2 svelte-qgh38x"),b(i,"alt","leveling up"),ke(i.src,o=xa)||b(i,"src",o),b(l,"class","level-image level-image3 svelte-qgh38x"),b(l,"alt","leveling up"),ke(l.src,c=xa)||b(l,"src",c),b(t,"class","meme-wrapper svelte-qgh38x"),U(t,"display",s[1]?"block":"none"),b(h,"class","smart-level-box score-box svelte-qgh38x"),b(f,"class","smart-level-wrapper svelte-qgh38x")},m(C,I){O(C,t,I),p(t,e),p(t,r),p(t,i),p(t,a),p(t,l),O(C,u,I),O(C,f,I),p(f,h),p(h,g),p(h,y),p(h,w),p(w,x)},p(C,I){I&amp;2&amp;&amp;U(t,"display",C[1]?"block":"none"),I&amp;1&amp;&amp;v!==(v=Jn(C[0].level)+"")&amp;&amp;vt(x,v)},d(C){C&amp;&amp;(B(t),B(u),B(f))}}}function my(s){let t,e,n,r,i,o,a,l,c;return o=new Di({props:{imageUrl:s[0].image_preview_url,$$slots:{default:[gy]},$$scope:{ctx:s}}}),{c(){t=A("div"),e=A("h3"),e.textContent="Getting smarter!",n=N(),r=A("p"),r.textContent="You've been taking good care of your cat, he's learning more skillz!",i=N(),Z(o.$$.fragment)},m(u,f){O(u,t,f),p(t,e),p(t,n),p(t,r),p(t,i),j(o,t,null),a=!0,l||(c=Pt(window,"message",s[2]),l=!0)},p(u,[f]){const h={};f&amp;1&amp;&amp;(h.imageUrl=u[0].image_preview_url),f&amp;11&amp;&amp;(h.$$scope={dirty:f,ctx:u}),o.$set(h)},i(u){a||(T(o.$$.fragment,u),a=!0)},o(u){_(o.$$.fragment,u),a=!1},d(u){u&amp;&amp;B(t),W(o),l=!1,c()}}}const xa="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Maths.png";function yy(s,t,e){let n;qt.data.subscribe(o=&gt;{e(0,n=o.token)});let r=!1;return[n,r,o=&gt;{var a,l,c;if(((a=o.data)==null?void 0:a.method)==="transactionEvent")switch((c=(l=o.data)==null?void 0:l.params)==null?void 0:c.status){case"started":e(1,r=!0);break;case"error":e(1,r=!1);break;case"completed":e(1,r=!1);break}}]}class wy extends bt{constructor(t){super(),At(this,t,yy,my,mt,{})}}function Ay(s){let t,e,n=s[0].message+"",r,i,o,a=s[0].sendingTokenId==s[1]&amp;&amp;s[0].read?"âœ“ (seen) ":"",l,c,u,f;return{c(){t=A("div"),e=A("div"),r=J(n),i=N(),o=A("small"),l=J(a),c=N(),u=J(s[2]),b(e,"class","message-content svelte-s0p2vl"),b(o,"class","message-meta svelte-s0p2vl"),b(t,"class",f="message-bubble "+(s[0].sendingTokenId==s[1]?"sender":"")+" svelte-s0p2vl")},m(h,g){O(h,t,g),p(t,e),p(e,r),p(t,i),p(t,o),p(o,l),p(o,c),p(o,u)},p(h,[g]){g&amp;1&amp;&amp;n!==(n=h[0].message+"")&amp;&amp;vt(r,n),g&amp;3&amp;&amp;a!==(a=h[0].sendingTokenId==h[1]&amp;&amp;h[0].read?"âœ“ (seen) ":"")&amp;&amp;vt(l,a),g&amp;4&amp;&amp;vt(u,h[2]),g&amp;3&amp;&amp;f!==(f="message-bubble "+(h[0].sendingTokenId==h[1]?"sender":"")+" svelte-s0p2vl")&amp;&amp;b(t,"class",f)},i:z,o:z,d(h){h&amp;&amp;B(t)}}}function by(s,t,e){let{message:n}=t,{senderTokenId:r}=t,i;return s.$$set=o=&gt;{"message"in o&amp;&amp;e(0,n=o.message),"senderTokenId"in o&amp;&amp;e(1,r=o.senderTokenId)},s.$$.update=()=&gt;{if(s.$$.dirty&amp;1){const o=new Date,a=new Date(n.createdAt);a.setTime(a.getTime()+o.getTimezoneOffset()*6e4),a.getDate()&lt;o.getDate()?e(2,i=a.toLocaleString()):e(2,i=a.toLocaleTimeString())}},[n,r,i]}class vy extends bt{constructor(t){super(),At(this,t,by,Ay,mt,{message:0,senderTokenId:1})}}function fu(s,t,e){const n=s.slice();return n[15]=t[e],n}function hu(s){let t,e,n=je(s[2]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=du(fu(s,n,o));const i=o=&gt;_(r[o],1,1,()=&gt;{r[o]=null});return{c(){for(let o=0;o&lt;r.length;o+=1)r[o].c();t=wn()},m(o,a){for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(o,a);O(o,t,a),e=!0},p(o,a){if(a&amp;6){n=je(o[2]);let l;for(l=0;l&lt;n.length;l+=1){const c=fu(o,n,l);r[l]?(r[l].p(c,a),T(r[l],1)):(r[l]=du(c),r[l].c(),T(r[l],1),r[l].m(t.parentNode,t))}for(It(),l=n.length;l&lt;r.length;l+=1)i(l);Nt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)T(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)_(r[a]);e=!1},d(o){o&amp;&amp;B(t),Fi(r,o)}}}function du(s){let t,e;return t=new vy({props:{message:s[15],senderTokenId:s[1].tokenId}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;4&amp;&amp;(i.message=n[15]),r&amp;2&amp;&amp;(i.senderTokenId=n[1].tokenId),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function Ey(s){let t,e,n,r,i,o,a,l,c,u,f,h,g,y,w,v,x,C,I,L,H,X,et,F,Q,st,ot,kt,Ct,yt,Ft,rt=s[2]&amp;&amp;hu(s);return h=new Fr({props:{show:s[4]}}),{c(){t=A("div"),e=A("div"),n=A("div"),n.textContent="&lt;",r=N(),i=A("div"),o=J("Chat with cat #"),a=J(s[0]),l=N(),c=A("div"),rt&amp;&amp;rt.c(),u=N(),f=A("div"),Z(h.$$.fragment),g=N(),y=A("div"),w=A("textarea"),v=N(),x=A("button"),C=xe("svg"),I=xe("g"),L=xe("path"),H=xe("path"),X=xe("defs"),et=xe("linearGradient"),F=xe("stop"),Q=xe("stop"),st=xe("clipPath"),ot=xe("rect"),b(n,"id","message-close"),b(n,"class","svelte-ramucj"),b(i,"id","message-title"),b(i,"class","svelte-ramucj"),b(e,"id","message-header"),b(e,"class","svelte-ramucj"),b(f,"class","loader-modal"),U(f,"display",s[4]?"block":"none"),b(c,"id","message-history"),b(c,"class","svelte-ramucj"),b(w,"class","message-input svelte-ramucj"),b(w,"placeholder","Message..."),w.disabled=s[4],b(L,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),b(L,"fill","url(#paint0_linear_1078_955)"),b(H,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),b(H,"fill","white"),b(H,"fill-opacity","0.8"),b(I,"clip-path","url(#clip0_1078_955)"),b(F,"stop-color","#001AFF"),b(Q,"offset","1"),b(Q,"stop-color","#4F95FF"),b(et,"id","paint0_linear_1078_955"),b(et,"x1","12.0883"),b(et,"y1","10.7548"),b(et,"x2","20.3005"),b(et,"y2","17.941"),b(et,"gradientUnits","userSpaceOnUse"),b(ot,"width","24"),b(ot,"height","24"),b(ot,"fill","white"),b(ot,"transform","translate(0.5 0.5)"),b(st,"id","clip0_1078_955"),b(C,"width","25"),b(C,"height","25"),b(C,"viewBox","0 0 25 25"),b(C,"fill","none"),b(C,"xmlns","http://www.w3.org/2000/svg"),b(x,"type","button"),x.disabled=kt=s[4]||!s[3].length,b(x,"class","svelte-ramucj"),b(y,"id","send-message"),b(y,"class","svelte-ramucj"),b(t,"id","message-popup"),b(t,"class","svelte-ramucj")},m(lt,q){O(lt,t,q),p(t,e),p(e,n),p(e,r),p(e,i),p(i,o),p(i,a),p(t,l),p(t,c),rt&amp;&amp;rt.m(c,null),p(c,u),p(c,f),j(h,f,null),p(t,g),p(t,y),p(y,w),Nl(w,s[3]),p(y,v),p(y,x),p(x,C),p(C,I),p(I,L),p(I,H),p(C,X),p(X,et),p(et,F),p(et,Q),p(X,st),p(st,ot),Ct=!0,yt||(Ft=[Pt(n,"click",s[9]),Pt(w,"input",s[10]),Pt(x,"click",s[11])],yt=!0)},p(lt,[q]){(!Ct||q&amp;1)&amp;&amp;vt(a,lt[0]),lt[2]?rt?(rt.p(lt,q),q&amp;4&amp;&amp;T(rt,1)):(rt=hu(lt),rt.c(),T(rt,1),rt.m(c,u)):rt&amp;&amp;(It(),_(rt,1,1,()=&gt;{rt=null}),Nt());const nt={};q&amp;16&amp;&amp;(nt.show=lt[4]),h.$set(nt),(!Ct||q&amp;16)&amp;&amp;U(f,"display",lt[4]?"block":"none"),(!Ct||q&amp;16)&amp;&amp;(w.disabled=lt[4]),q&amp;8&amp;&amp;Nl(w,lt[3]),(!Ct||q&amp;24&amp;&amp;kt!==(kt=lt[4]||!lt[3].length))&amp;&amp;(x.disabled=kt)},i(lt){Ct||(T(rt),T(h.$$.fragment,lt),Ct=!0)},o(lt){_(rt),_(h.$$.fragment,lt),Ct=!1},d(lt){lt&amp;&amp;B(t),rt&amp;&amp;rt.d(),W(h),yt=!1,Kn(Ft)}}}function Ia(s=!1){setTimeout(()=&gt;{let t=document.getElementById("message-history");s?t.scroll({top:t.scrollHeight,behavior:"smooth"}):t.scrollTop=t.scrollHeight},200)}function ky(s,t,e){let{closed:n}=t,{friendId:r}=t,{threadsList:i}=t,o,a,l=null,c="",u,f=!0;async function h(){e(4,f=!0);try{const C=await o.sendMessage(c,r);e(2,l=[...l,C]);const I=i.find(L=&gt;L.tokenId==r);I.messages=l,e(3,c=""),Ia(!0),console.log("Message sent: ",C)}catch(C){console.error(C),alert("Message send failed: "+C.message)}e(4,f=!1)}async function g(C=!1){const I=i.find(L=&gt;L.tokenId==r);if(I.messages&amp;&amp;!C){e(2,l=I.messages),Ia();return}I.messages=await o.getMessageHistory(r),I.unread=0,e(2,l=I.messages),Ia(C)}qt.data.subscribe(async C=&gt;{if(C.token){e(1,a=C.token),o=await qt.getMessageClient();try{await g()}catch(I){console.error(I),alert("Message load failed: "+I.message)}e(4,f=!1),u=setInterval(()=&gt;g(!0),1e4)}});function y(){u&amp;&amp;clearInterval(u),n()}const w=()=&gt;y();function v(){c=this.value,e(3,c)}const x=()=&gt;h();return s.$$set=C=&gt;{"closed"in C&amp;&amp;e(7,n=C.closed),"friendId"in C&amp;&amp;e(0,r=C.friendId),"threadsList"in C&amp;&amp;e(8,i=C.threadsList)},[r,a,l,c,f,h,y,n,i,w,v,x]}class Cy extends bt{constructor(t){super(),At(this,t,ky,Ey,mt,{closed:7,friendId:0,threadsList:8})}}function pu(s,t,e){const n=s.slice();return n[8]=t[e],n[9]=t,n[10]=e,n}function gu(s){let t,e,n,r;const i=[xy,Py],o=[];function a(l,c){return l[0].length?0:1}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=wn()},m(l,c){o[t].m(l,c),O(l,n,c),r=!0},p(l,c){let u=t;t=a(l),t===u?o[t].p(l,c):(It(),_(o[u],1,1,()=&gt;{o[u]=null}),Nt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),T(e,1),e.m(n.parentNode,n))},i(l){r||(T(e),r=!0)},o(l){_(e),r=!1},d(l){l&amp;&amp;B(n),o[t].d(l)}}}function Py(s){let t,e;return{c(){t=A("h5"),t.textContent="You don't have any friends yet :-(",e=A("p"),e.textContent="Once you complete play dates, new friends will appear here.",b(e,"class","light")},m(n,r){O(n,t,r),O(n,e,r)},p:z,i:z,o:z,d(n){n&amp;&amp;(B(t),B(e))}}}function xy(s){let t,e,n=je(s[0]),r=[];for(let o=0;o&lt;n.length;o+=1)r[o]=mu(pu(s,n,o));const i=o=&gt;_(r[o],1,1,()=&gt;{r[o]=null});return{c(){t=A("div");for(let o=0;o&lt;r.length;o+=1)r[o].c();b(t,"class","cat-list")},m(o,a){O(o,t,a);for(let l=0;l&lt;r.length;l+=1)r[l]&amp;&amp;r[l].m(t,null);e=!0},p(o,a){if(a&amp;3){n=je(o[0]);let l;for(l=0;l&lt;n.length;l+=1){const c=pu(o,n,l);r[l]?(r[l].p(c,a),T(r[l],1)):(r[l]=mu(c),r[l].c(),T(r[l],1),r[l].m(t,null))}for(It(),l=n.length;l&lt;r.length;l+=1)i(l);Nt()}},i(o){if(!e){for(let a=0;a&lt;n.length;a+=1)T(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a&lt;r.length;a+=1)_(r[a]);e=!1},d(o){o&amp;&amp;B(t),Fi(r,o)}}}function mu(s){let t,e,n,r,i,o,a,l=s[8].tokenId+"",c,u,f,h=s[8].unread+"",g,y,w,v,x,C,I,L,H,X;e=new Ji({props:{tokenUri:s[8].tokenUri}}),C=new Ki({props:{address:s[8].owner}});function et(){return s[3](s[8],s[9],s[10])}return{c(){t=A("div"),Z(e.$$.fragment),n=N(),r=A("div"),i=A("div"),o=A("h4"),a=J("#"),c=J(l),u=N(),f=A("span"),g=J(h),y=J(" Unread"),v=N(),x=A("div"),Z(C.$$.fragment),I=N(),b(f,"class",w=Ao("unread-count"+(s[8].unread&gt;0?" has-unread":""))+" svelte-zmrcgg"),b(i,"class","cat-list-title"),b(r,"class","cat-list-info"),b(t,"class","cat-list-item")},m(F,Q){O(F,t,Q),j(e,t,null),p(t,n),p(t,r),p(r,i),p(i,o),p(o,a),p(o,c),p(i,u),p(i,f),p(f,g),p(f,y),p(r,v),p(r,x),j(C,x,null),p(t,I),L=!0,H||(X=Pt(t,"click",et),H=!0)},p(F,Q){s=F;const st={};Q&amp;1&amp;&amp;(st.tokenUri=s[8].tokenUri),e.$set(st),(!L||Q&amp;1)&amp;&amp;l!==(l=s[8].tokenId+"")&amp;&amp;vt(c,l),(!L||Q&amp;1)&amp;&amp;h!==(h=s[8].unread+"")&amp;&amp;vt(g,h),(!L||Q&amp;1&amp;&amp;w!==(w=Ao("unread-count"+(s[8].unread&gt;0?" has-unread":""))+" svelte-zmrcgg"))&amp;&amp;b(f,"class",w);const ot={};Q&amp;1&amp;&amp;(ot.address=s[8].owner),C.$set(ot)},i(F){L||(T(e.$$.fragment,F),T(C.$$.fragment,F),L=!0)},o(F){_(e.$$.fragment,F),_(C.$$.fragment,F),L=!1},d(F){F&amp;&amp;B(t),W(e),W(C),H=!1,X()}}}function yu(s){let t,e;return t=new Cy({props:{threadsList:s[0],friendId:s[1],closed:s[4]}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;1&amp;&amp;(i.threadsList=n[0]),r&amp;2&amp;&amp;(i.friendId=n[1]),r&amp;2&amp;&amp;(i.closed=n[4]),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function Iy(s){let t,e,n,r,i,o,a,l,c,u,f,h=s[0]&amp;&amp;gu(s);c=new Fr({props:{show:s[2]}});let g=s[1]&amp;&amp;yu(s);return{c(){t=A("h3"),t.textContent="Messages",e=N(),n=A("p"),n.textContent="Send messages to other cat owners.",r=N(),i=A("div"),i.innerHTML=`The chat is not moderated so please:
	&lt;ul&gt;&lt;li&gt;Do not visit any links sent by people in chat&lt;/li&gt; &lt;li&gt;Be respectful &amp;amp; mindful of inappropriate language&lt;/li&gt;&lt;/ul&gt;
	Offenders may have their cat confiscated by SmartCat protective services.`,o=N(),a=A("div"),h&amp;&amp;h.c(),l=N(),Z(c.$$.fragment),u=N(),g&amp;&amp;g.c(),U(i,"text-align","left"),U(i,"border-radius","5px"),U(i,"border","2px solid red"),U(i,"padding","5px"),U(i,"margin","0 10px 20px 0"),U(i,"font-size","12px"),b(a,"id","thread-list")},m(y,w){O(y,t,w),O(y,e,w),O(y,n,w),O(y,r,w),O(y,i,w),O(y,o,w),O(y,a,w),h&amp;&amp;h.m(a,null),p(a,l),j(c,a,null),p(a,u),g&amp;&amp;g.m(a,null),f=!0},p(y,[w]){y[0]?h?(h.p(y,w),w&amp;1&amp;&amp;T(h,1)):(h=gu(y),h.c(),T(h,1),h.m(a,l)):h&amp;&amp;(It(),_(h,1,1,()=&gt;{h=null}),Nt());const v={};w&amp;4&amp;&amp;(v.show=y[2]),c.$set(v),y[1]?g?(g.p(y,w),w&amp;2&amp;&amp;T(g,1)):(g=yu(y),g.c(),T(g,1),g.m(a,null)):g&amp;&amp;(It(),_(g,1,1,()=&gt;{g=null}),Nt())},i(y){f||(T(h),T(c.$$.fragment,y),T(g),f=!0)},o(y){_(h),_(c.$$.fragment,y),_(g),f=!1},d(y){y&amp;&amp;(B(t),B(e),B(n),B(r),B(i),B(o),B(a)),h&amp;&amp;h.d(),W(c),g&amp;&amp;g.d()}}}function Ny(s,t,e){let n,r=null,i=null,o=!0;const a=async()=&gt;{var g;const u=await(await qt.getMessageClient()).getNewMessages(),f=await bl(n),h=[];for(const y of f)h.push({...y,unread:((g=u.senders[y.tokenId])==null?void 0:g.unread)??0});e(0,r=h.sort((y,w)=&gt;y.unread&lt;w.unread?1:-1))};return qt.data.subscribe(async u=&gt;{if(u.token){n=u.token;try{await a()}catch(f){console.error(f)}e(2,o=!1),setInterval(()=&gt;a(),6e4)}}),[r,i,o,(u,f,h)=&gt;{e(1,i=u.tokenId),e(0,f[h].unread=0,r)},()=&gt;e(1,i=null)]}class Ty extends bt{constructor(t){super(),At(this,t,Ny,Iy,mt,{})}}function wu(s){let t,e,n,r,i,o,a,l=s[1]?"2. Complete Quest":"1. Sign Challenge",c,u,f;return{c(){t=A("div"),e=A("h4"),e.textContent="Aethir",n=N(),r=A("p"),r.textContent="Follow Aethir on Twitter to get 200 points",i=N(),o=A("div"),a=A("a"),c=J(l),b(a,"data-link","https://smartlayer.network/pass?enableTwitterRaid=true"),b(a,"data-challenge","AethirTwitterRaid"),b(a,"target","_blank"),b(a,"href",s[1]),b(o,"class","link-button svelte-1stdw6e"),U(o,"position","relative"),U(o,"margin","0 auto"),U(o,"max-width","200px"),b(t,"class","partner-link svelte-1stdw6e")},m(h,g){O(h,t,g),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(o,a),p(a,c),u||(f=Pt(a,"click",s[3]),u=!0)},p(h,g){g&amp;2&amp;&amp;l!==(l=h[1]?"2. Complete Quest":"1. Sign Challenge")&amp;&amp;vt(c,l),g&amp;2&amp;&amp;b(a,"href",h[1])},d(h){h&amp;&amp;B(t),u=!1,f()}}}function Sy(s){let t,e,n,r,i,o,a,l=s[0]&amp;&amp;wu(s);return{c(){t=A("div"),e=A("h3"),e.textContent="Our Partners",n=N(),r=A("p"),r.textContent="Earn additional SmartLayer points by completing quests only available through your SmartCat",i=N(),o=A("p"),o.textContent="These are gas free transactions powered by your SmartLayer pass.",a=N(),l&amp;&amp;l.c()},m(c,u){O(c,t,u),p(t,e),p(t,n),p(t,r),p(t,i),p(t,o),p(t,a),l&amp;&amp;l.m(t,null)},p(c,[u]){c[0]?l?l.p(c,u):(l=wu(c),l.c(),l.m(t,null)):l&amp;&amp;(l.d(1),l=null)},i:z,o:z,d(c){c&amp;&amp;B(t),l&amp;&amp;l.d()}}}function _y(s,t,e){let n,r;qt.data.subscribe(async a=&gt;{a.token&amp;&amp;e(0,n=a.token)});function i(a){const l=a.target;if(l.getAttribute("href"))return;const u=l.getAttribute("data-link");let f=l.getAttribute("data-challenge");f+=n.tokenId,web3.personal.sign({data:f},function(h,g){if(h!=null)alert(h);else{console.log(g);const y=f+"-"+g,w=u+(u.indexOf("?")&gt;-1?"&amp;":"?")+"challenge="+encodeURIComponent(y);e(1,r=w)}})}return[n,r,i,a=&gt;i(a)]}class By extends bt{constructor(t){super(),At(this,t,_y,Sy,mt,{})}}function Au(s){let t,e,n,r,i,o;const a=s[5].default,l=Vo(a,s,s[4],null);return{c(){t=A("strong"),e=J(s[0]),n=N(),r=A("h3"),i=N(),l&amp;&amp;l.c(),U(r,"margin","2px 0")},m(c,u){O(c,t,u),p(t,e),O(c,n,u),O(c,r,u),r.innerHTML=s[1],O(c,i,u),l&amp;&amp;l.m(c,u),o=!0},p(c,u){(!o||u&amp;1)&amp;&amp;vt(e,c[0]),(!o||u&amp;2)&amp;&amp;(r.innerHTML=c[1]),l&amp;&amp;l.p&amp;&amp;(!o||u&amp;16)&amp;&amp;Jo(l,a,c,c[4],o?zo(a,c[4],u,null):Ko(c[4]),null)},i(c){o||(T(l,c),o=!0)},o(c){_(l,c),o=!1},d(c){c&amp;&amp;(B(t),B(n),B(r),B(i)),l&amp;&amp;l.d(c)}}}function Oy(s){let t,e,n=!s[2]&amp;&amp;Au(s);return{c(){t=A("div"),n&amp;&amp;n.c(),U(t,"margin","4px 0")},m(r,i){O(r,t,i),n&amp;&amp;n.m(t,null),e=!0},p(r,[i]){r[2]?n&amp;&amp;(It(),_(n,1,1,()=&gt;{n=null}),Nt()):n?(n.p(r,i),i&amp;4&amp;&amp;T(n,1)):(n=Au(r),n.c(),T(n,1),n.m(t,null))},i(r){e||(T(n),e=!0)},o(r){_(n),e=!1},d(r){r&amp;&amp;B(t),n&amp;&amp;n.d()}}}function Ly(s,t,e){let{$$slots:n={},$$scope:r}=t,{text:i}=t,{mintStartMs:o}=t,a="-",l,c=!1;xs(async()=&gt;{l=setInterval(()=&gt;{u()},1e3)});function u(){const f=Date.now();if(o&lt;f){clearInterval(l),e(2,c=!0);return}const h=o-f,g=Math.floor(h/1e3),y=Math.floor(g/60),w=Math.floor(y/60),v=g%60,x=y%60;e(1,a=`${(w&lt;10?"0":"")+w}:${(x&lt;10?"0":"")+x}:${(v&lt;10?"0":"")+v}`)}return jo(()=&gt;{clearInterval(l)}),s.$$set=f=&gt;{"text"in f&amp;&amp;e(0,i=f.text),"mintStartMs"in f&amp;&amp;e(3,o=f.mintStartMs),"$$scope"in f&amp;&amp;e(4,r=f.$$scope)},[i,a,c,o,r,n]}class mh extends bt{constructor(t){super(),At(this,t,Ly,Oy,mt,{text:0,mintStartMs:3})}}function Ry(s){let t,e,n,r,i,o=(s[1]??"-")+"",a,l,c;return{c(){t=A("div"),e=A("strong"),n=J(s[0]),r=N(),i=A("h3"),a=J(o),l=J(" / "),c=J(yh),U(i,"margin","2px 0"),U(t,"margin","4px 0")},m(u,f){O(u,t,f),p(t,e),p(e,n),p(t,r),p(t,i),p(i,a),p(i,l),p(i,c)},p(u,[f]){f&amp;1&amp;&amp;vt(n,u[0]),f&amp;2&amp;&amp;o!==(o=(u[1]??"-")+"")&amp;&amp;vt(a,o)},i:z,o:z,d(u){u&amp;&amp;B(t)}}}const yh=1e3;function Uy(s,t,e){let{text:n}=t,{mintCompletedCallback:r}=t;const i=dh();let o,a=null;xs(async()=&gt;{l(),o=setInterval(()=&gt;{l()},5e3)});async function l(){e(1,a=Number(await i.tokensMinted())),!(a&lt;yh)&amp;&amp;(clearInterval(o),r())}return jo(()=&gt;{clearInterval(o)}),s.$$set=c=&gt;{"text"in c&amp;&amp;e(0,n=c.text),"mintCompletedCallback"in c&amp;&amp;e(2,r=c.mintCompletedCallback)},[n,a,r]}class wh extends bt{constructor(t){super(),At(this,t,Uy,Ry,mt,{text:0,mintCompletedCallback:2})}}function Fy(s){let t,e,n,r=s[2]==="whitelist"&amp;&amp;bu(s),i=s[2]==="public"&amp;&amp;vu();return{c(){r&amp;&amp;r.c(),t=N(),i&amp;&amp;i.c(),e=wn()},m(o,a){r&amp;&amp;r.m(o,a),O(o,t,a),i&amp;&amp;i.m(o,a),O(o,e,a),n=!0},p(o,a){o[2]==="whitelist"?r?(r.p(o,a),a&amp;4&amp;&amp;T(r,1)):(r=bu(o),r.c(),T(r,1),r.m(t.parentNode,t)):r&amp;&amp;(It(),_(r,1,1,()=&gt;{r=null}),Nt()),o[2]==="public"?i?a&amp;4&amp;&amp;T(i,1):(i=vu(),i.c(),T(i,1),i.m(e.parentNode,e)):i&amp;&amp;(It(),_(i,1,1,()=&gt;{i=null}),Nt())},i(o){n||(T(r),T(i),n=!0)},o(o){_(r),_(i),n=!1},d(o){o&amp;&amp;(B(t),B(e)),r&amp;&amp;r.d(o),i&amp;&amp;i.d(o)}}}function Dy(s){let t,e;return t=new mh({props:{mintStartMs:s[0],text:"Whitelist mint starts in:"}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,r){const i={};r&amp;1&amp;&amp;(i.mintStartMs=n[0]),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function My(s){let t,e,n;return{c(){t=A("h1"),t.textContent="Minting completed",e=N(),n=A("p"),n.textContent="All the loot has sold out!",U(t,"margin","0")},m(r,i){O(r,t,i),O(r,e,i),O(r,n,i)},p:z,i:z,o:z,d(r){r&amp;&amp;(B(t),B(e),B(n))}}}function bu(s){let t,e,n,r;return t=new wh({props:{text:"Whitelist mint is in progress...",mintCompletedCallback:s[4]}}),n=new mh({props:{mintStartMs:s[1],text:"Public mint starts in:"}}),{c(){Z(t.$$.fragment),e=N(),Z(n.$$.fragment)},m(i,o){j(t,i,o),O(i,e,o),j(n,i,o),r=!0},p(i,o){const a={};o&amp;2&amp;&amp;(a.mintStartMs=i[1]),n.$set(a)},i(i){r||(T(t.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){_(t.$$.fragment,i),_(n.$$.fragment,i),r=!1},d(i){i&amp;&amp;B(e),W(t,i),W(n,i)}}}function vu(s){let t,e;return t=new wh({props:{text:"Public mint has begun.."}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function Hy(s){let t,e,n,r;const i=[My,Dy,Fy],o=[];function a(l,c){return l[2]==="completed"?0:l[2]===!1?1:2}return t=a(s),e=o[t]=i[t](s),{c(){e.c(),n=wn()},m(l,c){o[t].m(l,c),O(l,n,c),r=!0},p(l,[c]){let u=t;t=a(l),t===u?o[t].p(l,c):(It(),_(o[u],1,1,()=&gt;{o[u]=null}),Nt(),e=o[t],e?e.p(l,c):(e=o[t]=i[t](l),e.c()),T(e,1),e.m(n.parentNode,n))},i(l){r||(T(e),r=!0)},o(l){_(e),r=!1},d(l){l&amp;&amp;B(n),o[t].d(l)}}}function $y(s,t,e){let n,r,i,o;xs(async()=&gt;{const u=dh();e(0,r=Number(await u.mintStartTime())*1e3),e(1,i=r+3e4),console.log("Mint start time: ",r),console.log("Public start time: ",i),a(),n=setInterval(()=&gt;{a()},2e3)});function a(){const u=Date.now();u&gt;r?u&gt;i?(e(2,o="public"),clearInterval(n)):o!=="whitelist"&amp;&amp;e(2,o="whitelist"):o!==!1&amp;&amp;e(2,o=!1)}function l(){e(2,o="completed"),clearInterval(n)}return jo(()=&gt;{clearInterval(n)}),[r,i,o,l,()=&gt;l()]}class Gy extends bt{constructor(t){super(),At(this,t,$y,Hy,mt,{})}}function Qy(s){let t,e,n,r,i,o,a,l,c,u,f,h;const g=s[1].default,y=Vo(g,s,s[0],null);return a=new Gy({}),{c(){t=A("div"),e=A("img"),r=N(),y&amp;&amp;y.c(),i=N(),o=A("div"),Z(a.$$.fragment),l=N(),c=A("div"),c.innerHTML='&lt;img class="chest-top svelte-1s5ahb" alt="chest top" src="https://resources.smartlayer.network/images/chest-top.png"/&gt;&lt;br/&gt; &lt;img class="chest-body svelte-1s5ahb" alt="chest body" src="https://resources.smartlayer.network/images/chest-body.png"/&gt;',u=N(),f=A("a"),f.textContent="Lean More",b(e,"class","title-image svelte-1s5ahb"),b(e,"alt","cat loot"),ke(e.src,n="https://resources.smartlayer.network/images/catloot-hero.png")||b(e,"src",n),b(o,"class","mint-progress svelte-1s5ahb"),b(c,"class","chest-container svelte-1s5ahb"),b(f,"class","loot-link svelte-1s5ahb"),b(f,"href","https://smart-layer.vercel.app/smartcatloot"),b(f,"target","_blank"),b(t,"class","mint-container svelte-1s5ahb")},m(w,v){O(w,t,v),p(t,e),p(t,r),y&amp;&amp;y.m(t,null),p(t,i),p(t,o),j(a,o,null),p(t,l),p(t,c),p(t,u),p(t,f),h=!0},p(w,[v]){y&amp;&amp;y.p&amp;&amp;(!h||v&amp;1)&amp;&amp;Jo(y,g,w,w[0],h?zo(g,w[0],v,null):Ko(w[0]),null)},i(w){h||(T(y,w),T(a.$$.fragment,w),h=!0)},o(w){_(y,w),_(a.$$.fragment,w),h=!1},d(w){w&amp;&amp;B(t),y&amp;&amp;y.d(w),W(a)}}}function Vy(s,t,e){let{$$slots:n={},$$scope:r}=t;return s.$$set=i=&gt;{"$$scope"in i&amp;&amp;e(0,r=i.$$scope)},[r,n]}class Ah extends bt{constructor(t){super(),At(this,t,Vy,Qy,mt,{})}}function zy(s){let t;return{c(){t=A("div"),t.innerHTML="&lt;h3&gt;Approve wETH for loot purchase&lt;/h3&gt; &lt;p&gt;Before purchasing loot you must approve wETH to be sent to the minting contract, this can be done before the mint starts.&lt;/p&gt;",U(t,"text-align","center"),U(t,"padding","0 10px"),U(t,"min-height","100px")},m(e,n){O(e,t,n)},p:z,d(e){e&amp;&amp;B(t)}}}function Jy(s){let t,e;return t=new Ah({props:{$$slots:{default:[zy]},$$scope:{ctx:s}}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,[r]){const i={};r&amp;2&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function Ky(s){return qt.data.subscribe(t=&gt;{t.token}),[]}class jy extends bt{constructor(t){super(),At(this,t,Ky,Jy,mt,{})}}function Wy(s){let t;return{c(){t=A("div"),t.innerHTML="&lt;h3&gt;Finalize purchase of SmartCatLoot NFT&lt;/h3&gt; &lt;p&gt;You have successfully approved wETH for Loot purchase.&lt;/p&gt;",U(t,"text-align","center"),U(t,"padding","0 10px"),U(t,"min-height","100px")},m(e,n){O(e,t,n)},p:z,d(e){e&amp;&amp;B(t)}}}function Yy(s){let t,e;return t=new Ah({props:{$$slots:{default:[Wy]},$$scope:{ctx:s}}}),{c(){Z(t.$$.fragment)},m(n,r){j(t,n,r),e=!0},p(n,[r]){const i={};r&amp;2&amp;&amp;(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){_(t.$$.fragment,n),e=!1},d(n){W(t,n)}}}function Zy(s){return qt.data.subscribe(t=&gt;{t.token}),[]}class Xy extends bt{constructor(t){super(),At(this,t,Zy,Yy,mt,{})}}function qy(s){let t,e,n,r,i,o;var a=s[0];function l(c,u){return{}}return a&amp;&amp;(n=Tl(a,l())),{c(){t=A("div"),e=A("div"),n&amp;&amp;Z(n.$$.fragment),b(e,"id","token-container")},m(c,u){O(c,t,u),p(t,e),n&amp;&amp;j(n,e,null),r=!0,i||(o=Pt(window,"hashchange",s[1]),i=!0)},p(c,[u]){if(u&amp;1&amp;&amp;a!==(a=c[0])){if(n){It();const f=n;_(f.$$.fragment,1,0,()=&gt;{W(f,1)}),Nt()}a?(n=Tl(a,l()),Z(n.$$.fragment),T(n.$$.fragment,1),j(n,e,null)):n=null}},i(c){r||(n&amp;&amp;T(n.$$.fragment,c),r=!0)},o(c){n&amp;&amp;_(n.$$.fragment,c),r=!1},d(c){c&amp;&amp;B(t),n&amp;&amp;W(n),i=!1,o()}}}function tw(s,t,e){let n,r=!1;const i={"#info":V0,"#adopt":Hh,"#feed":W0,"#play":ny,"#invite":uy,"#clean":py,"#levelUp":wy,"#messages":Ty,"#partners":By,"#lootApprove":jy,"#lootPurchase":Xy};let o;function a(){e(0,o=i[n.level==0?"#adopt":document.location.hash]||J0)}return web3.tokens.dataChanged=async(l,c,u)=&gt;{r||(qt.setToken(c.currentInstance),n=c.currentInstance,r=!0,a())},[o,a]}class ew extends bt{constructor(t){super(),At(this,t,tw,qy,mt,{})}}new ew({target:document.body});


//]]&gt;</script>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com"/>
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>


<style>
					/* <![CDATA[ */

* {
	font-family: "Rubik", sans-serif;
	box-sizing: border-box;
}

body {
	text-align: center;
	color: #0B0B0B;
}

/* TODO: temp fix, content should be in here */
.token-card {
	display: none;
}

html {
	min-height: 100dvh;
}
body, body > div, #token-container  {
	min-height: calc(100dvh - 20px);
}

h1 {
	font-size: 22px;
}

h2 {
	font-size: 20px;
}

h3 {
	font-size: 18px;
}

h5 {
	font-size: 16px;
	margin-bottom: 12px;
}

p.light {
	color: #545454;
}

.cat-list {
	display: flex;
	flex-direction: column;
}

.cat-list-item {
	width: 100%;
	margin: 6px 0;
	display: flex;
	cursor: pointer;
	overflow: hidden;
	height: 64px;
	position: relative;
	border-radius: 8px;
	border: 1px solid #DDD;
	background: #FFFEFE;
	box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

.cat-list-item.cant-play {
	opacity: 0.7;
}

.cat-list-item.selected {
	background-color: #8A9CB81F;
}

.cat-list-info {
	flex-grow: 1;
	text-align: left;
	padding: 10px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	justify-content: center;
	gap: 8px;
}

.cat-list-title {
	display: flex;
	align-items: center;
	font-size: 14px;
}

.cat-list-info h4 {
	flex-grow: 1;
	margin: 0;
	font-weight: 600;
}

.eth-address {
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow: hidden;
	max-width: 100%;
	display: block;
	font-size: 12px;
}

.loader-modal {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
}

.score-box {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	flex: 1 0 0;
}

.score-box label {
	font-size: 16px;
	color: #8B8B8B;
}

.score-box span {
	font-weight: 600;
	color: #011aff;
}

.form-field {
	position: relative;
	margin: 25px auto;
	height: 50px;
	width: 100%;
	max-width: 300px;
}

.form-field label {
	position: absolute;
	left: 12px;
	top: 12px;
	transition: all 0.3s ease;
	font-size: 16px;
	color: #969696;
	background: #fff;
	padding: 2px 4px;
}

.form-field input {
	background-color: transparent;
	padding: 16px 12px;
	border: 1px solid #969696;
	border-radius: 4px;
	width: 100%;
}

.form-field input:focus + label, input:not(:placeholder-shown) ~ label {
	top: -8px;
	font-size: 12px;
	color: #011aff;
}

.form-field input:focus {
	outline: 0;
	border-color: #011aff !important;
}

.link-button a, .link-button div {
	height: 56px;
	padding: 0 24px;
	display: flex;
	justify-content: center;
	align-items: center;
	border-radius: 10px;
	border: 2px solid #011aff;
	color: #011aff;
	font-size: 16px;
	font-weight: 600;
	text-decoration: none;
}

.primary-btn {
	height: 40px;
	padding: 0 16px;
	border: none;
	border-radius: 10px;
	color: #fff;
	background: linear-gradient(235deg, #001AFF 37.73%, #4F95FF 118.69%);
	cursor: pointer;
}
.primary-btn:hover {
	background: linear-gradient(214.82deg, #001AFF -21.14%, #4F95FF 89.22%);
}

/*::-webkit-scrollbar {
	height: 8px;
	width: 8px;
	background: #aaa;
}

::-webkit-scrollbar:hover {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-thumb {
	background: #605f5d;
	-webkit-border-radius: 1ex;
}

::-webkit-scrollbar-corner {
	background: #000;
}*/

					/* ]]> */
				</style></ts:viewContent>



		<ts:card buttonClass="featured" exclude="sufficientAllowance" name="purchaseLoot" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Purchase Loot</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="wETH" function="approve">
					<ts:data>
						<ts:address>0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
						<ts:uint256>100000000000000000</ts:uint256>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="lootApprove" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card buttonClass="featured" exclude="insufficientAllowance" name="finalizeLoot" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Finalize Loot Purchase</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatLoot" function="buy">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="lootPurchase" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Info" origins="SmartCatNFT" type="token">
			<ts:label>
				<ts:string xml:lang="en">Cat Bio</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="info" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="adopted" name="adopt" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Adopt</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="adopt" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="cantLevelUp" name="levelUp" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Level Up!</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="levelUp">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="levelUp" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyFed" name="feedCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Feed Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="feed" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyCleaned" name="cleanCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Clean Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="cleanCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="clean" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyPlayed" name="playDateRequests" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Accept Playdates</ts:string>
			</ts:label>
			<ts:attribute name="inviter">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="acceptPlayDate">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="inviter"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="play" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="inviteCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Invite Cat for Playdate</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="inviteCatForPlaying">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="invitee"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="invite" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="messages" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Messages</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="messages" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Partners" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Partners</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="partners" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

	</ts:cards>

	<ts:attribute name="level">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Level</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="uint" contract="SmartCatScore" function="getLevel">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canFeed">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Feed</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canFeed">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canPlay">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Play</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canPlay">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canClean">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Clean</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canClean">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canLevelUp">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Level Up</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canLevelUp">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="wethAllowance">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:origins>
			<ethereum:call as="uint" contract="wETH" function="allowance">
				<ts:data>
					<ts:address ref="ownerAddress"/>
					<ts:address>0x70F6aCb098d57917CD46e8c647fa9c45800D29f2</ts:address>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"/><ds:Reference><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>6x3dIFZ+k3PaLkOGecJL72j2k5cPPatoCzhRJQRerKg=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>LFpny1hNsZLSmBtK9Pxmo34YoIRR+SiExV8pWdtV0iNUlZepFgxrzcMFQU0+Ty76sIz/bQJSlvHDcBtpf1TABw==</ds:SignatureValue><ds:KeyInfo><ds:KeyValue><ecdsa:ECDSAKeyValue xmlns:ecdsa="http://www.w3.org/2001/04/xmldsig-more#"><ecdsa:DomainParameters><ecdsa:NamedCurve URI="urn:oid:1.3.132.0.10"/></ecdsa:DomainParameters><ecdsa:PublicKey><ecdsa:X>4AQVAWD3IY5tHmASnBn38RKHrVTFodVnV4IAFStb3sg=</ecdsa:X><ecdsa:Y>ZmUq25j5e065TtcZyDY7FqHBTk8aJ2Jc/Kq5kHYq2mQ=</ecdsa:Y></ecdsa:PublicKey></ecdsa:ECDSAKeyValue></ds:KeyValue><ds:X509Data><ds:X509Certificate>MIIBxjCCAWygAwIBAgIBATAKBggqhkjOPQQDAjATMREwDwYDVQQDEwhTbWFydENhdDAeFw0yMzEwMjcwMjA5NTVaFw0yNTEwMjcwMjA5NTVaMBUxEzARBgNVBAMTCm1pY2N5Mi5ldGgwVjAQBgcqhkjOPQIBBgUrgQQACgNCAATgBBUBYPchjm0eYBKcGffxEoetVMWh1WdXggAVK1veyGZlKtuY+XtOuU7XGcg2OxahwU5PGidiXPyquZB2Ktpko4GxMIGuMA8GA1UdEwEB/wQFMAMCAQAwDgYDVR0PAQH/BAQDAgeAMB0GA1UdDgQWBBT3uFcb7xlllKr0HM1DFQJHJ8hyejAfBgNVHSMEGDAWgBQTK5vtCxgRHrj6QrtB/Rla2wPb6zBLBgNVHRIBAf8EQQQiMGC8T8daGKYhMWFsHwmZeRV1aawywGcGKDKIC6NV7LE1OxsmNRtSSKXkJJkhw8SYX8B8XYadL2Tsb1LMgUVfMAoGCCqGSM49BAMCA0gAMEUCIFDiOxh1gdQLKpGTgWvfYstsEd4uDZGlz9JEfC+nIApKAiEA1Onj6C8Bu0X3mUU++GnbV3wW01mxM7eQPzi7ebd10ek=</ds:X509Certificate></ds:X509Data></ds:KeyInfo></ds:Signature></ts:token>
