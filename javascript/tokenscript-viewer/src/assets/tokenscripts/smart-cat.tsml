<ts:token xmlns:ethereum="urn:ethereum:constantinople" xmlns:ts="http://tokenscript.org/2022/09/tokenscript" xmlns:xhmtl="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="SmartCat" xsi:schemaLocation="http://tokenscript.org/2022/09/tokenscript http://tokenscript.org/2022/09/tokenscript.xsd">
	<ts:label>
		<ts:plurals xml:lang="en">
			<ts:string quantity="one">SmartCat</ts:string>
			<ts:string quantity="other">SmartCats</ts:string>
		</ts:plurals>
	</ts:label>

	<ts:meta>
		<ts:description xml:lang="en">Adopt a cat and boost their intelligence through fun care tasks.</ts:description>
		<ts:aboutUrl xml:lang="en">https://medium.com/alphawallet/the-smart-cat-is-out-of-the-bag-b631d2588de2</ts:aboutUrl>
	</ts:meta>

	<ts:contract interface="erc721" name="SmartCatNFT">
		
		
		
		
		<ts:address network="11155111">0x1d6E5bcF82D2515214D2EB0d4a79Ca35a2428827</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatScore">
		
		
		
		
		<ts:address network="11155111">0x97378881EE853457bC8743C882EBDBD57312ed33</ts:address>
	</ts:contract>

	<ts:origins>
		
		<ts:ethereum contract="SmartCatNFT"/>
	</ts:origins>

	<ts:selection filter="canFeed=FALSE" name="alreadyFed">
		<ts:label>
			<ts:string xml:lang="en">Already fed!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canPlay=FALSE" name="alreadyPlayed">
		<ts:label>
			<ts:string xml:lang="en">Too tired!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canClean=FALSE" name="alreadyCleaned">
		<ts:label>
			<ts:string xml:lang="en">Already cleaned!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canLevelUp=FALSE" name="cantLevelUp">
		<ts:label>
			<ts:string xml:lang="en">Can't level up yet!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level=0" name="notAdoptedYet">
		<ts:label>
			<ts:string xml:lang="en">You must adopt and feed your cat first!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level&gt;0" name="adopted">
		<ts:label>
			<ts:string xml:lang="en">Cat already adopted</ts:string>
		</ts:label>
	</ts:selection>

	<ts:cards>
		<ts:viewContent xmlns="http://www.w3.org/1999/xhtml" name="common">
			
			
		<style xmlns="http://www.w3.org/1999/xhtml">/*&lt;![CDATA[*/ 

.cat-image-container.s-kzXpl4qGewhp.s-kzXpl4qGewhp{width:100%;max-width:400px;position:relative;margin:0 auto;height:fit-content;display:flex}.cat-image-container.s-kzXpl4qGewhp img.s-kzXpl4qGewhp{width:100%;border-radius:12px}.cat-header.s-c1MG4BWNDc59.s-c1MG4BWNDc59{display:flex}.cat-details.s-c1MG4BWNDc59.s-c1MG4BWNDc59{flex-grow:1;padding:10px;text-align:left}.cat-details.s-c1MG4BWNDc59 h2.s-c1MG4BWNDc59{margin-top:0;margin-bottom:10px;font-size:18px}.cat-icon.s-c1MG4BWNDc59.s-c1MG4BWNDc59{width:100px}.cat-list-image.s-coprCO2UItih.s-coprCO2UItih{width:64px;position:relative}.cat-list-image.s-coprCO2UItih img.s-coprCO2UItih{width:64px}.shimmer.s-coprCO2UItih.s-coprCO2UItih{display:inline-block;background-color:#dddbdd;height:100%;width:64px}.shimmer.s-coprCO2UItih.s-coprCO2UItih:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0));animation:s-coprCO2UItih-shimmer 2s infinite;content:""}@keyframes s-coprCO2UItih-shimmer{to{transform:translate(100%)}}.loader-container.s-BBunC__gYdVv.s-BBunC__gYdVv{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ring.s-BBunC__gYdVv.s-BBunC__gYdVv{display:inline-block;position:relative;width:80px;height:80px}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #656565;border-radius:50%;animation:s-BBunC__gYdVv-lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#656565 transparent transparent transparent}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(1){animation-delay:-.45s}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(2){animation-delay:-.3s}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(3){animation-delay:-.15s}@keyframes s-BBunC__gYdVv-lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.progress-contain.s-ZP8NyUOLSOsj{display:flex;align-items:center;position:relative}.progress-text.s-ZP8NyUOLSOsj{color:#9d9d9d}.progress-bar.s-ZP8NyUOLSOsj{margin-left:10px;flex-grow:1;height:12px;border-radius:80px;background:#EEEEEE}.progress-inner.s-ZP8NyUOLSOsj{position:relative;border-radius:80px;left:0;height:100%;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.info-container.s-AsgLAl132XNS.s-AsgLAl132XNS{border-top:1px solid #EEE;padding:32px 16px}.task-header.s-AsgLAl132XNS.s-AsgLAl132XNS{font-size:18px;text-align:left;margin-bottom:24px;margin-top:0}.task-table.s-AsgLAl132XNS.s-AsgLAl132XNS{text-align:left;width:100%;font-size:16px}.task-table.s-AsgLAl132XNS thead.s-AsgLAl132XNS{font-size:14px;font-weight:400;color:#9d9d9d}.task-table.s-AsgLAl132XNS td.s-AsgLAl132XNS{margin:10px 0}.gif-container.s-SlJU9hg6bRoH.s-SlJU9hg6bRoH{max-width:400px;width:100%;position:relative;margin:0 20px}.gif-container.s-SlJU9hg6bRoH .static.s-SlJU9hg6bRoH{width:100%}.gif-container.s-SlJU9hg6bRoH .gif.s-SlJU9hg6bRoH{width:100%;display:none}.gif-container.play.s-SlJU9hg6bRoH .static.s-SlJU9hg6bRoH{display:none}.gif-container.play.s-SlJU9hg6bRoH .gif.s-SlJU9hg6bRoH{display:block}.fade-out-image.s-zhAMHCb88KdG{animation:s-zhAMHCb88KdG-fadeOut 5s;animation-fill-mode:initial;animation-iteration-count:infinite}@keyframes s-zhAMHCb88KdG-fadeOut{0%{opacity:1}to{opacity:0}}.smart-level-wrapper.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:absolute;width:100%;left:0;bottom:-30px;z-index:30}.smart-level-box.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:relative;margin:0 auto;display:flex;width:190px;padding:8px 24px;flex-direction:column;align-items:center;gap:4px;border-radius:8px;border:1px solid #001AFF;background:#FAFAFA;box-shadow:0 4px 16px #00000014}.meme-wrapper.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:absolute;width:100%;height:100%;left:0;top:0;z-index:20;overflow:hidden}.meme-wrapper.s-ZYX9umY93TZ_ .level-image.s-ZYX9umY93TZ_{position:absolute;width:0;left:50%;top:50%;transform:translate(-50%,-50%);animation:s-ZYX9umY93TZ_-zoom;animation-iteration-count:infinite;animation-fill-mode:initial;animation-timing-function:ease-in;animation-duration:1.5s}.meme-wrapper.s-ZYX9umY93TZ_ .level-image2.s-ZYX9umY93TZ_{animation-delay:.5s}.meme-wrapper.s-ZYX9umY93TZ_ .level-image3.s-ZYX9umY93TZ_{animation-delay:1s}@keyframes s-ZYX9umY93TZ_-zoom{0%{width:1%}to{width:250%}}.message-bubble.s-Rq_cryvNbnUI{margin:5px;border-radius:10px;width:80%;background:#EEE;color:#000;padding:8px}.message-content.s-Rq_cryvNbnUI{font-size:14px;text-align:left;word-break:break-word}.message-meta.s-Rq_cryvNbnUI{padding-top:6px;font-size:11px;text-align:right;display:block}.message-bubble.sender.s-Rq_cryvNbnUI{align-self:end;background:#0084ff;color:#fff}#message-popup.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background:#fff}#message-header.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{display:flex;border-bottom:#EEE;background:#FAFAFA}#message-title.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{flex-grow:1;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:16px;font-weight:500}#message-close.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{width:30px;height:50px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:700;cursor:pointer}#message-history.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{flex-grow:1;display:flex;flex-direction:column;padding:10px;overflow:auto}#send-message.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{display:flex}#send-message.s-9EDnMOFEbv0B textarea.s-9EDnMOFEbv0B{flex-grow:1;margin:4px;border-radius:4px;border:2px solid #969696;outline:0!important}#send-message.s-9EDnMOFEbv0B textarea.s-9EDnMOFEbv0B:focus{border-radius:4px;border:2px solid #001AFF}#send-message.s-9EDnMOFEbv0B button.s-9EDnMOFEbv0B{flex-grow:1;margin:4px 4px 4px 0;border-radius:4px;border:0;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}#send-message.s-9EDnMOFEbv0B button.s-9EDnMOFEbv0B:disabled{background:linear-gradient(0deg,rgba(255,255,255,.6) 0%,rgba(255,255,255,.6) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.unread-count.has-unread.s-t-aAqwnpGxxz{font-weight:600;font-size:14px;display:flex;align-items:center}.unread-count.has-unread.s-t-aAqwnpGxxz:before{content:"â€¢";color:#0724ff;font-weight:700;font-size:28px;line-height:14px;padding:0 4px}.partner-link.s-6qPDKcEBUYaG{margin-top:25px;padding:10px 0;border-top:1px #eee solid}


 /*//]]&gt;*/</style>
<script xmlns="http://www.w3.org/1999/xhtml" type="module" crossorigin="">//&lt;![CDATA[

var nd=Object.defineProperty;var rd=(n,t,e)=&gt;t in n?nd(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var k=(n,t,e)=&gt;(rd(n,typeof t!="symbol"?t+"":t,e),e),ba=(n,t,e)=&gt;{if(!t.has(n))throw TypeError("Cannot "+e)};var d=(n,t,e)=&gt;(ba(n,t,"read from private field"),e?e.call(n):t.get(n)),C=(n,t,e)=&gt;{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},w=(n,t,e,r)=&gt;(ba(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var qs=(n,t,e,r)=&gt;({set _(s){w(n,t,s,e)},get _(){return d(n,t,r)}}),L=(n,t,e)=&gt;(ba(n,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&amp;&amp;t.supports&amp;&amp;t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=&gt;{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&amp;&amp;o.rel==="modulepreload"&amp;&amp;r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&amp;&amp;(i.integrity=s.integrity),s.referrerPolicy&amp;&amp;(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();function et(){}function sd(n,t){for(const e in t)n[e]=t[e];return n}function A(n,t,e,r,s){n.__svelte_meta={loc:{file:t,line:e,column:r,char:s}}}function $u(n){return n()}function fl(){return Object.create(null)}function Ks(n){n.forEach($u)}function tf(n){return typeof n=="function"}function Nt(n,t){return n!=n?t==t:n!==t||n&amp;&amp;typeof n=="object"||typeof n=="function"}let to;function _e(n,t){return n===t?!0:(to||(to=document.createElement("a")),to.href=t,n===to.href)}function id(n){return Object.keys(n).length===0}function od(n,t,e,r){if(n){const s=ef(n,t,e,r);return n[0](s)}}function ef(n,t,e,r){return n[1]&amp;&amp;r?sd(e.ctx.slice(),n[1](r(t))):e.ctx}function ad(n,t,e,r){if(n[2]&amp;&amp;r){const s=n[2](r(e));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a&lt;o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function cd(n,t,e,r,s,i){if(s){const o=ef(t,e,r,i);n.p(o,s)}}function ld(n){if(n.ctx.length&gt;32){const t=[],e=n.ctx.length/32;for(let r=0;r&lt;e;r++)t[r]=-1;return t}return-1}function Oo(n){return n??""}const sa=typeof window&lt;"u"?window:typeof globalThis&lt;"u"?globalThis:global;function ud(n,t){n.appendChild(t)}function fd(n,t,e){n.insertBefore(t,e||null)}function nf(n){n.parentNode&amp;&amp;n.parentNode.removeChild(n)}function ia(n,t){for(let e=0;e&lt;n.length;e+=1)n[e]&amp;&amp;n[e].d(t)}function v(n){return document.createElement(n)}function Ge(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ht(n){return document.createTextNode(n)}function O(){return ht(" ")}function oa(){return ht("")}function hd(n,t,e,r){return n.addEventListener(t,e,r),()=&gt;n.removeEventListener(t,e,r)}function dd(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&amp;&amp;n.setAttribute(t,e)}function pd(n){return Array.from(n.childNodes)}function hl(n,t){n.value=t??""}function j(n,t,e,r){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,r?"important":"")}function gd(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}let gi;function ci(n){gi=n}function md(){if(!gi)throw new Error("Function called outside component initialization");return gi}function To(n){md().$$.on_mount.push(n)}const jr=[],dl=[];let qr=[];const pl=[],wd=Promise.resolve();let Fa=!1;function yd(){Fa||(Fa=!0,wd.then(rf))}function Da(n){qr.push(n)}const va=new Set;let Lr=0;function rf(){if(Lr!==0)return;const n=gi;do{try{for(;Lr&lt;jr.length;){const t=jr[Lr];Lr++,ci(t),Ad(t.$$)}}catch(t){throw jr.length=0,Lr=0,t}for(ci(null),jr.length=0,Lr=0;dl.length;)dl.pop()();for(let t=0;t&lt;qr.length;t+=1){const e=qr[t];va.has(e)||(va.add(e),e())}qr.length=0}while(jr.length);for(;pl.length;)pl.pop()();Fa=!1,va.clear(),ci(n)}function Ad(n){if(n.fragment!==null){n.update(),Ks(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&amp;&amp;n.fragment.p(n.ctx,t),n.after_update.forEach(Da)}}function bd(n){const t=[],e=[];qr.forEach(r=&gt;n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=&gt;r()),qr=t}const yo=new Set;let ir;function re(){ir={r:0,c:[],p:ir}}function se(){ir.r||Ks(ir.c),ir=ir.p}function D(n,t){n&amp;&amp;n.i&amp;&amp;(yo.delete(n),n.i(t))}function K(n,t,e,r){if(n&amp;&amp;n.o){if(yo.has(n))return;yo.add(n),ir.c.push(()=&gt;{yo.delete(n),r&amp;&amp;(e&amp;&amp;n.d(1),r())}),n.o(t)}else r&amp;&amp;r()}function vd(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function kt(n){n&amp;&amp;n.c()}function bt(n,t,e){const{fragment:r,after_update:s}=n.$$;r&amp;&amp;r.m(t,e),Da(()=&gt;{const i=n.$$.on_mount.map($u).filter(tf);n.$$.on_destroy?n.$$.on_destroy.push(...i):Ks(i),n.$$.on_mount=[]}),s.forEach(Da)}function vt(n,t){const e=n.$$;e.fragment!==null&amp;&amp;(bd(e.after_update),Ks(e.on_destroy),e.fragment&amp;&amp;e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ed(n,t){n.$$.dirty[0]===-1&amp;&amp;(jr.push(n),yd(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1&lt;&lt;t%31}function Ot(n,t,e,r,s,i,o=null,a=[-1]){const c=gi;ci(n);const l=n.$$={fragment:null,ctx:[],props:i,update:et,not_equal:s,bound:fl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:fl(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};o&amp;&amp;o(l.root);let u=!1;if(l.ctx=e?e(n,t.props||{},(f,h,...p)=&gt;{const m=p.length?p[0]:h;return l.ctx&amp;&amp;s(l.ctx[f],l.ctx[f]=m)&amp;&amp;(!l.skip_bound&amp;&amp;l.bound[f]&amp;&amp;l.bound[f](m),u&amp;&amp;Ed(n,f)),h}):[],l.update(),u=!0,Ks(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const f=pd(t.target);l.fragment&amp;&amp;l.fragment.l(f),f.forEach(nf)}else l.fragment&amp;&amp;l.fragment.c();t.intro&amp;&amp;D(n.$$.fragment),bt(n,t.target,t.anchor),rf()}ci(c)}class kd{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){vt(this,1),this.$destroy=et}$on(t,e){if(!tf(e))return et;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=&gt;{const s=r.indexOf(e);s!==-1&amp;&amp;r.splice(s,1)}}$set(t){this.$$set&amp;&amp;!id(t)&amp;&amp;(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Cd="4.2.1",Pd="4";function _(n,t){document.dispatchEvent(gd(n,{version:Cd,...t},{bubbles:!0}))}function g(n,t){_("SvelteDOMInsert",{target:n,node:t}),ud(n,t)}function V(n,t,e){_("SvelteDOMInsert",{target:n,node:t,anchor:e}),fd(n,t,e)}function z(n){_("SvelteDOMRemove",{node:n}),nf(n)}function Ue(n,t,e,r,s,i,o){const a=r===!0?["capture"]:r?Array.from(Object.keys(r)):[];s&amp;&amp;a.push("preventDefault"),i&amp;&amp;a.push("stopPropagation"),o&amp;&amp;a.push("stopImmediatePropagation"),_("SvelteDOMAddEventListener",{node:n,event:t,handler:e,modifiers:a});const c=hd(n,t,e,r);return()=&gt;{_("SvelteDOMRemoveEventListener",{node:n,event:t,handler:e,modifiers:a}),c()}}function E(n,t,e){dd(n,t,e),e==null?_("SvelteDOMRemoveAttribute",{node:n,attribute:t}):_("SvelteDOMSetAttribute",{node:n,attribute:t,value:e})}function Ma(n,t,e){n[t]=e,_("SvelteDOMSetProperty",{node:n,property:t,value:e})}function _t(n,t){t=""+t,n.data!==t&amp;&amp;(_("SvelteDOMSetData",{node:n,data:t}),n.data=t)}function Kn(n){if(typeof n!="string"&amp;&amp;!(n&amp;&amp;typeof n=="object"&amp;&amp;"length"in n)&amp;&amp;!(typeof Symbol=="function"&amp;&amp;n&amp;&amp;Symbol.iterator in n))throw new Error("{#each} only works with iterable values.");return vd(n)}function Tt(n,t,e){for(const r of Object.keys(t))~e.indexOf(r)||console.warn(`&lt;${n}&gt; received an unexpected slot "${r}".`)}function gl(n,t){const e="this={...} of &lt;svelte:component&gt; should specify a Svelte component.";try{const r=new n(t);if(!r.$$||!r.$set||!r.$on||!r.$destroy)throw new Error(e);return r}catch(r){const{message:s}=r;throw typeof s=="string"&amp;&amp;s.indexOf("is not a constructor")!==-1?new Error(e):r}}class Rt extends kd{constructor(e){if(!e||!e.target&amp;&amp;!e.$$inline)throw new Error("'target' is a required option");super();k(this,"$$prop_def");k(this,"$$events_def");k(this,"$$slot_def")}$destroy(){super.$destroy(),this.$destroy=()=&gt;{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}typeof window&lt;"u"&amp;&amp;(window.__svelte||(window.__svelte={v:new Set})).v.add(Pd);const _r=[];function xd(n,t=et){let e;const r=new Set;function s(a){if(Nt(n,a)&amp;&amp;(n=a,e)){const c=!_r.length;for(const l of r)l[1](),_r.push(l,n);if(c){for(let l=0;l&lt;_r.length;l+=2)_r[l][0](_r[l+1]);_r.length=0}}}function i(a){s(a(n))}function o(a,c=et){const l=[a,c];return r.add(l),r.size===1&amp;&amp;(e=t(s,i)||et),a(n),()=&gt;{r.delete(l),r.size===0&amp;&amp;e&amp;&amp;(e(),e=null)}}return{set:s,update:i,subscribe:o}}const sf=class of{constructor(t){this.tokenContext=t,this.challengeExp=null,this.challengeText=null,this.challengeSig=null}async getNewMessages(){return await this.requestWithAuth(`/message-count/${this.tokenContext.tokenId}`,"get")}async getMessageHistory(t){return await this.requestWithAuth(`/message-history/${this.tokenContext.tokenId}/${t}`,"get")}async sendMessage(t,e){return await this.requestWithAuth(`/send-message/${this.tokenContext.tokenId}/${e}`,"post",{message:t})}async requestWithAuth(t,e,r){(!this.challengeText||this.challengeExp&lt;Date.now())&amp;&amp;await this.fetchAndSignChallenge();try{return await this.request(t,e,r)}catch(s){if(s.message==="Authorisation failed")return this.challengeText=null,await this.fetchAndSignChallenge(),await this.request(t,e,r);throw s}}async fetchAndSignChallenge(){const t=await this.request("/challenge","get"),e=new Promise((r,s)=&gt;{web3.personal.sign({data:t.text},function(i,o){i!=null?s(i):(r(o),console.log(o))})});try{this.challengeSig=await e,this.challengeExp=t.expiry,this.challengeText=t.text}catch(r){throw console.error("Authentication failed: ",r),new Error(r)}}async request(t,e,r){const s={"Content-type":"application/json",Accept:"application/json"};this.challengeSig&amp;&amp;(s["X-SmartCat-Auth"]=this.challengeText+":"+this.challengeSig);const i=await fetch(of.BASE_URL+t,{method:e,headers:s,body:r?JSON.stringify(r):void 0});let o;try{o=await i.json()}catch{}if(i.status&gt;299||i.status&lt;200)throw i.status===403?new Error("Authorisation failed"):new Error("HTTP Request failed:"+((o==null?void 0:o.message)??i.statusText));return o}};sf.BASE_URL="https://chat.tokenscript.org/api";let Id=sf,eo=null;const Ro=xd({token:null});function Nd(n){Ro.set({...Ro,token:n})}async function Sd(){return eo||new Promise((n,t)=&gt;{Ro.subscribe(e=&gt;{eo=new Id(e.token),n(eo)})})}const xt={data:Ro,setToken:Nd,getMessageClient:Sd};const ml="src/components/CatImage.svelte";function Ha(n){let t,e,r,s,i;const o=n[2].default,a=od(o,n,n[1],null),c={c:function(){t=v("div"),e=v("img"),s=O(),a&amp;&amp;a.c(),E(e,"alt","your cat"),j(e,"width","100%"),j(e,"position","relative"),_e(e.src,r=n[0])||E(e,"src",r),E(e,"class","s-kzXpl4qGewhp"),A(e,ml,21,1,315),E(t,"class","cat-image-container s-kzXpl4qGewhp"),A(t,ml,20,0,280)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){V(u,t,f),g(t,e),g(t,s),a&amp;&amp;a.m(t,null),i=!0},p:function(u,[f]){(!i||f&amp;1&amp;&amp;!_e(e.src,r=u[0]))&amp;&amp;E(e,"src",r),a&amp;&amp;a.p&amp;&amp;(!i||f&amp;2)&amp;&amp;cd(a,o,u,u[1],i?ad(o,u[1],f,null):ld(u[1]),null)},i:function(u){i||(D(a,u),i=!0)},o:function(u){K(a,u),i=!1},d:function(u){u&amp;&amp;z(t),a&amp;&amp;a.d(u)}};return _("SvelteRegisterBlock",{block:c,id:Ha.name,type:"component",source:"",ctx:n}),c}function Bd(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("CatImage",r,["default"]);let{imageUrl:i}=t;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("imageUrl"in t||n.$$.bound[n.$$.props.imageUrl])&amp;&amp;console.warn("&lt;CatImage&gt; was created without expected prop 'imageUrl'")});const o=["imageUrl"];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;CatImage&gt; was created with unknown prop '${a}'`)}),n.$$set=a=&gt;{"imageUrl"in a&amp;&amp;e(0,i=a.imageUrl),"$$scope"in a&amp;&amp;e(1,s=a.$$scope)},n.$capture_state=()=&gt;({imageUrl:i}),n.$inject_state=a=&gt;{"imageUrl"in a&amp;&amp;e(0,i=a.imageUrl)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,s,r]}class Zn extends Rt{constructor(t){super(t),Ot(this,t,Bd,Ha,Nt,{imageUrl:0}),_("SvelteRegisterComponent",{component:this,tagName:"CatImage",options:t,id:Ha.name})}get imageUrl(){throw new Error("&lt;CatImage&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set imageUrl(t){throw new Error("&lt;CatImage&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Ur="src/routes/Adopt.svelte";function Ga(n){let t,e,r,s,i,o,a,c,l,u,f,h,p;u=new Zn({props:{imageUrl:n[0].image_preview_url},$$inline:!0});const m={c:function(){t=v("div"),e=v("img"),s=O(),i=v("h3"),i.textContent="Once upon a time...",o=O(),a=v("p"),a.textContent=`There was a cat that was pretty cool, but it also wanted to be smart.
		So it went to Smart Layer Labs and got a TokenScript Microchip to boost its mind.`,c=O(),l=v("div"),kt(u.$$.fragment),f=O(),h=v("p"),h.textContent=`Now this cat needs someone to adopt it and help to train its skills. Let's give the cat an initial feed to win it over.
		It's free to adopt and play but you'll need some MATIC to pay for transaction fees on the Polygon network.
		Transactions are generally 0.01 MATIC, starting off with 0.5 MATIC is recommended.`,E(e,"alt","smartcat gameboy"),_e(e.src,r="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Gameboy.png")||E(e,"src",r),j(e,"width","200px"),A(e,Ur,12,1,245),A(i,Ur,13,1,384),A(a,Ur,14,1,414),j(l,"position","relative"),j(l,"margin","0 auto"),j(l,"width","100%"),j(l,"max-width","300px"),A(l,Ur,18,1,581),A(h,Ur,21,1,730),j(t,"text-align","center"),j(t,"padding","10px"),A(t,Ur,11,0,195)},l:function(P){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(P,N){V(P,t,N),g(t,e),g(t,s),g(t,i),g(t,o),g(t,a),g(t,c),g(t,l),bt(u,l,null),g(t,f),g(t,h),p=!0},p:function(P,[N]){const I={};N&amp;1&amp;&amp;(I.imageUrl=P[0].image_preview_url),u.$set(I)},i:function(P){p||(D(u.$$.fragment,P),p=!0)},o:function(P){K(u.$$.fragment,P),p=!1},d:function(P){P&amp;&amp;z(t),vt(u)}};return _("SvelteRegisterBlock",{block:m,id:Ga.name,type:"component",source:"",ctx:n}),m}function Od(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Adopt",r,[]);let i;xt.data.subscribe(a=&gt;{e(0,i=a.token)});const o=[];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Adopt&gt; was created with unknown prop '${a}'`)}),n.$capture_state=()=&gt;({context:xt,CatImage:Zn,token:i}),n.$inject_state=a=&gt;{"token"in a&amp;&amp;e(0,i=a.token)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class wl extends Rt{constructor(t){super(t),Ot(this,t,Od,Ga,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Adopt",options:t,id:Ga.name})}}const Fr="src/components/Header.svelte";function Qa(n){let t,e,r,s,i,o,a=n[0].name+"",c,l,u,f,h,p=n[0].tokenId+"",m,y;r=new Zn({props:{imageUrl:n[0].image_preview_url},$$inline:!0});const P={c:function(){t=v("div"),e=v("div"),kt(r.$$.fragment),s=O(),i=v("div"),o=v("h2"),c=ht(a),l=O(),u=v("div"),f=v("div"),h=ht("Microchip ID: "),m=ht(p),E(e,"class","cat-icon s-c1MG4BWNDc59"),A(e,Fr,35,1,451),E(o,"class","s-c1MG4BWNDc59"),A(o,Fr,39,2,561),A(f,Fr,41,3,612),E(u,"class","cat-stats"),A(u,Fr,40,2,585),E(i,"class","cat-details s-c1MG4BWNDc59"),A(i,Fr,38,1,533),E(t,"class","cat-header s-c1MG4BWNDc59"),A(t,Fr,34,0,425)},l:function(I){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(I,S){V(I,t,S),g(t,e),bt(r,e,null),g(t,s),g(t,i),g(i,o),g(o,c),g(i,l),g(i,u),g(u,f),g(f,h),g(f,m),y=!0},p:function(I,[S]){const T={};S&amp;1&amp;&amp;(T.imageUrl=I[0].image_preview_url),r.$set(T),(!y||S&amp;1)&amp;&amp;a!==(a=I[0].name+"")&amp;&amp;_t(c,a),(!y||S&amp;1)&amp;&amp;p!==(p=I[0].tokenId+"")&amp;&amp;_t(m,p)},i:function(I){y||(D(r.$$.fragment,I),y=!0)},o:function(I){K(r.$$.fragment,I),y=!1},d:function(I){I&amp;&amp;z(t),vt(r)}};return _("SvelteRegisterBlock",{block:P,id:Qa.name,type:"component",source:"",ctx:n}),P}function Td(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Header",r,[]);let i;xt.data.subscribe(a=&gt;{e(0,i=a.token)});const o=[];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Header&gt; was created with unknown prop '${a}'`)}),n.$capture_state=()=&gt;({context:xt,CatImage:Zn,token:i}),n.$inject_state=a=&gt;{"token"in a&amp;&amp;e(0,i=a.token)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class af extends Rt{constructor(t){super(t),Ot(this,t,Td,Qa,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Header",options:t,id:Qa.name})}}const Rd="6.7.1";function Ld(n,t,e){const r=t.split("|").map(i=&gt;i.trim());for(let i=0;i&lt;r.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${e}`,s.value=n,s}async function Jt(n){const t=Object.keys(n);return(await Promise.all(t.map(r=&gt;Promise.resolve(n[r])))).reduce((r,s,i)=&gt;(r[t[i]]=s,r),{})}function W(n,t,e){for(let r in t){let s=t[r];const i=e?e[r]:null;i&amp;&amp;Ld(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function Jr(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(Jr).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let r=0;r&lt;n.length;r++)e+=t[n[r]&gt;&gt;4],e+=t[n[r]&amp;15];return e}if(typeof n=="object"&amp;&amp;typeof n.toJSON=="function")return Jr(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(e=&gt;`${Jr(e)}: ${Jr(n[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ke(n,t){return n&amp;&amp;n.code===t}function Vc(n){return ke(n,"CALL_EXCEPTION")}function Bt(n,t,e){{const s=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Jr(e)}`);for(const i in e){const o=e[i];s.push(i+"="+Jr(o))}}s.push(`code=${t}`),s.push(`version=${Rd}`),s.length&amp;&amp;(n+=" ("+s.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(n);break;default:r=new Error(n)}return W(r,{code:t}),e&amp;&amp;Object.assign(r,e),r}function B(n,t,e,r){if(!n)throw Bt(t,e,r)}function b(n,t,e,r){B(n,t,"INVALID_ARGUMENT",{argument:e,value:r})}function cf(n,t,e){e==null&amp;&amp;(e=""),e&amp;&amp;(e=": "+e),B(n&gt;=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:n,expectedCount:t}),B(n&lt;=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:t})}const _d=["NFD","NFC","NFKD","NFKC"].reduce((n,t)=&gt;{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(e!==r)throw new Error("broken")}n.push(t)}catch{}return n},[]);function Ud(n){B(_d.indexOf(n)&gt;=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function aa(n,t,e){if(e==null&amp;&amp;(e=""),n!==t){let r=e,s="new";e&amp;&amp;(r+=".",s+=" "+e),B(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function lf(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&amp;&amp;n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let i=0;i&lt;r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}b(!1,"invalid BytesLike value",t||"value",n)}function ot(n,t){return lf(n,t,!1)}function ee(n,t){return lf(n,t,!0)}function At(n,t){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&amp;&amp;n.length!==2+2*t||t===!0&amp;&amp;n.length%2!==0)}function Fd(n){return At(n,!0)||n instanceof Uint8Array}const yl="0123456789abcdef";function H(n){const t=ot(n);let e="0x";for(let r=0;r&lt;t.length;r++){const s=t[r];e+=yl[(s&amp;240)&gt;&gt;4]+yl[s&amp;15]}return e}function It(n){return"0x"+n.map(t=&gt;H(t).substring(2)).join("")}function $r(n){return At(n,!0)?(n.length-2)/2:ot(n).length}function Et(n,t,e){const r=ot(n);return e!=null&amp;&amp;e&gt;r.length&amp;&amp;B(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:e}),H(r.slice(t??0,e??r.length))}function uf(n,t,e){const r=ot(n);B(t&gt;=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),e?s.set(r,t-r.length):s.set(r,0),H(s)}function Nr(n,t){return uf(n,t,!0)}function Dd(n,t){return uf(n,t,!1)}const ca=BigInt(0),Te=BigInt(1),Kr=9007199254740991;function Md(n,t){const e=la(n,"value"),r=BigInt(tt(t,"width"));if(B(e&gt;&gt;r===ca,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e&gt;&gt;r-Te){const s=(Te&lt;&lt;r)-Te;return-((~e&amp;s)+Te)}return e}function ff(n,t){let e=Q(n,"value");const r=BigInt(tt(t,"width")),s=Te&lt;&lt;r-Te;if(e&lt;ca){e=-e,B(e&lt;=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(Te&lt;&lt;r)-Te;return(~e&amp;i)+Te}else B(e&lt;s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return e}function ni(n,t){const e=la(n,"value"),r=BigInt(tt(t,"bits"));return e&amp;(Te&lt;&lt;r)-Te}function Q(n,t){switch(typeof n){case"bigint":return n;case"number":return b(Number.isInteger(n),"underflow",t||"value",n),b(n&gt;=-Kr&amp;&amp;n&lt;=Kr,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&amp;&amp;n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){b(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}b(!1,"invalid BigNumberish value",t||"value",n)}function la(n,t){const e=Q(n,t);return B(e&gt;=ca,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const Al="0123456789abcdef";function zc(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=Al[e&gt;&gt;4],t+=Al[e&amp;15];return BigInt(t)}return Q(n)}function tt(n,t){switch(typeof n){case"bigint":return b(n&gt;=-Kr&amp;&amp;n&lt;=Kr,"overflow",t||"value",n),Number(n);case"number":return b(Number.isInteger(n),"underflow",t||"value",n),b(n&gt;=-Kr&amp;&amp;n&lt;=Kr,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return tt(BigInt(n),t)}catch(e){b(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}b(!1,"invalid numeric value",t||"value",n)}function Hd(n){return tt(zc(n))}function Wn(n,t){let r=la(n,"value").toString(16);if(t==null)r.length%2&amp;&amp;(r="0"+r);else{const s=tt(t,"width");for(B(s*2&gt;=r.length,`value exceeds width (${s} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length&lt;s*2;)r="0"+r}return"0x"+r}function he(n){const t=la(n,"value");if(t===ca)return new Uint8Array([]);let e=t.toString(16);e.length%2&amp;&amp;(e="0"+e);const r=new Uint8Array(e.length/2);for(let s=0;s&lt;r.length;s++){const i=s*2;r[s]=parseInt(e.substring(i,i+2),16)}return r}function Wr(n){let t=H(Fd(n)?n:he(n)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&amp;&amp;(t="0"),"0x"+t}const Gd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const bl=BigInt(58);function Qd(n){let t=zc(ot(n)),e="";for(;t;)e=Gd[Number(t%bl)]+e,t/=bl;return e}function jd(n){n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e&lt;n.length;e++)t[e]=n.charCodeAt(e);return ot(t)}function Vd(n){const t=ot(n);let e="";for(let r=0;r&lt;t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var ss;class hf{constructor(t,e,r){k(this,"filter");k(this,"emitter");C(this,ss,void 0);w(this,ss,e),W(this,{emitter:t,filter:r})}async removeListener(){d(this,ss)!=null&amp;&amp;await this.emitter.off(this.filter,d(this,ss))}}ss=new WeakMap;function zd(n,t,e,r,s){b(!1,`invalid codepoint at offset ${t}; ${n}`,"bytes",e)}function df(n,t,e,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o&lt;e.length&amp;&amp;e[o]&gt;&gt;6===2;o++)i++;return i}return n==="OVERRUN"?e.length-t-1:0}function Jd(n,t,e,r,s){return n==="OVERLONG"?(b(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),df(n,t,e))}const Kd=Object.freeze({error:zd,ignore:df,replace:Jd});function Wd(n,t){t==null&amp;&amp;(t=Kd.error);const e=ot(n,"bytes"),r=[];let s=0;for(;s&lt;e.length;){const i=e[s++];if(!(i&gt;&gt;7)){r.push(i);continue}let o=null,a=null;if((i&amp;224)===192)o=1,a=127;else if((i&amp;240)===224)o=2,a=2047;else if((i&amp;248)===240)o=3,a=65535;else{(i&amp;192)===128?s+=t("UNEXPECTED_CONTINUE",s-1,e,r):s+=t("BAD_PREFIX",s-1,e,r);continue}if(s-1+o&gt;=e.length){s+=t("OVERRUN",s-1,e,r);continue}let c=i&amp;(1&lt;&lt;8-o-1)-1;for(let l=0;l&lt;o;l++){let u=e[s];if((u&amp;192)!=128){s+=t("MISSING_CONTINUE",s,e,r),c=null;break}c=c&lt;&lt;6|u&amp;63,s++}if(c!==null){if(c&gt;1114111){s+=t("OUT_OF_RANGE",s-1-o,e,r,c);continue}if(c&gt;=55296&amp;&amp;c&lt;=57343){s+=t("UTF16_SURROGATE",s-1-o,e,r,c);continue}if(c&lt;=a){s+=t("OVERLONG",s-1-o,e,r,c);continue}r.push(c)}}return r}function mn(n,t){t!=null&amp;&amp;(Ud(t),n=n.normalize(t));let e=[];for(let r=0;r&lt;n.length;r++){const s=n.charCodeAt(r);if(s&lt;128)e.push(s);else if(s&lt;2048)e.push(s&gt;&gt;6|192),e.push(s&amp;63|128);else if((s&amp;64512)==55296){r++;const i=n.charCodeAt(r);b(r&lt;n.length&amp;&amp;(i&amp;64512)===56320,"invalid surrogate pair","str",n);const o=65536+((s&amp;1023)&lt;&lt;10)+(i&amp;1023);e.push(o&gt;&gt;18|240),e.push(o&gt;&gt;12&amp;63|128),e.push(o&gt;&gt;6&amp;63|128),e.push(o&amp;63|128)}else e.push(s&gt;&gt;12|224),e.push(s&gt;&gt;6&amp;63|128),e.push(s&amp;63|128)}return new Uint8Array(e)}function Yd(n){return n.map(t=&gt;t&lt;=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t&gt;&gt;10&amp;1023)+55296,(t&amp;1023)+56320))).join("")}function Jc(n,t){return Yd(Wd(n,t))}async function Zd(n,t){const e=n.url.split(":")[0].toLowerCase();B(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),B(e==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r;if(t){const l=new AbortController;r=l.signal,t.addListener(()=&gt;{l.abort()})}const s={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:r},i=await fetch(n.url,s),o={};i.headers.forEach((l,u)=&gt;{o[u.toLowerCase()]=l});const a=await i.arrayBuffer(),c=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:c}}const Xd=12,qd=250;let vl=Zd;const $d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),tp=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ea=!1;async function pf(n,t){try{const e=n.match($d);if(!e)throw new Error("invalid data");return new zn(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?jd(e[3]):np(e[3]))}catch{return new zn(599,"BAD REQUEST (invalid data: URI)",{},null,new yn(n))}}function gf(n){async function t(e,r){try{const s=e.match(tp);if(!s)throw new Error("invalid link");return new yn(`${n}${s[2]}`)}catch{return new zn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new yn(e))}}return t}const no={data:pf,ipfs:gf("https://gateway.ipfs.io/ipfs/")},mf=new WeakMap;var ar,Sn;class ep{constructor(t){C(this,ar,void 0);C(this,Sn,void 0);w(this,ar,[]),w(this,Sn,!1),mf.set(t,()=&gt;{if(!d(this,Sn)){w(this,Sn,!0);for(const e of d(this,ar))setTimeout(()=&gt;{e()},0);w(this,ar,[])}})}addListener(t){B(!d(this,Sn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,ar).push(t)}get cancelled(){return d(this,Sn)}checkSignal(){B(!this.cancelled,"cancelled","CANCELLED",{})}}ar=new WeakMap,Sn=new WeakMap;function ro(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var is,os,Ne,en,as,cs,Lt,ce,nn,cr,lr,ur,je,rn,fr,ri;const Zo=class Zo{constructor(t){C(this,fr);C(this,is,void 0);C(this,os,void 0);C(this,Ne,void 0);C(this,en,void 0);C(this,as,void 0);C(this,cs,void 0);C(this,Lt,void 0);C(this,ce,void 0);C(this,nn,void 0);C(this,cr,void 0);C(this,lr,void 0);C(this,ur,void 0);C(this,je,void 0);C(this,rn,void 0);w(this,cs,String(t)),w(this,is,!1),w(this,os,!0),w(this,Ne,{}),w(this,en,""),w(this,as,3e5),w(this,rn,{slotInterval:qd,maxAttempts:Xd})}get url(){return d(this,cs)}set url(t){w(this,cs,String(t))}get body(){return d(this,Lt)==null?null:new Uint8Array(d(this,Lt))}set body(t){if(t==null)w(this,Lt,void 0),w(this,ce,void 0);else if(typeof t=="string")w(this,Lt,mn(t)),w(this,ce,"text/plain");else if(t instanceof Uint8Array)w(this,Lt,t),w(this,ce,"application/octet-stream");else if(typeof t=="object")w(this,Lt,mn(JSON.stringify(t))),w(this,ce,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,Lt)!=null}get method(){return d(this,en)?d(this,en):this.hasBody()?"POST":"GET"}set method(t){t==null&amp;&amp;(t=""),w(this,en,String(t).toUpperCase())}get headers(){const t=Object.assign({},d(this,Ne));return d(this,nn)&amp;&amp;(t.authorization=`Basic ${Vd(mn(d(this,nn)))}`),this.allowGzip&amp;&amp;(t["accept-encoding"]="gzip"),t["content-type"]==null&amp;&amp;d(this,ce)&amp;&amp;(t["content-type"]=d(this,ce)),this.body&amp;&amp;(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){d(this,Ne)[String(t).toLowerCase()]=String(e)}clearHeaders(){w(this,Ne,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=&gt;{if(r&lt;e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,nn)||null}setCredentials(t,e){b(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,nn,`${t}:${e}`)}get allowGzip(){return d(this,os)}set allowGzip(t){w(this,os,!!t)}get allowInsecureAuthentication(){return!!d(this,is)}set allowInsecureAuthentication(t){w(this,is,!!t)}get timeout(){return d(this,as)}set timeout(t){b(t&gt;=0,"timeout must be non-zero","timeout",t),w(this,as,t)}get preflightFunc(){return d(this,cr)||null}set preflightFunc(t){w(this,cr,t)}get processFunc(){return d(this,lr)||null}set processFunc(t){w(this,lr,t)}get retryFunc(){return d(this,ur)||null}set retryFunc(t){w(this,ur,t)}toString(){return`&lt;FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,Lt)?H(d(this,Lt)):"null"}&gt;`}setThrottleParams(t){t.slotInterval!=null&amp;&amp;(d(this,rn).slotInterval=t.slotInterval),t.maxAttempts!=null&amp;&amp;(d(this,rn).maxAttempts=t.maxAttempts)}send(){return B(d(this,je)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,je,new ep(this)),L(this,fr,ri).call(this,0,El()+this.timeout,0,this,new zn(0,"",{},null,this))}cancel(){B(d(this,je)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=mf.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();B(this.method==="GET"&amp;&amp;(e!=="https"||r!=="http")&amp;&amp;t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} =&gt; ${JSON.stringify(t)})`});const s=new Zo(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,w(s,Ne,Object.assign({},d(this,Ne))),d(this,Lt)&amp;&amp;w(s,Lt,new Uint8Array(d(this,Lt))),w(s,ce,d(this,ce)),s}clone(){const t=new Zo(this.url);return w(t,en,d(this,en)),d(this,Lt)&amp;&amp;w(t,Lt,d(this,Lt)),w(t,ce,d(this,ce)),w(t,Ne,Object.assign({},d(this,Ne))),w(t,nn,d(this,nn)),this.allowGzip&amp;&amp;(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&amp;&amp;(t.allowInsecureAuthentication=!0),w(t,cr,d(this,cr)),w(t,lr,d(this,lr)),w(t,ur,d(this,ur)),t}static lockConfig(){Ea=!0}static getGateway(t){return no[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Ea)throw new Error("gateways locked");no[t]=e}static registerGetUrl(t){if(Ea)throw new Error("gateways locked");vl=t}static createDataGateway(){return pf}static createIpfsGatewayFunc(t){return gf(t)}};is=new WeakMap,os=new WeakMap,Ne=new WeakMap,en=new WeakMap,as=new WeakMap,cs=new WeakMap,Lt=new WeakMap,ce=new WeakMap,nn=new WeakMap,cr=new WeakMap,lr=new WeakMap,ur=new WeakMap,je=new WeakMap,rn=new WeakMap,fr=new WeakSet,ri=async function(t,e,r,s,i){var u,f,h;if(t&gt;=d(this,rn).maxAttempts)return i.makeServerError("exceeded maximum retry limit");B(El()&lt;=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r&gt;0&amp;&amp;await rp(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in no){const p=await no[a](o.url,ro(d(s,je)));if(p instanceof zn){let m=p;if(this.processFunc){ro(d(s,je));try{m=await this.processFunc(o,m)}catch(y){(y.throttle==null||typeof y.stall!="number")&amp;&amp;m.makeServerError("error in post-processing function",y).assertOk()}}return m}o=p}this.preflightFunc&amp;&amp;(o=await this.preflightFunc(o));const c=await vl(o,ro(d(s,je)));let l=new zn(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const p=l.headers.location||"";return L(u=o.redirect(p),fr,ri).call(u,t+1,e,0,s,l)}catch{}return l}else if(l.statusCode===429&amp;&amp;(this.retryFunc==null||await this.retryFunc(o,l,t))){const p=l.headers["retry-after"];let m=d(this,rn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof p=="string"&amp;&amp;p.match(/^[1-9][0-9]*$/)&amp;&amp;(m=parseInt(p)),L(f=o.clone(),fr,ri).call(f,t+1,e,m,s,l)}if(this.processFunc){ro(d(s,je));try{l=await this.processFunc(o,l)}catch(p){(p.throttle==null||typeof p.stall!="number")&amp;&amp;l.makeServerError("error in post-processing function",p).assertOk();let m=d(this,rn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return p.stall&gt;=0&amp;&amp;(m=p.stall),L(h=o.clone(),fr,ri).call(h,t+1,e,m,s,l)}}return l};let yn=Zo;var Bi,Oi,Ti,Se,ls,hr;const al=class al{constructor(t,e,r,s,i){C(this,Bi,void 0);C(this,Oi,void 0);C(this,Ti,void 0);C(this,Se,void 0);C(this,ls,void 0);C(this,hr,void 0);w(this,Bi,t),w(this,Oi,e),w(this,Ti,Object.keys(r).reduce((o,a)=&gt;(o[a.toLowerCase()]=String(r[a]),o),{})),w(this,Se,s==null?null:new Uint8Array(s)),w(this,ls,i||null),w(this,hr,{message:""})}toString(){return`&lt;FetchResponse status=${this.statusCode} body=${d(this,Se)?H(d(this,Se)):"null"}&gt;`}get statusCode(){return d(this,Bi)}get statusMessage(){return d(this,Oi)}get headers(){return Object.assign({},d(this,Ti))}get body(){return d(this,Se)==null?null:new Uint8Array(d(this,Se))}get bodyText(){try{return d(this,Se)==null?"":Jc(d(this,Se))}catch{B(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{B(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=&gt;{if(r&lt;e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let r;t?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${t})`);const s=new al(599,r,this.headers,this.body,d(this,ls)||void 0);return w(s,hr,{message:t,error:e}),s}throwThrottleError(t,e){e==null?e=-1:b(Number.isInteger(e)&amp;&amp;e&gt;=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw W(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return d(this,Se)!=null}get request(){return d(this,ls)}ok(){return d(this,hr).message===""&amp;&amp;this.statusCode&gt;=200&amp;&amp;this.statusCode&lt;300}assertOk(){if(this.ok())return;let{message:t,error:e}=d(this,hr);t===""&amp;&amp;(t=`server response ${this.statusCode} ${this.statusMessage}`),B(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};Bi=new WeakMap,Oi=new WeakMap,Ti=new WeakMap,Se=new WeakMap,ls=new WeakMap,hr=new WeakMap;let zn=al;function El(){return new Date().getTime()}function np(n){return mn(n.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=&gt;String.fromCharCode(parseInt(e,16))))}function rp(n){return new Promise(t=&gt;setTimeout(t,n))}function sp(n){let t=n.toString(16);for(;t.length&lt;2;)t="0"+t;return"0x"+t}function kl(n,t,e){let r=0;for(let s=0;s&lt;e;s++)r=r*256+n[t+s];return r}function Cl(n,t,e,r){const s=[];for(;e&lt;t+1+r;){const i=wf(n,e);s.push(i.result),e+=i.consumed,B(e&lt;=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:t})}return{consumed:1+r,result:s}}function wf(n,t){B(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const e=r=&gt;{B(r&lt;=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[t]&gt;=248){const r=n[t]-247;e(t+1+r);const s=kl(n,t+1,r);return e(t+1+r+s),Cl(n,t,t+1+r,r+s)}else if(n[t]&gt;=192){const r=n[t]-192;return e(t+1+r),Cl(n,t,t+1,r)}else if(n[t]&gt;=184){const r=n[t]-183;e(t+1+r);const s=kl(n,t+1,r);e(t+1+r+s);const i=H(n.slice(t+1+r,t+1+r+s));return{consumed:1+r+s,result:i}}else if(n[t]&gt;=128){const r=n[t]-128;e(t+1+r);const s=H(n.slice(t+1,t+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:sp(n[t])}}function Kc(n){const t=ot(n,"data"),e=wf(t,0);return b(e.consumed===t.length,"unexpected junk after rlp payload","data",n),e.result}function Pl(n){const t=[];for(;n;)t.unshift(n&amp;255),n&gt;&gt;=8;return t}function yf(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(yf(i))}),r.length&lt;=55)return r.unshift(192+r.length),r;const s=Pl(r.length);return s.unshift(247+s.length),s.concat(r)}const t=Array.prototype.slice.call(ot(n,"object"));if(t.length===1&amp;&amp;t[0]&lt;=127)return t;if(t.length&lt;=55)return t.unshift(128+t.length),t;const e=Pl(t.length);return e.unshift(183+e.length),e.concat(t)}const xl="0123456789abcdef";function mi(n){let t="0x";for(const e of yf(n))t+=xl[e&gt;&gt;4],t+=xl[e&amp;15];return t}const Wt=32,ja=new Uint8Array(Wt),ip=["then"],so={};function $s(n,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw e.error=t,e}var Bn;const di=class di extends Array{constructor(...e){const r=e[0];let s=e[1],i=(e[2]||[]).slice(),o=!0;r!==so&amp;&amp;(s=e,i=[],o=!1);super(s.length);C(this,Bn,void 0);s.forEach((c,l)=&gt;{this[l]=c});const a=i.reduce((c,l)=&gt;(typeof l=="string"&amp;&amp;c.set(l,(c.get(l)||0)+1),c),new Map);if(w(this,Bn,Object.freeze(s.map((c,l)=&gt;{const u=i[l];return u!=null&amp;&amp;a.get(u)===1?u:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(c,l,u)=&gt;{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const h=tt(l,"%index");if(h&lt;0||h&gt;=this.length)throw new RangeError("out of result range");const p=c[h];return p instanceof Error&amp;&amp;$s(`index ${h}`,p),p}if(ip.indexOf(l)&gt;=0)return Reflect.get(c,l,u);const f=c[l];if(f instanceof Function)return function(...h){return f.apply(this===u?c:this,h)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}})}toArray(){const e=[];return this.forEach((r,s)=&gt;{r instanceof Error&amp;&amp;$s(`index ${s}`,r),e.push(r)}),e}toObject(){return d(this,Bn).reduce((e,r,s)=&gt;(B(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in e||(e[r]=this.getValue(r)),e),{})}slice(e,r){e==null&amp;&amp;(e=0),e&lt;0&amp;&amp;(e+=this.length,e&lt;0&amp;&amp;(e=0)),r==null&amp;&amp;(r=this.length),r&lt;0&amp;&amp;(r+=this.length,r&lt;0&amp;&amp;(r=0)),r&gt;this.length&amp;&amp;(r=this.length);const s=[],i=[];for(let o=e;o&lt;r;o++)s.push(this[o]),i.push(d(this,Bn)[o]);return new di(so,s,i)}filter(e,r){const s=[],i=[];for(let o=0;o&lt;this.length;o++){const a=this[o];a instanceof Error&amp;&amp;$s(`index ${o}`,a),e.call(r,a,o,this)&amp;&amp;(s.push(a),i.push(d(this,Bn)[o]))}return new di(so,s,i)}map(e,r){const s=[];for(let i=0;i&lt;this.length;i++){const o=this[i];o instanceof Error&amp;&amp;$s(`index ${i}`,o),s.push(e.call(r,o,i,this))}return s}getValue(e){const r=d(this,Bn).indexOf(e);if(r===-1)return;const s=this[r];return s instanceof Error&amp;&amp;$s(`property ${JSON.stringify(e)}`,s.error),s}static fromItems(e,r){return new di(so,e,r)}};Bn=new WeakMap;let Lo=di;function Il(n){let t=he(n);return B(t.length&lt;=Wt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Wt,offset:t.length}),t.length!==Wt&amp;&amp;(t=ee(It([ja.slice(t.length%Wt),t]))),t}class bn{constructor(t,e,r,s){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");W(this,{name:t,type:e,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){b(!1,t,this.localName,e)}}var sn,dr,us,Ao;class Va{constructor(){C(this,us);C(this,sn,void 0);C(this,dr,void 0);w(this,sn,[]),w(this,dr,0)}get data(){return It(d(this,sn))}get length(){return d(this,dr)}appendWriter(t){return L(this,us,Ao).call(this,ee(t.data))}writeBytes(t){let e=ee(t);const r=e.length%Wt;return r&amp;&amp;(e=ee(It([e,ja.slice(r)]))),L(this,us,Ao).call(this,e)}writeValue(t){return L(this,us,Ao).call(this,Il(t))}writeUpdatableValue(){const t=d(this,sn).length;return d(this,sn).push(ja),w(this,dr,d(this,dr)+Wt),e=&gt;{d(this,sn)[t]=Il(e)}}}sn=new WeakMap,dr=new WeakMap,us=new WeakSet,Ao=function(t){return d(this,sn).push(t),w(this,dr,d(this,dr)+t.length),t.length};var le,Ae,Xo,Af;const cl=class cl{constructor(t,e){C(this,Xo);k(this,"allowLoose");C(this,le,void 0);C(this,Ae,void 0);W(this,{allowLoose:!!e}),w(this,le,ee(t)),w(this,Ae,0)}get data(){return H(d(this,le))}get dataLength(){return d(this,le).length}get consumed(){return d(this,Ae)}get bytes(){return new Uint8Array(d(this,le))}subReader(t){return new cl(d(this,le).slice(d(this,Ae)+t),this.allowLoose)}readBytes(t,e){let r=L(this,Xo,Af).call(this,0,t,!!e);return w(this,Ae,d(this,Ae)+r.length),r.slice(0,t)}readValue(){return zc(this.readBytes(Wt))}readIndex(){return Hd(this.readBytes(Wt))}};le=new WeakMap,Ae=new WeakMap,Xo=new WeakSet,Af=function(t,e,r){let s=Math.ceil(e/Wt)*Wt;return d(this,Ae)+s&gt;d(this,le).length&amp;&amp;(this.allowLoose&amp;&amp;r&amp;&amp;d(this,Ae)+e&lt;=d(this,le).length?s=e:B(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ee(d(this,le)),length:d(this,le).length,offset:d(this,Ae)+s})),d(this,le).slice(d(this,Ae),d(this,Ae)+s)};let za=cl;function Ja(n){if(!Number.isSafeInteger(n)||n&lt;0)throw new Error(`Wrong positive integer: ${n}`)}function op(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function bf(n,...t){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length&gt;0&amp;&amp;!t.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function ap(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ja(n.outputLen),Ja(n.blockLen)}function cp(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&amp;&amp;n.finished)throw new Error("Hash#digest() has already been called")}function lp(n,t){bf(n);const e=t.outputLen;if(n.length&lt;e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const fe={number:Ja,bool:op,bytes:bf,hash:ap,exists:cp,output:lp};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const up=n=&gt;new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),ka=n=&gt;new DataView(n.buffer,n.byteOffset,n.byteLength),Qe=(n,t)=&gt;n&lt;&lt;32-t|n&gt;&gt;&gt;t,fp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fp)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(n,t)=&gt;t.toString(16).padStart(2,"0"));function hp(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function Ki(n){if(typeof n=="string"&amp;&amp;(n=hp(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}class _o{clone(){return this._cloneInto()}}function Wi(n){const t=r=&gt;n().update(Ki(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=&gt;n(),t}function dp(n){const t=(r,s)=&gt;n(s).update(Ki(r)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=r=&gt;n(r),t}class vf extends _o{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,fe.hash(t);const r=Ki(e);if(this.iHash=t.create(),!(this.iHash instanceof _o))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(s);i.set(r.length&gt;this.iHash.blockLen?t.create().update(r).digest():r);for(let o=0;o&lt;i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o&lt;i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return fe.exists(this),this.iHash.update(t),this}digestInto(t){fe.exists(this),fe.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ef=(n,t,e)=&gt;new vf(n,t).update(e).digest();Ef.create=(n,t)=&gt;new vf(n,t);function pp(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(e&gt;&gt;s&amp;i),a=Number(e&amp;i),c=r?4:0,l=r?0:4;n.setUint32(t+c,o,r),n.setUint32(t+l,a,r)}class kf extends _o{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ka(this.buffer)}update(t){fe.exists(this);const{view:e,buffer:r,blockLen:s}=this;t=Ki(t);const i=t.length;for(let o=0;o&lt;i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ka(t);for(;s&lt;=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&amp;&amp;(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fe.exists(this),fe.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset&gt;s-o&amp;&amp;(this.process(r,0),o=0);for(let c=o;c&lt;s;c++)e[c]=0;pp(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ka(t);this.get().forEach((c,l)=&gt;a.setUint32(4*l,c,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&amp;&amp;t.buffer.set(r),t}}const gp=(n,t,e)=&gt;n&amp;t^~n&amp;e,mp=(n,t,e)=&gt;n&amp;t^n&amp;e^t&amp;e,wp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),En=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kn=new Uint32Array(64);class yp extends kf{constructor(){super(64,32,8,!1),this.A=En[0]|0,this.B=En[1]|0,this.C=En[2]|0,this.D=En[3]|0,this.E=En[4]|0,this.F=En[5]|0,this.G=En[6]|0,this.H=En[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,r,s,i,o,a,c]}set(t,e,r,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let f=0;f&lt;16;f++,e+=4)kn[f]=t.getUint32(e,!1);for(let f=16;f&lt;64;f++){const h=kn[f-15],p=kn[f-2],m=Qe(h,7)^Qe(h,18)^h&gt;&gt;&gt;3,y=Qe(p,17)^Qe(p,19)^p&gt;&gt;&gt;10;kn[f]=y+kn[f-7]+m+kn[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f&lt;64;f++){const h=Qe(a,6)^Qe(a,11)^Qe(a,25),p=u+h+gp(a,c,l)+wp[f]+kn[f]|0,y=(Qe(r,2)^Qe(r,13)^Qe(r,22))+mp(r,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=r,r=p+y|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){kn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ap=Wi(()=&gt;new yp),io=BigInt(2**32-1),Ka=BigInt(32);function Cf(n,t=!1){return t?{h:Number(n&amp;io),l:Number(n&gt;&gt;Ka&amp;io)}:{h:Number(n&gt;&gt;Ka&amp;io)|0,l:Number(n&amp;io)|0}}function bp(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s&lt;n.length;s++){const{h:i,l:o}=Cf(n[s],t);[e[s],r[s]]=[i,o]}return[e,r]}const vp=(n,t)=&gt;BigInt(n&gt;&gt;&gt;0)&lt;&lt;Ka|BigInt(t&gt;&gt;&gt;0),Ep=(n,t,e)=&gt;n&gt;&gt;&gt;e,kp=(n,t,e)=&gt;n&lt;&lt;32-e|t&gt;&gt;&gt;e,Cp=(n,t,e)=&gt;n&gt;&gt;&gt;e|t&lt;&lt;32-e,Pp=(n,t,e)=&gt;n&lt;&lt;32-e|t&gt;&gt;&gt;e,xp=(n,t,e)=&gt;n&lt;&lt;64-e|t&gt;&gt;&gt;e-32,Ip=(n,t,e)=&gt;n&gt;&gt;&gt;e-32|t&lt;&lt;64-e,Np=(n,t)=&gt;t,Sp=(n,t)=&gt;n,Bp=(n,t,e)=&gt;n&lt;&lt;e|t&gt;&gt;&gt;32-e,Op=(n,t,e)=&gt;t&lt;&lt;e|n&gt;&gt;&gt;32-e,Tp=(n,t,e)=&gt;t&lt;&lt;e-32|n&gt;&gt;&gt;64-e,Rp=(n,t,e)=&gt;n&lt;&lt;e-32|t&gt;&gt;&gt;64-e;function Lp(n,t,e,r){const s=(t&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const _p=(n,t,e)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0),Up=(n,t,e,r)=&gt;t+e+r+(n/2**32|0)|0,Fp=(n,t,e,r)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0),Dp=(n,t,e,r,s)=&gt;t+e+r+s+(n/2**32|0)|0,Mp=(n,t,e,r,s)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0)+(s&gt;&gt;&gt;0),Hp=(n,t,e,r,s,i)=&gt;t+e+r+s+i+(n/2**32|0)|0,X={fromBig:Cf,split:bp,toBig:vp,shrSH:Ep,shrSL:kp,rotrSH:Cp,rotrSL:Pp,rotrBH:xp,rotrBL:Ip,rotr32H:Np,rotr32L:Sp,rotlSH:Bp,rotlSL:Op,rotlBH:Tp,rotlBL:Rp,add:Lp,add3L:_p,add3H:Up,add4L:Fp,add4H:Dp,add5H:Hp,add5L:Mp},[Gp,Qp]=X.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=&gt;BigInt(n))),Cn=new Uint32Array(80),Pn=new Uint32Array(80);class Wc extends kf{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:p,Gl:m,Hh:y,Hl:P}=this;return[t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P]}set(t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=m|0,this.Hh=y|0,this.Hl=P|0}process(t,e){for(let S=0;S&lt;16;S++,e+=4)Cn[S]=t.getUint32(e),Pn[S]=t.getUint32(e+=4);for(let S=16;S&lt;80;S++){const T=Cn[S-15]|0,x=Pn[S-15]|0,R=X.rotrSH(T,x,1)^X.rotrSH(T,x,8)^X.shrSH(T,x,7),M=X.rotrSL(T,x,1)^X.rotrSL(T,x,8)^X.shrSL(T,x,7),Z=Cn[S-2]|0,Y=Pn[S-2]|0,G=X.rotrSH(Z,Y,19)^X.rotrBH(Z,Y,61)^X.shrSH(Z,Y,6),nt=X.rotrSL(Z,Y,19)^X.rotrBL(Z,Y,61)^X.shrSL(Z,Y,6),dt=X.add4L(M,nt,Pn[S-7],Pn[S-16]),rt=X.add4H(dt,R,G,Cn[S-7],Cn[S-16]);Cn[S]=rt|0,Pn[S]=dt|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:p,Fl:m,Gh:y,Gl:P,Hh:N,Hl:I}=this;for(let S=0;S&lt;80;S++){const T=X.rotrSH(f,h,14)^X.rotrSH(f,h,18)^X.rotrBH(f,h,41),x=X.rotrSL(f,h,14)^X.rotrSL(f,h,18)^X.rotrBL(f,h,41),R=f&amp;p^~f&amp;y,M=h&amp;m^~h&amp;P,Z=X.add5L(I,x,M,Qp[S],Pn[S]),Y=X.add5H(Z,N,T,R,Gp[S],Cn[S]),G=Z|0,nt=X.rotrSH(r,s,28)^X.rotrBH(r,s,34)^X.rotrBH(r,s,39),dt=X.rotrSL(r,s,28)^X.rotrBL(r,s,34)^X.rotrBL(r,s,39),rt=r&amp;i^r&amp;a^i&amp;a,zt=s&amp;o^s&amp;c^o&amp;c;N=y|0,I=P|0,y=p|0,P=m|0,p=f|0,m=h|0,{h:f,l:h}=X.add(l|0,u|0,Y|0,G|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const st=X.add3L(G,dt,zt);r=X.add3H(st,Y,nt,rt),s=st|0}({h:r,l:s}=X.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=X.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=X.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=X.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=X.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:m}=X.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:y,l:P}=X.add(this.Gh|0,this.Gl|0,y|0,P|0),{h:N,l:I}=X.add(this.Hh|0,this.Hl|0,N|0,I|0),this.set(r,s,i,o,a,c,l,u,f,h,p,m,y,P,N,I)}roundClean(){Cn.fill(0),Pn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class jp extends Wc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Vp extends Wc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const zp=Wi(()=&gt;new Wc);Wi(()=&gt;new jp);Wi(()=&gt;new Vp);function Jp(){if(typeof self&lt;"u")return self;if(typeof window&lt;"u")return window;if(typeof global&lt;"u")return global;throw new Error("unable to locate global object")}const Nl=Jp();Nl.crypto||Nl.msCrypto;function Kp(n,t){const e={sha256:Ap,sha512:zp}[n];return b(e!=null,"invalid hmac algorithm","algorithm",n),Ef.create(e,t)}let Pf=!1;const xf=function(n,t,e){return Kp(n,t).update(e).digest()};let If=xf;function Yi(n,t,e){const r=ot(t,"key"),s=ot(e,"data");return H(If(n,r,s))}Yi._=xf;Yi.lock=function(){Pf=!0};Yi.register=function(n){if(Pf)throw new Error("computeHmac is locked");If=n};Object.freeze(Yi);const[Nf,Sf,Bf]=[[],[],[]],Wp=BigInt(0),ti=BigInt(1),Yp=BigInt(2),Zp=BigInt(7),Xp=BigInt(256),qp=BigInt(113);for(let n=0,t=ti,e=1,r=0;n&lt;24;n++){[e,r]=[r,(2*e+3*r)%5],Nf.push(2*(5*r+e)),Sf.push((n+1)*(n+2)/2%64);let s=Wp;for(let i=0;i&lt;7;i++)t=(t&lt;&lt;ti^(t&gt;&gt;Zp)*qp)%Xp,t&amp;Yp&amp;&amp;(s^=ti&lt;&lt;(ti&lt;&lt;BigInt(i))-ti);Bf.push(s)}const[$p,tg]=X.split(Bf,!0),Sl=(n,t,e)=&gt;e&gt;32?X.rotlBH(n,t,e):X.rotlSH(n,t,e),Bl=(n,t,e)=&gt;e&gt;32?X.rotlBL(n,t,e):X.rotlSL(n,t,e);function eg(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r&lt;24;r++){for(let o=0;o&lt;10;o++)e[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o&lt;10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=e[c],u=e[c+1],f=Sl(l,u,1)^e[a],h=Bl(l,u,1)^e[a+1];for(let p=0;p&lt;50;p+=10)n[o+p]^=f,n[o+p+1]^=h}let s=n[2],i=n[3];for(let o=0;o&lt;24;o++){const a=Sf[o],c=Sl(s,i,a),l=Bl(s,i,a),u=Nf[o];s=n[u],i=n[u+1],n[u]=c,n[u+1]=l}for(let o=0;o&lt;50;o+=10){for(let a=0;a&lt;10;a++)e[a]=n[o+a];for(let a=0;a&lt;10;a++)n[o+a]^=~e[(a+2)%10]&amp;e[(a+4)%10]}n[0]^=$p[r],n[1]^=tg[r]}e.fill(0)}class ua extends _o{constructor(t,e,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fe.number(r),0&gt;=this.blockLen||this.blockLen&gt;=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=up(this.state)}keccak(){eg(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){fe.exists(this);const{blockLen:e,state:r}=this;t=Ki(t);const s=t.length;for(let i=0;i&lt;s;){const o=Math.min(e-this.pos,s-i);for(let a=0;a&lt;o;a++)r[this.pos++]^=t[i++];this.pos===e&amp;&amp;this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&amp;128&amp;&amp;r===s-1&amp;&amp;this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){fe.exists(this,!1),fe.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s&lt;i;){this.posOut&gt;=r&amp;&amp;this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return fe.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fe.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new ua(e,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Xn=(n,t,e)=&gt;Wi(()=&gt;new ua(t,n,e));Xn(6,144,224/8);Xn(6,136,256/8);Xn(6,104,384/8);Xn(6,72,512/8);Xn(1,144,224/8);const ng=Xn(1,136,256/8);Xn(1,104,384/8);Xn(1,72,512/8);const Of=(n,t,e)=&gt;dp((r={})=&gt;new ua(t,n,r.dkLen===void 0?e:r.dkLen,!0));Of(31,168,128/8);Of(31,136,256/8);let Tf=!1;const Rf=function(n){return ng(n)};let Lf=Rf;function yt(n){const t=ot(n,"data");return H(Lf(t))}yt._=Rf;yt.lock=function(){Tf=!0};yt.register=function(n){if(Tf)throw new TypeError("keccak256 is locked");Lf=n};Object.freeze(yt);const rg=new Proxy({},{get(n,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),sg=Object.freeze(Object.defineProperty({__proto__:null,default:rg},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const it=BigInt(0),gt=BigInt(1),jn=BigInt(2),li=BigInt(3),Ol=BigInt(8),Ct=Object.freeze({a:it,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:gt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Tl=(n,t)=&gt;(n+t/jn)/t,oo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(n){const{n:t}=Ct,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-gt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=Tl(i*n,t),c=Tl(-r*n,t);let l=F(n-a*e-c*s,t),u=F(-a*r-c*i,t);const f=l&gt;o,h=u&gt;o;if(f&amp;&amp;(l=t-l),h&amp;&amp;(u=t-u),l&gt;o||u&gt;o)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:f,k1:l,k2neg:h,k2:u}}},Re=32,js=32,ig=32,Uo=Re+1,Fo=2*Re+1;function Rl(n){const{a:t,b:e}=Ct,r=F(n*n),s=F(r*n);return F(s+t*n+e)}const ao=Ct.a===it;class _f extends Error{constructor(t){super(t)}}function Ll(n){if(!(n instanceof ct))throw new TypeError("JacobianPoint expected")}class ct{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof ft))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(ft.ZERO)?ct.ZERO:new ct(t.x,t.y,gt)}static toAffineBatch(t){const e=ug(t.map(r=&gt;r.z));return t.map((r,s)=&gt;r.toAffine(e[s]))}static normalizeZ(t){return ct.toAffineBatch(t).map(ct.fromAffine)}equals(t){Ll(t);const{x:e,y:r,z:s}=this,{x:i,y:o,z:a}=t,c=F(s*s),l=F(a*a),u=F(e*l),f=F(i*c),h=F(F(r*a)*l),p=F(F(o*s)*c);return u===f&amp;&amp;h===p}negate(){return new ct(this.x,F(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,s=F(t*t),i=F(e*e),o=F(i*i),a=t+i,c=F(jn*(F(a*a)-s-o)),l=F(li*s),u=F(l*l),f=F(u-jn*c),h=F(l*(c-f)-Ol*o),p=F(jn*e*r);return new ct(f,h,p)}add(t){Ll(t);const{x:e,y:r,z:s}=this,{x:i,y:o,z:a}=t;if(i===it||o===it)return this;if(e===it||r===it)return t;const c=F(s*s),l=F(a*a),u=F(e*l),f=F(i*c),h=F(F(r*a)*l),p=F(F(o*s)*c),m=F(f-u),y=F(p-h);if(m===it)return y===it?this.double():ct.ZERO;const P=F(m*m),N=F(m*P),I=F(u*P),S=F(y*y-N-jn*I),T=F(y*(I-S)-h*N),x=F(s*a*m);return new ct(S,T,x)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=ct.ZERO;if(typeof t=="bigint"&amp;&amp;t===it)return e;let r=Fl(t);if(r===gt)return this;if(!ao){let f=e,h=this;for(;r&gt;it;)r&amp;gt&amp;&amp;(f=f.add(h)),h=h.double(),r&gt;&gt;=gt;return f}let{k1neg:s,k1:i,k2neg:o,k2:a}=oo.splitScalar(r),c=e,l=e,u=this;for(;i&gt;it||a&gt;it;)i&amp;gt&amp;&amp;(c=c.add(u)),a&amp;gt&amp;&amp;(l=l.add(u)),u=u.double(),i&gt;&gt;=gt,a&gt;&gt;=gt;return s&amp;&amp;(c=c.negate()),o&amp;&amp;(l=l.negate()),l=new ct(F(l.x*oo.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const e=ao?128/t+1:256/t+1,r=[];let s=this,i=s;for(let o=0;o&lt;e;o++){i=s,r.push(i);for(let a=1;a&lt;2**(t-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,e){!e&amp;&amp;this.equals(ct.BASE)&amp;&amp;(e=ft.BASE);const r=e&amp;&amp;e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=e&amp;&amp;Wa.get(e);s||(s=this.precomputeWindow(r),e&amp;&amp;r!==1&amp;&amp;(s=ct.normalizeZ(s),Wa.set(e,s)));let i=ct.ZERO,o=ct.BASE;const a=1+(ao?128/r:256/r),c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h&lt;a;h++){const p=h*c;let m=Number(t&amp;l);t&gt;&gt;=f,m&gt;c&amp;&amp;(m-=u,t+=gt);const y=p,P=p+Math.abs(m)-1,N=h%2!==0,I=m&lt;0;m===0?o=o.add(co(N,s[y])):i=i.add(co(I,s[P]))}return{p:i,f:o}}multiply(t,e){let r=Fl(t),s,i;if(ao){const{k1neg:o,k1:a,k2neg:c,k2:l}=oo.splitScalar(r);let{p:u,f}=this.wNAF(a,e),{p:h,f:p}=this.wNAF(l,e);u=co(o,u),h=co(c,h),h=new ct(F(h.x*oo.beta),h.y,h.z),s=u.add(h),i=f.add(p)}else{const{p:o,f:a}=this.wNAF(r,e);s=o,i=a}return ct.normalizeZ([s,i])[0]}toAffine(t){const{x:e,y:r,z:s}=this,i=this.equals(ct.ZERO);t==null&amp;&amp;(t=i?Ol:Zi(s));const o=t,a=F(o*o),c=F(a*o),l=F(e*a),u=F(r*c),f=F(s*o);if(i)return ft.ZERO;if(f!==gt)throw new Error("invZ was invalid");return new ft(l,u)}}ct.BASE=new ct(Ct.Gx,Ct.Gy,gt);ct.ZERO=new ct(it,gt,it);function co(n,t){const e=t.negate();return n?e:t}const Wa=new WeakMap;class ft{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Wa.delete(this)}hasEvenY(){return this.y%jn===it}static fromCompressedHex(t){const e=t.length===32,r=Jn(e?t:t.subarray(1));if(!Ca(r))throw new Error("Point is not on curve");const s=Rl(r);let i=lg(s);const o=(i&amp;gt)===gt;e?o&amp;&amp;(i=F(-i)):(t[0]&amp;1)===1!==o&amp;&amp;(i=F(-i));const a=new ft(r,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Jn(t.subarray(1,Re+1)),r=Jn(t.subarray(Re+1,Re*2+1)),s=new ft(e,r);return s.assertValidity(),s}static fromHex(t){const e=wi(t),r=e.length,s=e[0];if(r===Re)return this.fromCompressedHex(e);if(r===Uo&amp;&amp;(s===2||s===3))return this.fromCompressedHex(e);if(r===Fo&amp;&amp;s===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Uo} compressed bytes or ${Fo} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return ft.BASE.multiply(Ai(t))}static fromSignature(t,e,r){const{r:s,s:i}=gg(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=Uf(wi(t)),{n:a}=Ct,c=r===2||r===3?s+a:s,l=Zi(c,a),u=F(-o*l,a),f=F(i*l,a),h=r&amp;1?"03":"02",p=ft.fromHex(h+es(c)),m=ft.BASE.multiplyAndAddUnsafe(p,u,f);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(t=!1){return xr(this.toHex(t))}toHex(t=!1){const e=es(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${es(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!Ca(e)||!Ca(r))throw new Error(t);const s=F(r*r),i=Rl(e);if(F(s-i)!==it)throw new Error(t)}equals(t){return this.x===t.x&amp;&amp;this.y===t.y}negate(){return new ft(this.x,F(-this.y))}double(){return ct.fromAffine(this).double().toAffine()}add(t){return ct.fromAffine(this).add(ct.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return ct.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const s=ct.fromAffine(this),i=e===it||e===gt||this!==ft.BASE?s.multiplyUnsafe(e):s.multiply(e),o=ct.fromAffine(t).multiplyUnsafe(r),a=i.add(o);return a.equals(ct.ZERO)?void 0:a.toAffine()}}ft.BASE=new ft(Ct.Gx,Ct.Gy);ft.ZERO=new ft(it,it);function _l(n){return Number.parseInt(n[0],16)&gt;=8?"00"+n:n}function Ul(n){if(n.length&lt;2||n[0]!==2)throw new Error(`Invalid signature integer tag: ${Vs(n)}`);const t=n[1],e=n.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&amp;&amp;e[1]&lt;=127)throw new Error("Invalid signature integer: trailing length");return{data:Jn(e),left:n.subarray(t+2)}}function og(n){if(n.length&lt;2||n[0]!=48)throw new Error(`Invalid signature tag: ${Vs(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=Ul(n.subarray(2)),{data:r,left:s}=Ul(e);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Vs(s)}`);return{r:t,s:r}}let ts=class bo{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&amp;&amp;!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=e?Vs(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new bo(Do(s.slice(0,64)),Do(s.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&amp;&amp;!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=og(e?t:xr(t));return new bo(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!yi(t))throw new Error("Invalid Signature: r must be 0 &lt; r &lt; n");if(!yi(e))throw new Error("Invalid Signature: s must be 0 &lt; s &lt; n")}hasHighS(){const t=Ct.n&gt;&gt;gt;return this.s&gt;t}normalizeS(){return this.hasHighS()?new bo(this.r,F(-this.s,Ct.n)):this}toDERRawBytes(){return xr(this.toDERHex())}toDERHex(){const t=_l(ei(this.s)),e=_l(ei(this.r)),r=t.length/2,s=e.length/2,i=ei(r),o=ei(s);return`30${ei(s+r+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return xr(this.toCompactHex())}toCompactHex(){return es(this.r)+es(this.s)}};function Nn(...n){if(!n.every(r=&gt;r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const t=n.reduce((r,s)=&gt;r+s.length,0),e=new Uint8Array(t);for(let r=0,s=0;r&lt;n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}const ag=Array.from({length:256},(n,t)=&gt;t.toString(16).padStart(2,"0"));function Vs(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e&lt;n.length;e++)t+=ag[n[e]];return t}const cg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function es(n){if(typeof n!="bigint")throw new Error("Expected bigint");if(!(it&lt;=n&amp;&amp;n&lt;cg))throw new Error("Expected number 0 &lt;= n &lt; 2^256");return n.toString(16).padStart(64,"0")}function Ya(n){const t=xr(es(n));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function ei(n){const t=n.toString(16);return t.length&amp;1?`0${t}`:t}function Do(n){if(typeof n!="string")throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function xr(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const t=new Uint8Array(n.length/2);for(let e=0;e&lt;t.length;e++){const r=e*2,s=n.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i&lt;0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Jn(n){return Do(Vs(n))}function wi(n){return n instanceof Uint8Array?Uint8Array.from(n):xr(n)}function Fl(n){if(typeof n=="number"&amp;&amp;Number.isSafeInteger(n)&amp;&amp;n&gt;0)return BigInt(n);if(typeof n=="bigint"&amp;&amp;yi(n))return n;throw new TypeError("Expected valid private scalar: 0 &lt; scalar &lt; curve.n")}function F(n,t=Ct.P){const e=n%t;return e&gt;=it?e:t+e}function ge(n,t){const{P:e}=Ct;let r=n;for(;t-- &gt;it;)r*=r,r%=e;return r}function lg(n){const{P:t}=Ct,e=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=n*n*n%t,l=c*c*n%t,u=ge(l,li)*l%t,f=ge(u,li)*l%t,h=ge(f,jn)*c%t,p=ge(h,r)*h%t,m=ge(p,s)*p%t,y=ge(m,o)*m%t,P=ge(y,a)*y%t,N=ge(P,o)*m%t,I=ge(N,li)*l%t,S=ge(I,i)*p%t,T=ge(S,e)*c%t,x=ge(T,jn);if(x*x%t!==n)throw new Error("Cannot find square root");return x}function Zi(n,t=Ct.P){if(n===it||t&lt;=it)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=F(n,t),r=t,s=it,i=gt;for(;e!==it;){const a=r/e,c=r%e,l=s-i*a;r=e,e=c,s=i,i=l}if(r!==gt)throw new Error("invert: does not exist");return F(s,t)}function ug(n,t=Ct.P){const e=new Array(n.length),r=n.reduce((i,o,a)=&gt;o===it?i:(e[a]=i,F(i*o,t)),gt),s=Zi(r,t);return n.reduceRight((i,o,a)=&gt;o===it?i:(e[a]=F(i*e[a],t),F(i*o,t)),s),e}function fg(n){const t=n.length*8-js*8,e=Jn(n);return t&gt;0?e&gt;&gt;BigInt(t):e}function Uf(n,t=!1){const e=fg(n);if(t)return e;const{n:r}=Ct;return e&gt;=r?e-r:e}let ns,ui;class hg{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t&lt;2)throw new Error("hashLen must be a number");if(typeof e!="number"||e&lt;2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Vn.hmacSha256(this.k,...t)}hmacSync(...t){return ui(this.k,...t)}checkSync(){if(typeof ui!="function")throw new _f("hmacSha256Sync needs to be set")}incr(){if(this.counter&gt;=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&amp;&amp;(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&amp;&amp;(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return Nn(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return Nn(...e)}}function yi(n){return it&lt;n&amp;&amp;n&lt;Ct.n}function Ca(n){return it&lt;n&amp;&amp;n&lt;Ct.P}function dg(n,t,e,r=!0){const{n:s}=Ct,i=Uf(n,!0);if(!yi(i))return;const o=Zi(i,s),a=ft.BASE.multiply(i),c=F(a.x,s);if(c===it)return;const l=F(o*F(t+e*c,s),s);if(l===it)return;let u=new ts(c,l),f=(a.x===u.r?0:2)|Number(a.y&amp;gt);return r&amp;&amp;u.hasHighS()&amp;&amp;(u=u.normalizeS(),f^=1),{sig:u,recovery:f}}function Ai(n){let t;if(typeof n=="bigint")t=n;else if(typeof n=="number"&amp;&amp;Number.isSafeInteger(n)&amp;&amp;n&gt;0)t=BigInt(n);else if(typeof n=="string"){if(n.length!==2*js)throw new Error("Expected 32 bytes of private key");t=Do(n)}else if(n instanceof Uint8Array){if(n.length!==js)throw new Error("Expected 32 bytes of private key");t=Jn(n)}else throw new TypeError("Expected valid private key");if(!yi(t))throw new Error("Expected private key: 0 &lt; key &lt; n");return t}function pg(n){return n instanceof ft?(n.assertValidity(),n):ft.fromHex(n)}function gg(n){if(n instanceof ts)return n.assertValidity(),n;try{return ts.fromDER(n)}catch{return ts.fromCompact(n)}}function mg(n,t=!1){return ft.fromPrivateKey(n).toRawBytes(t)}function wg(n,t,e,r=!1){return ft.fromSignature(n,t,e).toRawBytes(r)}function Dl(n){const t=n instanceof Uint8Array,e=typeof n=="string",r=(t||e)&amp;&amp;n.length;return t?r===Uo||r===Fo:e?r===Uo*2||r===Fo*2:n instanceof ft}function yg(n,t,e=!1){if(Dl(n))throw new TypeError("getSharedSecret: first arg must be private key");if(!Dl(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=pg(t);return r.assertValidity(),r.multiply(Ai(n)).toRawBytes(e)}function Ff(n){const t=n.length&gt;Re?n.slice(0,Re):n;return Jn(t)}function Ag(n){const t=Ff(n),e=F(t,Ct.n);return Df(e&lt;it?t:e)}function Df(n){return Ya(n)}function bg(n,t,e){if(n==null)throw new Error(`sign: expected valid message hash, not "${n}"`);const r=wi(n),s=Ai(t),i=[Df(s),Ag(r)];if(e!=null){e===!0&amp;&amp;(e=Vn.randomBytes(Re));const c=wi(e);if(c.length!==Re)throw new Error(`sign: Expected ${Re} bytes of extra data`);i.push(c)}const o=Nn(...i),a=Ff(r);return{seed:o,m:a,d:s}}function vg(n,t){const{sig:e,recovery:r}=n,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=s?e.toDERRawBytes():e.toCompactRawBytes();return i?[o,r]:o}function Eg(n,t,e={}){const{seed:r,m:s,d:i}=bg(n,t,e.extraEntropy),o=new hg(ig,js);o.reseedSync(r);let a;for(;!(a=dg(o.generateSync(),s,i,e.canonical));)o.reseedSync();return vg(a,e)}ft.BASE._setWindowSize(8);const oe={node:sg,web:typeof self=="object"&amp;&amp;"crypto"in self?self.crypto:void 0},lo={},Vn={bytesToHex:Vs,hexToBytes:xr,concatBytes:Nn,mod:F,invert:Zi,isValidPrivateKey(n){try{return Ai(n),!0}catch{return!1}},_bigintTo32Bytes:Ya,_normalizePrivateKey:Ai,hashToPrivateKey:n=&gt;{n=wi(n);const t=js+8;if(n.length&lt;t||n.length&gt;1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=F(Jn(n),Ct.n-gt)+gt;return Ya(e)},randomBytes:(n=32)=&gt;{if(oe.web)return oe.web.getRandomValues(new Uint8Array(n));if(oe.node){const{randomBytes:t}=oe.node;return Uint8Array.from(t(n))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=&gt;Vn.hashToPrivateKey(Vn.randomBytes(js+8)),precompute(n=8,t=ft.BASE){const e=t===ft.BASE?t:new ft(t.x,t.y);return e._setWindowSize(n),e.multiply(li),e},sha256:async(...n)=&gt;{if(oe.web){const t=await oe.web.subtle.digest("SHA-256",Nn(...n));return new Uint8Array(t)}else if(oe.node){const{createHash:t}=oe.node,e=t("sha256");return n.forEach(r=&gt;e.update(r)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...t)=&gt;{if(oe.web){const e=await oe.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Nn(...t),s=await oe.web.subtle.sign("HMAC",e,r);return new Uint8Array(s)}else if(oe.node){const{createHmac:e}=oe.node,r=e("sha256",n);return t.forEach(s=&gt;r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...t)=&gt;{let e=lo[n];if(e===void 0){const r=await Vn.sha256(Uint8Array.from(n,s=&gt;s.charCodeAt(0)));e=Nn(r,r),lo[n]=e}return Vn.sha256(e,...t)},taggedHashSync:(n,...t)=&gt;{if(typeof ns!="function")throw new _f("sha256Sync is undefined, you need to set it");let e=lo[n];if(e===void 0){const r=ns(Uint8Array.from(n,s=&gt;s.charCodeAt(0)));e=Nn(r,r),lo[n]=e}return ns(e,...t)},_JacobianPoint:ct};Object.defineProperties(Vn,{sha256Sync:{configurable:!1,get(){return ns},set(n){ns||(ns=n)}},hmacSha256Sync:{configurable:!1,get(){return ui},set(n){ui||(ui=n)}}});const Za="0x0000000000000000000000000000000000000000",Ml="0x0000000000000000000000000000000000000000000000000000000000000000",Hl=BigInt(0),Gl=BigInt(1),Ql=BigInt(2),jl=BigInt(27),Vl=BigInt(28),uo=BigInt(35),Dr={};function zl(n){return Nr(he(n),32)}var fs,hs,ds,pr;const xe=class xe{constructor(t,e,r,s){C(this,fs,void 0);C(this,hs,void 0);C(this,ds,void 0);C(this,pr,void 0);aa(t,Dr,"Signature"),w(this,fs,e),w(this,hs,r),w(this,ds,s),w(this,pr,null)}get r(){return d(this,fs)}set r(t){b($r(t)===32,"invalid r","value",t),w(this,fs,H(t))}get s(){return d(this,hs)}set s(t){b($r(t)===32,"invalid s","value",t);const e=H(t);b(parseInt(e.substring(0,3))&lt;8,"non-canonical s","value",e),w(this,hs,e)}get v(){return d(this,ds)}set v(t){const e=tt(t,"value");b(e===27||e===28,"invalid v","v",t),w(this,ds,e)}get networkV(){return d(this,pr)}get legacyChainId(){const t=this.networkV;return t==null?null:xe.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=ot(this.s);return this.yParity&amp;&amp;(t[0]|=128),H(t)}get compactSerialized(){return It([this.r,this.yParityAndS])}get serialized(){return It([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new xe(Dr,this.r,this.s,this.v);return this.networkV&amp;&amp;w(t,pr,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=Q(t,"v");return e==jl||e==Vl?Hl:(b(e&gt;=uo,"invalid EIP-155 v","v",t),(e-uo)/Ql)}static getChainIdV(t,e){return Q(t)*Ql+BigInt(35+e-27)}static getNormalizedV(t){const e=Q(t);return e===Hl||e===jl?27:e===Gl||e===Vl?28:(b(e&gt;=uo,"invalid v","v",t),e&amp;Gl?27:28)}static from(t){function e(l,u){b(l,u,"signature",t)}if(t==null)return new xe(Dr,Ml,Ml,27);if(typeof t=="string"){const l=ot(t,"signature");if(l.length===64){const u=H(l.slice(0,32)),f=l.slice(32,64),h=f[0]&amp;128?28:27;return f[0]&amp;=127,new xe(Dr,u,H(f),h)}if(l.length===65){const u=H(l.slice(0,32)),f=l.slice(32,64);e((f[0]&amp;128)===0,"non-canonical s");const h=xe.getNormalizedV(l[64]);return new xe(Dr,u,H(f),h)}e(!1,"invalid raw signature length")}if(t instanceof xe)return t.clone();const r=t.r;e(r!=null,"missing r");const s=zl(r),i=function(l,u){if(l!=null)return zl(l);if(u!=null){e(At(u,32),"invalid yParityAndS");const f=ot(u);return f[0]&amp;=127,H(f)}e(!1,"missing s")}(t.s,t.yParityAndS);e((ot(i)[0]&amp;128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,f){if(l!=null){const h=Q(l);return{networkV:h&gt;=uo?h:void 0,v:xe.getNormalizedV(h)}}if(u!=null)return e(At(u,32),"invalid yParityAndS"),{v:ot(u)[0]&amp;128?28:27};if(f!=null){switch(tt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),c=new xe(Dr,s,i,a);return o&amp;&amp;w(c,pr,o),e(t.yParity==null||tt(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};fs=new WeakMap,hs=new WeakMap,ds=new WeakMap,pr=new WeakMap;let Fe=xe;Vn.hmacSha256Sync=function(n,...t){return ot(Yi("sha256",n,It(t)))};var on;const sr=class sr{constructor(t){C(this,on,void 0);b($r(t)===32,"invalid private key","privateKey","[REDACTED]"),w(this,on,H(t))}get privateKey(){return d(this,on)}get publicKey(){return sr.computePublicKey(d(this,on))}get compressedPublicKey(){return sr.computePublicKey(d(this,on),!0)}sign(t){b($r(t)===32,"invalid digest length","digest",t);const[e,r]=Eg(ee(t),ee(d(this,on)),{recovered:!0,canonical:!0}),s=ts.fromHex(e);return Fe.from({r:Wn("0x"+s.r.toString(16),32),s:Wn("0x"+s.s.toString(16),32),v:r?28:27})}computeSharedSecret(t){const e=sr.computePublicKey(t);return H(yg(ee(d(this,on)),ot(e)))}static computePublicKey(t,e){let r=ot(t,"key");if(r.length===32){const i=mg(r,!!e);return H(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=ft.fromHex(r);return H(s.toRawBytes(e))}static recoverPublicKey(t,e){b($r(t)===32,"invalid digest length","digest",t);const r=Fe.from(e),s=ts.fromCompact(ee(It([r.r,r.s]))).toDERRawBytes(),i=wg(ee(t),s,r.yParity);return b(i!=null,"invalid signature for digest","signature",e),H(i)}static addPoints(t,e,r){const s=ft.fromHex(sr.computePublicKey(t).substring(2)),i=ft.fromHex(sr.computePublicKey(e).substring(2));return"0x"+s.add(i).toHex(!!r)}};on=new WeakMap;let bi=sr;const kg=BigInt(0),Cg=BigInt(36);function Jl(n){n=n.toLowerCase();const t=n.substring(2).split(""),e=new Uint8Array(40);for(let s=0;s&lt;40;s++)e[s]=t[s].charCodeAt(0);const r=ot(yt(e));for(let s=0;s&lt;40;s+=2)r[s&gt;&gt;1]&gt;&gt;4&gt;=8&amp;&amp;(t[s]=t[s].toUpperCase()),(r[s&gt;&gt;1]&amp;15)&gt;=8&amp;&amp;(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const Yc={};for(let n=0;n&lt;10;n++)Yc[String(n)]=String(n);for(let n=0;n&lt;26;n++)Yc[String.fromCharCode(65+n)]=String(10+n);const Kl=15;function Pg(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let t=n.split("").map(r=&gt;Yc[r]).join("");for(;t.length&gt;=Kl;){let r=t.substring(0,Kl);t=parseInt(r,10)%97+t.substring(r.length)}let e=String(98-parseInt(t,10)%97);for(;e.length&lt;2;)e="0"+e;return e}const xg=function(){const n={};for(let t=0;t&lt;36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];n[e]=BigInt(t)}return n}();function Ig(n){n=n.toLowerCase();let t=kg;for(let e=0;e&lt;n.length;e++)t=t*Cg+xg[n[e]];return t}function lt(n){if(b(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const t=Jl(n);return b(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===n,"bad address checksum","address",n),t}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){b(n.substring(2,4)===Pg(n),"bad icap checksum","address",n);let t=Ig(n.substring(4)).toString(16);for(;t.length&lt;40;)t="0"+t;return Jl("0x"+t)}b(!1,"invalid address","address",n)}function Ng(n){const t=lt(n.from);let r=Q(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,lt(Et(yt(mi([t,r])),12))}function Mf(n){return n&amp;&amp;typeof n.getAddress=="function"}async function Pa(n,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&amp;&amp;(B(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),b(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),lt(e)}function ne(n,t){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?lt(n):(B(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Pa(n,t.resolveName(n)));if(Mf(n))return Pa(n,n.getAddress());if(n&amp;&amp;typeof n.then=="function")return Pa(n,n);b(!1,"unsupported addressable value","target",n)}const qe={};function U(n,t){let e=!1;return t&lt;0&amp;&amp;(e=!0,t*=-1),new Vt(qe,`${e?"":"u"}int${t}`,n,{signed:e,width:t})}function at(n,t){return new Vt(qe,`bytes${t||""}`,n,{size:t})}const Wl=Symbol.for("_ethers_typed");var gr;const $e=class $e{constructor(t,e,r,s){k(this,"type");k(this,"value");C(this,gr,void 0);k(this,"_typedSymbol");s==null&amp;&amp;(s=null),aa(qe,t,"Typed"),W(this,{_typedSymbol:Wl,type:e,value:r}),w(this,gr,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=&gt;t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,gr)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,gr)===!0?-1:d(this,gr)===!1?this.value.length:null}static from(t,e){return new $e(qe,t,e)}static uint8(t){return U(t,8)}static uint16(t){return U(t,16)}static uint24(t){return U(t,24)}static uint32(t){return U(t,32)}static uint40(t){return U(t,40)}static uint48(t){return U(t,48)}static uint56(t){return U(t,56)}static uint64(t){return U(t,64)}static uint72(t){return U(t,72)}static uint80(t){return U(t,80)}static uint88(t){return U(t,88)}static uint96(t){return U(t,96)}static uint104(t){return U(t,104)}static uint112(t){return U(t,112)}static uint120(t){return U(t,120)}static uint128(t){return U(t,128)}static uint136(t){return U(t,136)}static uint144(t){return U(t,144)}static uint152(t){return U(t,152)}static uint160(t){return U(t,160)}static uint168(t){return U(t,168)}static uint176(t){return U(t,176)}static uint184(t){return U(t,184)}static uint192(t){return U(t,192)}static uint200(t){return U(t,200)}static uint208(t){return U(t,208)}static uint216(t){return U(t,216)}static uint224(t){return U(t,224)}static uint232(t){return U(t,232)}static uint240(t){return U(t,240)}static uint248(t){return U(t,248)}static uint256(t){return U(t,256)}static uint(t){return U(t,256)}static int8(t){return U(t,-8)}static int16(t){return U(t,-16)}static int24(t){return U(t,-24)}static int32(t){return U(t,-32)}static int40(t){return U(t,-40)}static int48(t){return U(t,-48)}static int56(t){return U(t,-56)}static int64(t){return U(t,-64)}static int72(t){return U(t,-72)}static int80(t){return U(t,-80)}static int88(t){return U(t,-88)}static int96(t){return U(t,-96)}static int104(t){return U(t,-104)}static int112(t){return U(t,-112)}static int120(t){return U(t,-120)}static int128(t){return U(t,-128)}static int136(t){return U(t,-136)}static int144(t){return U(t,-144)}static int152(t){return U(t,-152)}static int160(t){return U(t,-160)}static int168(t){return U(t,-168)}static int176(t){return U(t,-176)}static int184(t){return U(t,-184)}static int192(t){return U(t,-192)}static int200(t){return U(t,-200)}static int208(t){return U(t,-208)}static int216(t){return U(t,-216)}static int224(t){return U(t,-224)}static int232(t){return U(t,-232)}static int240(t){return U(t,-240)}static int248(t){return U(t,-248)}static int256(t){return U(t,-256)}static int(t){return U(t,-256)}static bytes1(t){return at(t,1)}static bytes2(t){return at(t,2)}static bytes3(t){return at(t,3)}static bytes4(t){return at(t,4)}static bytes5(t){return at(t,5)}static bytes6(t){return at(t,6)}static bytes7(t){return at(t,7)}static bytes8(t){return at(t,8)}static bytes9(t){return at(t,9)}static bytes10(t){return at(t,10)}static bytes11(t){return at(t,11)}static bytes12(t){return at(t,12)}static bytes13(t){return at(t,13)}static bytes14(t){return at(t,14)}static bytes15(t){return at(t,15)}static bytes16(t){return at(t,16)}static bytes17(t){return at(t,17)}static bytes18(t){return at(t,18)}static bytes19(t){return at(t,19)}static bytes20(t){return at(t,20)}static bytes21(t){return at(t,21)}static bytes22(t){return at(t,22)}static bytes23(t){return at(t,23)}static bytes24(t){return at(t,24)}static bytes25(t){return at(t,25)}static bytes26(t){return at(t,26)}static bytes27(t){return at(t,27)}static bytes28(t){return at(t,28)}static bytes29(t){return at(t,29)}static bytes30(t){return at(t,30)}static bytes31(t){return at(t,31)}static bytes32(t){return at(t,32)}static address(t){return new $e(qe,"address",t)}static bool(t){return new $e(qe,"bool",!!t)}static bytes(t){return new $e(qe,"bytes",t)}static string(t){return new $e(qe,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new $e(qe,"overrides",Object.assign({},t))}static isTyped(t){return t&amp;&amp;typeof t=="object"&amp;&amp;"_typedSymbol"in t&amp;&amp;t._typedSymbol===Wl}static dereference(t,e){if($e.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};gr=new WeakMap;let Vt=$e;class Sg extends bn{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=Vt.dereference(e,"string");try{r=lt(r)}catch(s){return this._throwError(s.message,e)}return t.writeValue(r)}decode(t){return lt(Wn(t.readValue(),20))}}class Bg extends bn{constructor(e){super(e.name,e.type,"_",e.dynamic);k(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}function Hf(n,t,e){let r=[];if(Array.isArray(e))r=e;else if(e&amp;&amp;typeof e=="object"){let c={};r=t.map(l=&gt;{const u=l.localName;return B(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),B(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),c[u]=!0,e[u]})}else b(!1,"invalid tuple value","tuple",e);b(t.length===r.length,"types/value length mismatch","tuple",e);let s=new Va,i=new Va,o=[];t.forEach((c,l)=&gt;{let u=r[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();o.push(p=&gt;{h(p+f)})}else c.encode(s,u)}),o.forEach(c=&gt;{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function Gf(n,t){let e=[],r=[],s=n.subReader(0);return t.forEach(i=&gt;{let o=null;if(i.dynamic){let a=n.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(ke(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(ke(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),r.push(i.localName||null)}),Lo.fromItems(e,r)}class Og extends bn{constructor(e,r,s){const i=e.type+"["+(r&gt;=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,s,o);k(this,"coder");k(this,"length");W(this,{coder:e,length:r})}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let s=0;s&lt;this.length;s++)r.push(e);return r}encode(e,r){const s=Vt.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&amp;&amp;(i=s.length,e.writeValue(s.length)),cf(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a&lt;s.length;a++)o.push(this.coder);return Hf(e,o,s)}decode(e){let r=this.length;r===-1&amp;&amp;(r=e.readIndex(),B(r*Wt&lt;=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*Wt,length:e.dataLength}));let s=[];for(let i=0;i&lt;r;i++)s.push(new Bg(this.coder));return Gf(e,s)}}class Tg extends bn{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=Vt.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class Qf extends bn{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=ee(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class Rg extends Qf{constructor(t){super("bytes",t)}decode(t){return H(super.decode(t))}}class Lg extends bn{constructor(e,r){let s="bytes"+String(e);super(s,s,r,!1);k(this,"size");W(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let s=ee(Vt.dereference(r,this.type));return s.length!==this.size&amp;&amp;this._throwError("incorrect data length",r),e.writeBytes(s)}decode(e){return H(e.readBytes(this.size))}}const _g=new Uint8Array([]);class Ug extends bn{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&amp;&amp;this._throwError("not null",e),t.writeBytes(_g)}decode(t){return t.readBytes(0),null}}const Fg=BigInt(0),Dg=BigInt(1),Mg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Hg extends bn{constructor(e,r,s){const i=(r?"int":"uint")+e*8;super(i,i,s,!1);k(this,"size");k(this,"signed");W(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let s=Q(Vt.dereference(r,this.type)),i=ni(Mg,Wt*8);if(this.signed){let o=ni(i,this.size*8-1);(s&gt;o||s&lt;-(o+Dg))&amp;&amp;this._throwError("value out-of-bounds",r),s=ff(s,8*Wt)}else(s&lt;Fg||s&gt;ni(i,this.size*8))&amp;&amp;this._throwError("value out-of-bounds",r);return e.writeValue(s)}decode(e){let r=ni(e.readValue(),this.size*8);return this.signed&amp;&amp;(r=Md(r,this.size*8)),r}}class Gg extends Qf{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,mn(Vt.dereference(e,"string")))}decode(t){return Jc(super.decode(t))}}class fo extends bn{constructor(e,r){let s=!1;const i=[];e.forEach(a=&gt;{a.dynamic&amp;&amp;(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);k(this,"coders");W(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(s=&gt;{e.push(s.defaultValue())});const r=this.coders.reduce((s,i)=&gt;{const o=i.localName;return o&amp;&amp;(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=&gt;{let o=s.localName;!o||r[o]!==1||(o==="length"&amp;&amp;(o="_length"),e[o]==null&amp;&amp;(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){const s=Vt.dereference(r,"tuple");return Hf(e,this.coders,s)}decode(e){return Gf(e,this.coders)}}function Sr(n){return yt(mn(n))}function Qg(n){let t=0;function e(){return n[t++]&lt;&lt;8|n[t++]}let r=e(),s=1,i=[0,1];for(let x=1;x&lt;r;x++)i.push(s+=e());let o=e(),a=t;t+=o;let c=0,l=0;function u(){return c==0&amp;&amp;(l=l&lt;&lt;8|n[t++],c=8),l&gt;&gt;--c&amp;1}const f=31,h=2**f,p=h&gt;&gt;&gt;1,m=p&gt;&gt;1,y=h-1;let P=0;for(let x=0;x&lt;f;x++)P=P&lt;&lt;1|u();let N=[],I=0,S=h;for(;;){let x=Math.floor(((P-I+1)*s-1)/S),R=0,M=r;for(;M-R&gt;1;){let G=R+M&gt;&gt;&gt;1;x&lt;i[G]?M=G:R=G}if(R==0)break;N.push(R);let Z=I+Math.floor(S*i[R]/s),Y=I+Math.floor(S*i[R+1]/s)-1;for(;!((Z^Y)&amp;p);)P=P&lt;&lt;1&amp;y|u(),Z=Z&lt;&lt;1&amp;y,Y=Y&lt;&lt;1&amp;y|1;for(;Z&amp;~Y&amp;m;)P=P&amp;p|P&lt;&lt;1&amp;y&gt;&gt;&gt;1|u(),Z=Z&lt;&lt;1^p,Y=(Y^p)&lt;&lt;1|p|1;I=Z,S=1+Y-Z}let T=r-4;return N.map(x=&gt;{switch(x-T){case 3:return T+65792+(n[a++]&lt;&lt;16|n[a++]&lt;&lt;8|n[a++]);case 2:return T+256+(n[a++]&lt;&lt;8|n[a++]);case 1:return T+n[a++];default:return x-1}})}function jg(n){let t=0;return()=&gt;n[t++]}function jf(n){return jg(Qg(Vg(n)))}function Vg(n){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=&gt;t[s.charCodeAt(0)]=i);let e=n.length,r=new Uint8Array(6*e&gt;&gt;3);for(let s=0,i=0,o=0,a=0;s&lt;e;s++)a=a&lt;&lt;6|t[n.charCodeAt(s)],o+=6,o&gt;=8&amp;&amp;(r[i++]=a&gt;&gt;(o-=8));return r}function zg(n){return n&amp;1?~n&gt;&gt;1:n&gt;&gt;1}function Jg(n,t){let e=Array(n);for(let r=0,s=0;r&lt;n;r++)e[r]=s+=zg(t());return e}function Yn(n,t=0){let e=[];for(;;){let r=n(),s=n();if(!s)break;t+=r;for(let i=0;i&lt;s;i++)e.push(t+i);t+=s+1}return e}function Vf(n){return vi(()=&gt;{let t=Yn(n);if(t.length)return t})}function zf(n){let t=[];for(;;){let e=n();if(e==0)break;t.push(Kg(e,n))}for(;;){let e=n()-1;if(e&lt;0)break;t.push(Wg(e,n))}return t.flat()}function vi(n){let t=[];for(;;){let e=n(t.length);if(!e)break;t.push(e)}return t}function Jf(n,t,e){let r=Array(n).fill().map(()=&gt;[]);for(let s=0;s&lt;t;s++)Jg(n,e).forEach((i,o)=&gt;r[o].push(i));return r}function Kg(n,t){let e=1+t(),r=t(),s=vi(t);return Jf(s.length,1+n,t).flatMap((o,a)=&gt;{let[c,...l]=o;return Array(s[a]).fill().map((u,f)=&gt;{let h=f*r;return[c+f*e,l.map(p=&gt;p+h)]})})}function Wg(n,t){let e=1+t();return Jf(e,1+n,t).map(s=&gt;[s[0],s.slice(1)])}var de=jf("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");const Yl=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Zl=4;function Yg(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Kf(n){return`{${Yg(n)}}`}function Zg(n){let t=[];for(let e=0,r=n.length;e&lt;r;){let s=n.codePointAt(e);e+=s&lt;65536?1:2,t.push(s)}return t}function Ei(n){let e=n.length;if(e&lt;4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s&lt;e;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}var Zc=jf("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");function si(n){return n&gt;&gt;24&amp;255}function Wf(n){return n&amp;16777215}const Xg=new Map(Vf(Zc).flatMap((n,t)=&gt;n.map(e=&gt;[e,t+1&lt;&lt;24]))),qg=new Set(Yn(Zc)),Yf=new Map,Xa=new Map;for(let[n,t]of zf(Zc)){if(!qg.has(n)&amp;&amp;t.length==2){let[e,r]=t,s=Xa.get(e);s||(s=new Map,Xa.set(e,s)),s.set(r,n)}Yf.set(n,t.reverse())}const ki=44032,Mo=4352,Ho=4449,Go=4519,Zf=19,Xf=21,zs=28,Qo=Xf*zs,$g=Zf*Qo,tm=ki+$g,em=Mo+Zf,nm=Ho+Xf,rm=Go+zs;function qf(n){return n&gt;=ki&amp;&amp;n&lt;tm}function sm(n,t){if(n&gt;=Mo&amp;&amp;n&lt;em&amp;&amp;t&gt;=Ho&amp;&amp;t&lt;nm)return ki+(n-Mo)*Qo+(t-Ho)*zs;if(qf(n)&amp;&amp;t&gt;Go&amp;&amp;t&lt;rm&amp;&amp;(n-ki)%zs==0)return n+(t-Go);{let e=Xa.get(n);return e&amp;&amp;(e=e.get(t),e)?e:-1}}function $f(n){let t=[],e=[],r=!1;function s(i){let o=Xg.get(i);o&amp;&amp;(r=!0,i|=o),t.push(i)}for(let i of n)for(;;){if(i&lt;128)t.push(i);else if(qf(i)){let o=i-ki,a=o/Qo|0,c=o%Qo/zs|0,l=o%zs;s(Mo+a),s(Ho+c),l&gt;0&amp;&amp;s(Go+l)}else{let o=Yf.get(i);o?e.push(...o):s(i)}if(!e.length)break;i=e.pop()}if(r&amp;&amp;t.length&gt;1){let i=si(t[0]);for(let o=1;o&lt;t.length;o++){let a=si(t[o]);if(a==0||i&lt;=a){i=a;continue}let c=o-1;for(;;){let l=t[c+1];if(t[c+1]=t[c],t[c]=l,!c||(i=si(t[--c]),i&lt;=a))break}i=si(t[o])}}return t}function im(n){let t=[],e=[],r=-1,s=0;for(let i of n){let o=si(i),a=Wf(i);if(r==-1)o==0?r=a:t.push(a);else if(s&gt;0&amp;&amp;s&gt;=o)o==0?(t.push(r,...e),e.length=0,r=a):e.push(a),s=o;else{let c=sm(r,a);c&gt;=0?r=c:s==0&amp;&amp;o==0?(t.push(r),r=a):(e.push(a),s=o)}}return r&gt;=0&amp;&amp;t.push(r,...e),t}function th(n){return $f(n).map(Wf)}function om(n){return im($f(n))}const qa=65039,eh=".",nh=1,Xl=45;function Ws(){return new Set(Yn(de))}const am=new Map(zf(de)),cm=Ws(),jo=Ws(),ql=new Set(Yn(de).map(function(n){return this[n]},[...jo])),lm=Ws();Ws();const um=Vf(de);function $l(){return new Set([Yn(de).map(n=&gt;um[n]),Yn(de)].flat(2))}const fm=de(),Ci=vi(n=&gt;{let t=vi(de).map(e=&gt;e+96);if(t.length){let e=n&gt;=fm;t[0]-=32,t=Ei(t),e&amp;&amp;(t=`Restricted[${t}]`);let r=$l(),s=$l(),i=[...r,...s].sort((a,c)=&gt;a-c),o=!de();return{N:t,P:r,M:o,R:e,V:new Set(i)}}}),tu=Ws(),Pi=new Map;[...tu,...Ws()].sort((n,t)=&gt;n-t).map((n,t,e)=&gt;{let r=de(),s=e[t]=r?e[t-r]:{V:[],M:new Map};s.V.push(n),tu.has(n)||Pi.set(n,s)});for(let{V:n,M:t}of new Set(Pi.values())){let e=[];for(let s of n){let i=Ci.filter(a=&gt;a.V.has(s)),o=e.find(({G:a})=&gt;i.some(c=&gt;a.has(c)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(s),i.forEach(a=&gt;o.G.add(a))}let r=e.flatMap(({G:s})=&gt;[...s]);for(let{G:s,V:i}of e){let o=new Set(r.filter(a=&gt;!s.has(a)));for(let a of i)t.set(a,o)}}let xi=new Set,rh=new Set;for(let n of Ci)for(let t of n.V)(xi.has(t)?rh:xi).add(t);for(let n of xi)!Pi.has(n)&amp;&amp;!rh.has(n)&amp;&amp;Pi.set(n,nh);const hm=new Set([...xi,...th(xi)]),dm=Yn(de),pm=sh([]);function sh(n){let t=vi(()=&gt;{let a=Yn(de).map(c=&gt;dm[c]);if(a.length)return sh(a)}).sort((a,c)=&gt;c.Q.size-a.Q.size),e=de(),r=e%3;e=e/3|0;let s=e&amp;1;e&gt;&gt;=1;let i=e&amp;1,o=e&amp;2;return{B:t,V:r,F:s,S:i,C:o,Q:new Set(n)}}class gm extends Array{get is_emoji(){return!0}}function fa(n,t=Kf){let e=[];ym(n[0])&amp;&amp;e.push("â—Œ");let r=0,s=n.length;for(let i=0;i&lt;s;i++){let o=n[i];ih(o)&amp;&amp;(e.push(Ei(n.slice(r,i))),e.push(t(o)),r=i+1)}return e.push(Ei(n.slice(r,s))),e.join("")}function Xc(n){return(ih(n)?"":`${qc(fa([n]))} `)+Kf(n)}function qc(n){return`"${n}"â€Ž`}function mm(n){if(n.length&gt;=4&amp;&amp;n[2]==Xl&amp;&amp;n[3]==Xl)throw new Error("invalid label extension")}function eu(n){for(let e=n.lastIndexOf(95);e&gt;0;)if(n[--e]!==95)throw new Error("underscore allowed only at start")}function wm(n){let t=n[0],e=Yl.get(t);if(e)throw fi(`leading ${e}`);let r=n.length,s=-1;for(let i=1;i&lt;r;i++){t=n[i];let o=Yl.get(t);if(o){if(s==i)throw fi(`${e} + ${o}`);s=i+1,e=o}}if(s==r)throw fi(`trailing ${e}`)}function ym(n){return jo.has(n)}function ih(n){return lm.has(n)}function Am(n){return km(bm(n))}function bm(n,t){let e=0;return n.split(eh).map(r=&gt;{let s=Zg(r),i={input:s,offset:e};e+=s.length+1;let o;try{let a=i.tokens=Pm(s,om),c=a.length,l;if(c){let u=a[0],f=c&gt;1||u.is_emoji;if(!f&amp;&amp;u.every(h=&gt;h&lt;128))o=u,eu(o),mm(o),l="ASCII";else if(f&amp;&amp;(i.emoji=!0,u=a.flatMap(h=&gt;h.is_emoji?[]:h)),o=a.flatMap(h=&gt;!t&amp;&amp;h.is_emoji?xm(h):h),eu(o),!u.length)l="Emoji";else{if(jo.has(o[0]))throw fi("leading combining mark");for(let m=1;m&lt;c;m++){let y=a[m];if(!y.is_emoji&amp;&amp;jo.has(y[0]))throw fi(`emoji + combining mark: "${Ei(a[m-1])} + ${fa([y[0]])}"`)}wm(o);let h=[...new Set(u)],[p]=Em(h);Cm(p,u),vm(p,h),l=p.N}}else throw new Error("empty label");i.type=l}catch(a){i.error=a}return i.output=o,i})}function vm(n,t){let e,r=[];for(let s of t){let i=Pi.get(s);if(i===nh)return;if(i){let o=i.M.get(s);if(e=e?e.filter(a=&gt;o.has(a)):[...o],!e.length)return}else r.push(s)}if(e){for(let s of e)if(r.every(i=&gt;s.V.has(i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function Em(n){let t=Ci;for(let e of n){let r=t.filter(s=&gt;s.V.has(e));if(!r.length)throw t===Ci?oh(e):ah(t[0],e);if(t=r,r.length==1)break}return t}function km(n){return n.map(({input:t,error:e,output:r})=&gt;{if(e){let s=e.message;throw new Error(n.length==1?s:`Invalid label ${qc(fa(t))}: ${s}`)}return Ei(r)}).join(eh)}function oh(n){return new Error(`disallowed character: ${Xc(n)}`)}function ah(n,t){let e=Xc(t),r=Ci.find(s=&gt;s.P.has(t));return r&amp;&amp;(e=`${r.N} ${e}`),new Error(`illegal mixture: ${n.N} + ${e}`)}function fi(n){return new Error(`illegal placement: ${n}`)}function Cm(n,t){let{V:e,M:r}=n;for(let s of t)if(!e.has(s))throw ah(n,s);if(r){let s=th(t);for(let i=1,o=s.length;i&lt;o;i++)if(ql.has(s[i])){let a=i+1;for(let c;a&lt;o&amp;&amp;ql.has(c=s[a]);a++)for(let l=i;l&lt;a;l++)if(s[l]==c)throw new Error(`non-spacing marks: repeated ${Xc(c)}`);if(a-i&gt;Zl)throw new Error(`non-spacing marks: too many ${qc(fa(s.slice(i-1,a)))} (${a-i}/${Zl})`);i=a}}}function Pm(n,t){let e=[],r=[];for(n=n.slice().reverse();n.length;){let s=Im(n);if(s)r.length&amp;&amp;(e.push(t(r)),r=[]),e.push(s);else{let i=n.pop();if(hm.has(i))r.push(i);else{let o=am.get(i);if(o)r.push(...o);else if(!cm.has(i))throw oh(i)}}}return r.length&amp;&amp;e.push(t(r)),e}function xm(n){return n.filter(t=&gt;t!=qa)}function Im(n,t){let e=pm,r,s,i=[],o=n.length;for(t&amp;&amp;(t.length=0);o;){let a=n[--o];if(e=e.B.find(c=&gt;c.Q.has(a)),!e)break;if(e.S)s=a;else if(e.C&amp;&amp;a===s)break;i.push(a),e.F&amp;&amp;(i.push(qa),o&gt;0&amp;&amp;n[o-1]==qa&amp;&amp;o--),e.V&amp;&amp;(r=Nm(i,e),t&amp;&amp;t.push(...n.slice(o).reverse()),n.length=o)}return r}function Nm(n,t){let e=gm.from(n);return t.V==2&amp;&amp;e.splice(1,1),e}const ch=new Uint8Array(32);ch.fill(0);function nu(n){return b(n.length!==0,"invalid ENS name; empty component","comp",n),n}function lh(n){const t=mn(Sm(n)),e=[];if(n.length===0)return e;let r=0;for(let s=0;s&lt;t.length;s++)t[s]===46&amp;&amp;(e.push(nu(t.slice(r,s))),r=s+1);return b(r&lt;t.length,"invalid ENS name; empty component","name",n),e.push(nu(t.slice(r))),e}function Sm(n){try{return Am(n)}catch(t){b(!1,`invalid ENS name (${t.message})`,"name",n)}}function $a(n){b(typeof n=="string","invalid ENS name; not a string","name",n);let t=ch;const e=lh(n);for(;e.length;)t=yt(It([t,yt(e.pop())]));return H(t)}function Bm(n){return H(It(lh(n).map(t=&gt;{if(t.length&gt;63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function xa(n,t){return{address:lt(n),storageKeys:t.map((e,r)=&gt;(b(At(e,32),"invalid slot",`storageKeys[${r}]`,e),e.toLowerCase()))}}function Rr(n){if(Array.isArray(n))return n.map((e,r)=&gt;Array.isArray(e)?(b(e.length===2,"invalid slot set",`value[${r}]`,e),xa(e[0],e[1])):(b(e!=null&amp;&amp;typeof e=="object","invalid address-slot set","value",n),xa(e.address,e.storageKeys)));b(n!=null&amp;&amp;typeof n=="object","invalid access list","value",n);const t=Object.keys(n).map(e=&gt;{const r=n[e].reduce((s,i)=&gt;(s[i]=!0,s),{});return xa(e,Object.keys(r).sort())});return t.sort((e,r)=&gt;e.address.localeCompare(r.address)),t}function Om(n){let t;return typeof n=="string"?t=bi.computePublicKey(n,!1):t=n.publicKey,lt(yt("0x"+t.substring(4)).substring(26))}function Tm(n,t){return Om(bi.recoverPublicKey(n,t))}const qt=BigInt(0),Rm=BigInt(2),Lm=BigInt(27),_m=BigInt(28),Um=BigInt(35),Fm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $c(n){return n==="0x"?null:lt(n)}function uh(n,t){try{return Rr(n)}catch(e){b(!1,e.message,t,n)}}function ha(n,t){return n==="0x"?0:tt(n,t)}function Kt(n,t){if(n==="0x")return qt;const e=Q(n,t);return b(e&lt;=Fm,"value exceeds uint size",t,e),e}function Ft(n,t){const e=Q(n,"value"),r=he(e);return b(r.length&lt;=32,"value too large",`tx.${t}`,e),r}function fh(n){return Rr(n).map(t=&gt;[t.address,t.storageKeys])}function Dm(n){const t=Kc(n);b(Array.isArray(t)&amp;&amp;(t.length===9||t.length===6),"invalid field count for legacy transaction","data",n);const e={type:0,nonce:ha(t[0],"nonce"),gasPrice:Kt(t[1],"gasPrice"),gasLimit:Kt(t[2],"gasLimit"),to:$c(t[3]),value:Kt(t[4],"value"),data:H(t[5]),chainId:qt};if(t.length===6)return e;const r=Kt(t[6],"v"),s=Kt(t[7],"r"),i=Kt(t[8],"s");if(s===qt&amp;&amp;i===qt)e.chainId=r;else{let o=(r-Um)/Rm;o&lt;qt&amp;&amp;(o=qt),e.chainId=o,b(o!==qt||r===Lm||r===_m,"non-canonical legacy v","v",t[6]),e.signature=Fe.from({r:Nr(t[7],32),s:Nr(t[8],32),v:r}),e.hash=yt(n)}return e}function ru(n,t){const e=[Ft(n.nonce||0,"nonce"),Ft(n.gasPrice||0,"gasPrice"),Ft(n.gasLimit||0,"gasLimit"),n.to!=null?lt(n.to):"0x",Ft(n.value||0,"value"),n.data||"0x"];let r=qt;if(n.chainId!=qt)r=Q(n.chainId,"tx.chainId"),b(!t||t.networkV==null||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(n.signature){const i=n.signature.legacyChainId;i!=null&amp;&amp;(r=i)}if(!t)return r!==qt&amp;&amp;(e.push(he(r)),e.push("0x"),e.push("0x")),mi(e);let s=BigInt(27+t.yParity);return r!==qt?s=Fe.getChainIdV(r,t.v):BigInt(t.v)!==s&amp;&amp;b(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(he(s)),e.push(he(t.r)),e.push(he(t.s)),mi(e)}function hh(n,t){let e;try{if(e=ha(t[0],"yParity"),e!==0&amp;&amp;e!==1)throw new Error("bad yParity")}catch{b(!1,"invalid yParity","yParity",t[0])}const r=Nr(t[1],32),s=Nr(t[2],32),i=Fe.from({r,s,yParity:e});n.signature=i}function Mm(n){const t=Kc(ot(n).slice(1));b(Array.isArray(t)&amp;&amp;(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",H(n));const e=Kt(t[2],"maxPriorityFeePerGas"),r=Kt(t[3],"maxFeePerGas"),s={type:2,chainId:Kt(t[0],"chainId"),nonce:ha(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:r,gasPrice:null,gasLimit:Kt(t[4],"gasLimit"),to:$c(t[5]),value:Kt(t[6],"value"),data:H(t[7]),accessList:uh(t[8],"accessList")};return t.length===9||(s.hash=yt(n),hh(s,t.slice(9))),s}function su(n,t){const e=[Ft(n.chainId||0,"chainId"),Ft(n.nonce||0,"nonce"),Ft(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(n.maxFeePerGas||0,"maxFeePerGas"),Ft(n.gasLimit||0,"gasLimit"),n.to!=null?lt(n.to):"0x",Ft(n.value||0,"value"),n.data||"0x",fh(n.accessList||[])];return t&amp;&amp;(e.push(Ft(t.yParity,"yParity")),e.push(he(t.r)),e.push(he(t.s))),It(["0x02",mi(e)])}function Hm(n){const t=Kc(ot(n).slice(1));b(Array.isArray(t)&amp;&amp;(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",H(n));const e={type:1,chainId:Kt(t[0],"chainId"),nonce:ha(t[1],"nonce"),gasPrice:Kt(t[2],"gasPrice"),gasLimit:Kt(t[3],"gasLimit"),to:$c(t[4]),value:Kt(t[5],"value"),data:H(t[6]),accessList:uh(t[7],"accessList")};return t.length===8||(e.hash=yt(n),hh(e,t.slice(8))),e}function iu(n,t){const e=[Ft(n.chainId||0,"chainId"),Ft(n.nonce||0,"nonce"),Ft(n.gasPrice||0,"gasPrice"),Ft(n.gasLimit||0,"gasLimit"),n.to!=null?lt(n.to):"0x",Ft(n.value||0,"value"),n.data||"0x",fh(n.accessList||[])];return t&amp;&amp;(e.push(Ft(t.yParity,"recoveryParam")),e.push(he(t.r)),e.push(he(t.s))),It(["0x01",mi(e)])}var an,ps,gs,ms,ws,ys,As,bs,vs,Es,ks,Cs;const In=class In{constructor(){C(this,an,void 0);C(this,ps,void 0);C(this,gs,void 0);C(this,ms,void 0);C(this,ws,void 0);C(this,ys,void 0);C(this,As,void 0);C(this,bs,void 0);C(this,vs,void 0);C(this,Es,void 0);C(this,ks,void 0);C(this,Cs,void 0);w(this,an,null),w(this,ps,null),w(this,ms,0),w(this,ws,BigInt(0)),w(this,ys,null),w(this,As,null),w(this,bs,null),w(this,gs,"0x"),w(this,vs,BigInt(0)),w(this,Es,BigInt(0)),w(this,ks,null),w(this,Cs,null)}get type(){return d(this,an)}set type(t){switch(t){case null:w(this,an,null);break;case 0:case"legacy":w(this,an,0);break;case 1:case"berlin":case"eip-2930":w(this,an,1);break;case 2:case"london":case"eip-1559":w(this,an,2);break;default:b(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return d(this,ps)}set to(t){w(this,ps,t==null?null:lt(t))}get nonce(){return d(this,ms)}set nonce(t){w(this,ms,tt(t,"value"))}get gasLimit(){return d(this,ws)}set gasLimit(t){w(this,ws,Q(t))}get gasPrice(){const t=d(this,ys);return t==null&amp;&amp;(this.type===0||this.type===1)?qt:t}set gasPrice(t){w(this,ys,t==null?null:Q(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=d(this,As);return t??(this.type===2?qt:null)}set maxPriorityFeePerGas(t){w(this,As,t==null?null:Q(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=d(this,bs);return t??(this.type===2?qt:null)}set maxFeePerGas(t){w(this,bs,t==null?null:Q(t,"maxFeePerGas"))}get data(){return d(this,gs)}set data(t){w(this,gs,H(t))}get value(){return d(this,vs)}set value(t){w(this,vs,Q(t,"value"))}get chainId(){return d(this,Es)}set chainId(t){w(this,Es,Q(t))}get signature(){return d(this,ks)||null}set signature(t){w(this,ks,t==null?null:Fe.from(t))}get accessList(){const t=d(this,Cs)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){w(this,Cs,t==null?null:Rr(t))}get hash(){return this.signature==null?null:yt(this.serialized)}get unsignedHash(){return yt(this.unsignedSerialized)}get from(){return this.signature==null?null:Tm(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:bi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(B(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return ru(this,this.signature);case 1:return iu(this,this.signature);case 2:return su(this,this.signature)}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return ru(this);case 1:return iu(this);case 2:return su(this)}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null;this.maxFeePerGas!=null&amp;&amp;this.maxPriorityFeePerGas!=null&amp;&amp;B(this.maxFeePerGas&gt;=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),B(!e||this.type!==0&amp;&amp;this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),B(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):e?s.push(2):t?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return In.from(this)}toJSON(){const t=e=&gt;e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new In;if(typeof t=="string"){const r=ot(t);if(r[0]&gt;=127)return In.from(Dm(r));switch(r[0]){case 1:return In.from(Hm(r));case 2:return In.from(Mm(r))}B(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new In;return t.type!=null&amp;&amp;(e.type=t.type),t.to!=null&amp;&amp;(e.to=t.to),t.nonce!=null&amp;&amp;(e.nonce=t.nonce),t.gasLimit!=null&amp;&amp;(e.gasLimit=t.gasLimit),t.gasPrice!=null&amp;&amp;(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&amp;&amp;(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&amp;&amp;(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&amp;&amp;(e.data=t.data),t.value!=null&amp;&amp;(e.value=t.value),t.chainId!=null&amp;&amp;(e.chainId=t.chainId),t.signature!=null&amp;&amp;(e.signature=Fe.from(t.signature)),t.accessList!=null&amp;&amp;(e.accessList=t.accessList),t.hash!=null&amp;&amp;(b(e.isSigned(),"unsigned transaction cannot define hash","tx",t),b(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&amp;&amp;(b(e.isSigned(),"unsigned transaction cannot define from","tx",t),b(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};an=new WeakMap,ps=new WeakMap,gs=new WeakMap,ms=new WeakMap,ws=new WeakMap,ys=new WeakMap,As=new WeakMap,bs=new WeakMap,vs=new WeakMap,Es=new WeakMap,ks=new WeakMap,Cs=new WeakMap;let Vo=In;const dh=new Uint8Array(32);dh.fill(0);const Gm=BigInt(-1),ph=BigInt(0),gh=BigInt(1),Qm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jm(n){const t=ot(n),e=t.length%32;return e?It([t,dh.slice(e)]):H(t)}const Vm=Wn(gh,32),zm=Wn(ph,32),ou={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ia=["name","version","chainId","verifyingContract","salt"];function au(n){return function(t){return b(typeof t=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,t),t}}const Jm={name:au("name"),version:au("version"),chainId:function(n){const t=Q(n,"domain.chainId");return b(t&gt;=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(t)?Number(t):Wr(t)},verifyingContract:function(n){try{return lt(n).toLowerCase()}catch{}b(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const t=ot(n,"domain.salt");return b(t.length===32,'invalid domain value "salt"',"domain.salt",n),H(t)}};function Na(n){{const t=n.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",r=parseInt(t[2]||"256");b(r%8===0&amp;&amp;r!==0&amp;&amp;r&lt;=256&amp;&amp;(t[2]==null||t[2]===String(r)),"invalid numeric width","type",n);const s=ni(Qm,e?r-1:r),i=e?(s+gh)*Gm:ph;return function(o){const a=Q(o,"value");return b(a&gt;=i&amp;&amp;a&lt;=s,`value out-of-bounds for ${n}`,"value",a),Wn(e?ff(a,256):a,32)}}}{const t=n.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return b(e!==0&amp;&amp;e&lt;=32&amp;&amp;t[1]===String(e),"invalid bytes width","type",n),function(r){const s=ot(r);return b(s.length===e,`invalid length for ${n}`,"value",r),jm(r)}}}switch(n){case"address":return function(t){return Nr(lt(t),32)};case"bool":return function(t){return t?Vm:zm};case"bytes":return function(t){return yt(t)};case"string":return function(t){return Sr(t)}}return null}function cu(n,t){return`${n}(${t.map(({name:e,type:r})=&gt;r+" "+e).join(",")})`}var Ri,cn,Ps,qo,mh;const we=class we{constructor(t){C(this,qo);k(this,"primaryType");C(this,Ri,void 0);C(this,cn,void 0);C(this,Ps,void 0);w(this,Ri,JSON.stringify(t)),w(this,cn,new Map),w(this,Ps,new Map);const e=new Map,r=new Map,s=new Map;Object.keys(t).forEach(a=&gt;{e.set(a,new Set),r.set(a,[]),s.set(a,new Set)});for(const a in t){const c=new Set;for(const l of t[a]){b(!c.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",t),c.add(l.name);const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;b(u!==a,`circular type reference to ${JSON.stringify(u)}`,"types",t),!Na(u)&amp;&amp;(b(r.has(u),`unknown type ${JSON.stringify(u)}`,"types",t),r.get(u).push(a),e.get(a).add(u))}}const i=Array.from(r.keys()).filter(a=&gt;r.get(a).length===0);b(i.length!==0,"missing primary type","types",t),b(i.length===1,`ambiguous primary types or unused types: ${i.map(a=&gt;JSON.stringify(a)).join(", ")}`,"types",t),W(this,{primaryType:i[0]});function o(a,c){b(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),c.add(a);for(const l of e.get(a))if(r.has(l)){o(l,c);for(const u of c)s.get(u).add(l)}c.delete(a)}o(this.primaryType,new Set);for(const[a,c]of s){const l=Array.from(c);l.sort(),d(this,cn).set(a,cu(a,t[a])+l.map(u=&gt;cu(u,t[u])).join(""))}}get types(){return JSON.parse(d(this,Ri))}getEncoder(t){let e=d(this,Ps).get(t);return e||(e=L(this,qo,mh).call(this,t),d(this,Ps).set(t,e)),e}encodeType(t){const e=d(this,cn).get(t);return b(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return yt(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Na(t))return r(t,e);const s=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return b(!s[3]||parseInt(s[3])===e.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",e),e.map(o=&gt;this._visit(s[1],o,r));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:c})=&gt;(o[a]=this._visit(c,e[a],r),o),{});b(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new we(t)}static getPrimaryType(t){return we.from(t).primaryType}static hashStruct(t,e,r){return we.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(t[r]==null)continue;const s=ou[r];b(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:s})}return e.sort((r,s)=&gt;Ia.indexOf(r.name)-Ia.indexOf(s.name)),we.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return It(["0x1901",we.hashDomain(t),we.from(e).hash(r)])}static hash(t,e,r){return yt(we.encode(t,e,r))}static async resolveNames(t,e,r,s){t=Object.assign({},t);for(const a in t)t[a]==null&amp;&amp;delete t[a];const i={};t.verifyingContract&amp;&amp;!At(t.verifyingContract,20)&amp;&amp;(i[t.verifyingContract]="0x");const o=we.from(e);o.visit(r,(a,c)=&gt;(a==="address"&amp;&amp;!At(c,20)&amp;&amp;(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return t.verifyingContract&amp;&amp;i[t.verifyingContract]&amp;&amp;(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,(a,c)=&gt;a==="address"&amp;&amp;i[c]?i[c]:c),{domain:t,value:r}}static getPayload(t,e,r){we.hashDomain(t);const s={},i=[];Ia.forEach(c=&gt;{const l=t[c];l!=null&amp;&amp;(s[c]=Jm[c](l),i.push({name:c,type:ou[c]}))});const o=we.from(e),a=Object.assign({},e);return b(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=&gt;{if(c.match(/^bytes(\d*)/))return H(ot(l));if(c.match(/^u?int/))return Q(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return b(typeof l=="string","invalid string","value",l),l}b(!1,"unsupported type","type",c)})}}};Ri=new WeakMap,cn=new WeakMap,Ps=new WeakMap,qo=new WeakSet,mh=function(t){{const s=Na(t);if(s)return s}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const s=e[1],i=this.getEncoder(s);return o=&gt;{b(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return d(this,cn).has(s)&amp;&amp;(a=a.map(yt)),yt(It(a))}}const r=this.types[t];if(r){const s=Sr(d(this,cn).get(t));return i=&gt;{const o=r.map(({name:a,type:c})=&gt;{const l=this.getEncoder(c)(i[a]);return d(this,cn).has(c)?yt(l):l});return o.unshift(s),It(o)}}b(!1,`unknown type: ${t}`,"type",t)};let zo=we;function Yt(n){const t=new Set;return n.forEach(e=&gt;t.add(e)),Object.freeze(t)}const Km="external public payable",Wm=Yt(Km.split(" ")),wh="constant external internal payable private public pure view",Ym=Yt(wh.split(" ")),yh="constructor error event fallback function receive struct",Ah=Yt(yh.split(" ")),bh="calldata memory storage payable indexed",Zm=Yt(bh.split(" ")),Xm="tuple returns",qm=[yh,bh,Xm,wh].join(" "),$m=Yt(qm.split(" ")),t0={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},e0=new RegExp("^(\\s*)"),n0=new RegExp("^([0-9]+)"),r0=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),vh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Eh=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ut,Be,Li,tc;const $o=class $o{constructor(t){C(this,Li);C(this,Ut,void 0);C(this,Be,void 0);w(this,Ut,0),w(this,Be,t.slice())}get offset(){return d(this,Ut)}get length(){return d(this,Be).length-d(this,Ut)}clone(){return new $o(d(this,Be))}reset(){w(this,Ut,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=L(this,Li,tc).call(this,d(this,Ut)+1,t.match+1);return w(this,Ut,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;d(this,Ut)&lt;t.match-1;){const r=this.peek().linkNext;e.push(L(this,Li,tc).call(this,d(this,Ut)+1,r)),w(this,Ut,r)}return w(this,Ut,t.match+1),e}peek(){if(d(this,Ut)&gt;=d(this,Be).length)throw new Error("out-of-bounds");return d(this,Be)[d(this,Ut)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&amp;&amp;t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return qs(this,Ut)._++,t}toString(){const t=[];for(let e=d(this,Ut);e&lt;d(this,Be).length;e++){const r=d(this,Be)[e];t.push(`${r.type}:${r.text}`)}return`&lt;TokenString ${t.join(" ")}&gt;`}};Ut=new WeakMap,Be=new WeakMap,Li=new WeakSet,tc=function(t=0,e=0){return new $o(d(this,Be).slice(t,e).map(r=&gt;Object.freeze(Object.assign({},r,{match:r.match-t,linkBack:r.linkBack-t,linkNext:r.linkNext-t}))))};let De=$o;function qn(n){const t=[],e=o=&gt;{const a=i&lt;n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i&lt;n.length;){let o=n.substring(i),a=o.match(e0);a&amp;&amp;(i+=a[1].length,o=n.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let l=t0[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(t.length-1),s.push(t.length-1);else if(l=="CLOSE_PAREN")r.length===0&amp;&amp;e("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if(l==="COMMA")c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length&gt;0&amp;&amp;t[t.length-1].type==="NUMBER"){const f=t.pop().text;u=f+u,t[t.length-1].value=tt(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(a=o.match(r0),a){if(c.text=a[1],i+=c.text.length,$m.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Eh)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(n0),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new De(t.map(o=&gt;Object.freeze(o)))}function lu(n,t){let e=[];for(const r in t.keys())n.has(r)&amp;&amp;e.push(r);if(e.length&gt;1)throw new Error(`conflicting types: ${e.join(", ")}`)}function da(n,t){if(t.peekKeyword(Ah)){const e=t.pop().text;if(e!==n)throw new Error(`expected ${n}, got ${e}`)}return t.popType("ID")}function An(n,t){const e=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||t&amp;&amp;!t.has(r))break;if(n.pop(),e.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);e.add(r)}return Object.freeze(e)}function kh(n){let t=An(n,Ym);return lu(t,Yt("constant payable nonpayable".split(" "))),lu(t,Yt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function wn(n,t){return n.popParams().map(e=&gt;Dt.from(e,t))}function Ch(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return Q(n.pop().text);throw new Error("invalid gas")}return null}function Br(n){if(n.length)throw new Error(`unexpected tokens: ${n.toString()}`)}const s0=new RegExp(/^(.*)\[([0-9]*)\]$/);function uu(n){const t=n.match(Eh);if(b(t,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(t[2]){const e=parseInt(t[2]);b(e!==0&amp;&amp;e&lt;=32,"invalid bytes length","type",n)}else if(t[3]){const e=parseInt(t[3]);b(e!==0&amp;&amp;e&lt;=256&amp;&amp;e%8===0,"invalid numeric width","type",n)}return n}const wt={},ie=Symbol.for("_ethers_internal"),fu="_ParamTypeInternal",hu="_ErrorInternal",du="_EventInternal",pu="_ConstructorInternal",gu="_FallbackInternal",mu="_FunctionInternal",wu="_StructInternal";var xs,vo;const ye=class ye{constructor(t,e,r,s,i,o,a,c){C(this,xs);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(aa(t,wt,"ParamType"),Object.defineProperty(this,ie,{value:fu}),o&amp;&amp;(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");W(this,{name:e,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&amp;&amp;(s.indexed=this.indexed),this.isTuple()&amp;&amp;(s.components=this.components.map(i=&gt;JSON.parse(i.format(t)))),JSON.stringify(s)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&amp;&amp;(e+=this.type),e+="("+this.components.map(r=&gt;r.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&amp;&amp;(this.indexed===!0&amp;&amp;(e+=" indexed"),t==="full"&amp;&amp;this.name&amp;&amp;(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map(s=&gt;r.arrayChildren.walk(s,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map((s,i)=&gt;r.components[i].walk(s,e))}return e(this.type,t)}async walkAsync(t,e){const r=[],s=[t];return L(this,xs,vo).call(this,r,t,e,i=&gt;{s[0]=i}),r.length&amp;&amp;await Promise.all(r),s[0]}static from(t,e){if(ye.isParamType(t))return t;if(typeof t=="string")try{return ye.from(qn(t),e)}catch{b(!1,"invalid param type","obj",t)}else if(t instanceof De){let a="",c="",l=null;An(t,Yt(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",l=t.popParams().map(y=&gt;ye.from(y)),a=`tuple(${l.map(y=&gt;y.format()).join(",")})`):(a=uu(t.popType("TYPE")),c=a);let u=null,f=null;for(;t.length&amp;&amp;t.peekType("BRACKET");){const y=t.pop();u=new ye(wt,"",a,c,null,l,f,u),f=y.value,a+=y.text,c="array",l=null}let h=null;if(An(t,Zm).has("indexed")){if(!e)throw new Error("");h=!0}const m=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ye(wt,m,a,c,h,l,f,u)}const r=t.name;b(!r||typeof r=="string"&amp;&amp;r.match(vh),"invalid name","obj.name",r);let s=t.indexed;s!=null&amp;&amp;(b(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let i=t.type,o=i.match(s0);if(o){const a=parseInt(o[2]||"-1"),c=ye.from({type:o[1],components:t.components});return new ye(wt,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=t.components!=null?t.components.map(l=&gt;ye.from(l)):null;return new ye(wt,r||"",i,"tuple",s,a,null,null)}return i=uu(t.type),new ye(wt,r||"",i,i,s,null,null,null)}static isParamType(t){return t&amp;&amp;t[ie]===fu}};xs=new WeakSet,vo=function(t,e,r,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((c,l)=&gt;{var u;L(u=o,xs,vo).call(u,t,c,r,f=&gt;{a[l]=f})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(c=&gt;{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in e))throw new Error(`missing value for component ${c.name}`);return e[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=&gt;{var u;L(u=o[l],xs,vo).call(u,t,c,r,f=&gt;{a[l]=f})}),s(a);return}const i=r(this.type,e);i.then?t.push(async function(){s(await i)}()):s(i)};let Dt=ye;class Or{constructor(t,e,r){k(this,"type");k(this,"inputs");aa(t,wt,"Fragment"),r=Object.freeze(r.slice()),W(this,{type:e,inputs:r})}static from(t){if(typeof t=="string"){try{Or.from(JSON.parse(t))}catch{}return Or.from(qn(t))}if(t instanceof De)switch(t.peekKeyword(Ah)){case"constructor":return gn.from(t);case"error":return $t.from(t);case"event":return Ze.from(t);case"fallback":case"receive":return tn.from(t);case"function":return Xe.from(t);case"struct":return Ir.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return gn.from(t);case"error":return $t.from(t);case"event":return Ze.from(t);case"fallback":case"receive":return tn.from(t);case"function":return Xe.from(t);case"struct":return Ir.from(t)}B(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}b(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return gn.isFragment(t)}static isError(t){return $t.isFragment(t)}static isEvent(t){return Ze.isFragment(t)}static isFunction(t){return Xe.isFragment(t)}static isStruct(t){return Ir.isFragment(t)}}class pa extends Or{constructor(e,r,s,i){super(e,r,i);k(this,"name");b(typeof s=="string"&amp;&amp;s.match(vh),"invalid identifier","name",s),i=Object.freeze(i.slice()),W(this,{name:s})}}function Ii(n,t){return"("+t.map(e=&gt;e.format(n)).join(n==="full"?", ":",")+")"}class $t extends pa{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,ie,{value:hu})}get selector(){return Sr(this.format("sighash")).substring(0,10)}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(t)))});const e=[];return t!=="sighash"&amp;&amp;e.push("error"),e.push(this.name+Ii(t,this.inputs)),e.join(" ")}static from(t){if($t.isFragment(t))return t;if(typeof t=="string")return $t.from(qn(t));if(t instanceof De){const e=da("error",t),r=wn(t);return Br(t),new $t(wt,e,r)}return new $t(wt,t.name,t.inputs?t.inputs.map(Dt.from):[])}static isFragment(t){return t&amp;&amp;t[ie]===hu}}class Ze extends pa{constructor(e,r,s,i){super(e,"event",r,s);k(this,"anonymous");Object.defineProperty(this,ie,{value:du}),W(this,{anonymous:i})}get topicHash(){return Sr(this.format("sighash"))}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=&gt;JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&amp;&amp;r.push("event"),r.push(this.name+Ii(e,this.inputs)),e!=="sighash"&amp;&amp;this.anonymous&amp;&amp;r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=&gt;Dt.from(i)),new Ze(wt,e,r,!1).topicHash}static from(e){if(Ze.isFragment(e))return e;if(typeof e=="string")try{return Ze.from(qn(e))}catch{b(!1,"invalid event fragment","obj",e)}else if(e instanceof De){const r=da("event",e),s=wn(e,!0),i=!!An(e,Yt(["anonymous"])).has("anonymous");return Br(e),new Ze(wt,r,s,i)}return new Ze(wt,e.name,e.inputs?e.inputs.map(r=&gt;Dt.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&amp;&amp;e[ie]===du}}class gn extends Or{constructor(e,r,s,i,o){super(e,r,s);k(this,"payable");k(this,"gas");Object.defineProperty(this,ie,{value:pu}),W(this,{payable:i,gas:o})}format(e){if(B(e!=null&amp;&amp;e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=&gt;JSON.parse(s.format(e)))});const r=[`constructor${Ii(e,this.inputs)}`];return r.push(this.payable?"payable":"nonpayable"),this.gas!=null&amp;&amp;r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(gn.isFragment(e))return e;if(typeof e=="string")try{return gn.from(qn(e))}catch{b(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof De){An(e,Yt(["constructor"]));const r=wn(e),s=!!An(e,Wm).has("payable"),i=Ch(e);return Br(e),new gn(wt,"constructor",r,s,i)}return new gn(wt,"constructor",e.inputs?e.inputs.map(Dt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[ie]===pu}}class tn extends Or{constructor(e,r,s){super(e,"fallback",r);k(this,"payable");Object.defineProperty(this,ie,{value:gu}),W(this,{payable:s})}format(e){const r=this.inputs.length===0?"receive":"fallback";if(e==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(e){if(tn.isFragment(e))return e;if(typeof e=="string")try{return tn.from(qn(e))}catch{b(!1,"invalid fallback fragment","obj",e)}else if(e instanceof De){const r=e.toString(),s=e.peekKeyword(Yt(["fallback","receive"]));if(b(s,"type must be fallback or receive","obj",r),e.popKeyword(Yt(["fallback","receive"]))==="receive"){const c=wn(e);return b(c.length===0,"receive cannot have arguments","obj.inputs",c),An(e,Yt(["payable"])),Br(e),new tn(wt,[],!0)}let o=wn(e);o.length?b(o.length===1&amp;&amp;o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=&gt;c.format("minimal")).join(", ")):o=[Dt.from("bytes")];const a=kh(e);if(b(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),An(e,Yt(["returns"])).has("returns")){const c=wn(e);b(c.length===1&amp;&amp;c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=&gt;l.format("minimal")).join(", "))}return Br(e),new tn(wt,o,a==="payable")}if(e.type==="receive")return new tn(wt,[],!0);if(e.type==="fallback"){const r=[Dt.from("bytes")],s=e.stateMutability==="payable";return new tn(wt,r,s)}b(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&amp;&amp;e[ie]===gu}}class Xe extends pa{constructor(e,r,s,i,o,a){super(e,"function",r,i);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,ie,{value:mu}),o=Object.freeze(o.slice()),W(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return Sr(this.format("sighash")).substring(0,10)}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=&gt;JSON.parse(s.format(e))),outputs:this.outputs.map(s=&gt;JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&amp;&amp;r.push("function"),r.push(this.name+Ii(e,this.inputs)),e!=="sighash"&amp;&amp;(this.stateMutability!=="nonpayable"&amp;&amp;r.push(this.stateMutability),this.outputs&amp;&amp;this.outputs.length&amp;&amp;(r.push("returns"),r.push(Ii(e,this.outputs))),this.gas!=null&amp;&amp;r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=&gt;Dt.from(i)),new Xe(wt,e,"view",r,[],null).selector}static from(e){if(Xe.isFragment(e))return e;if(typeof e=="string")try{return Xe.from(qn(e))}catch{b(!1,"invalid function fragment","obj",e)}else if(e instanceof De){const s=da("function",e),i=wn(e),o=kh(e);let a=[];An(e,Yt(["returns"])).has("returns")&amp;&amp;(a=wn(e));const c=Ch(e);return Br(e),new Xe(wt,s,o,i,a,c)}let r=e.stateMutability;return r==null&amp;&amp;(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(r="nonpayable"))):typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(r="nonpayable")),new Xe(wt,e.name,r,e.inputs?e.inputs.map(Dt.from):[],e.outputs?e.outputs.map(Dt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[ie]===mu}}class Ir extends pa{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,ie,{value:wu})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Ir.from(qn(t))}catch{b(!1,"invalid struct fragment","obj",t)}else if(t instanceof De){const e=da("struct",t),r=wn(t);return Br(t),new Ir(wt,e,r)}return new Ir(wt,t.name,t.inputs?t.inputs.map(Dt.from):[])}static isFragment(t){return t&amp;&amp;t[ie]===wu}}const He=new Map;He.set(0,"GENERIC_PANIC");He.set(1,"ASSERT_FALSE");He.set(17,"OVERFLOW");He.set(18,"DIVIDE_BY_ZERO");He.set(33,"ENUM_RANGE_ERROR");He.set(34,"BAD_STORAGE_DATA");He.set(49,"STACK_UNDERFLOW");He.set(50,"ARRAY_RANGE_ERROR");He.set(65,"OUT_OF_MEMORY");He.set(81,"UNINITIALIZED_FUNCTION_CALL");const i0=new RegExp(/^bytes([0-9]*)$/),o0=new RegExp(/^(u?int)([0-9]*)$/);let Sa=null;function a0(n,t,e,r){let s="missing revert data",i=null;const o=null;let a=null;if(e){s="execution reverted";const l=ot(e);if(e=H(e),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(H(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(H(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${He.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:t.to?lt(t.to):null,data:t.data||"0x"};return t.from&amp;&amp;(c.from=lt(t.from)),Bt(s,"CALL_EXCEPTION",{action:n,data:e,reason:i,transaction:c,invocation:o,revert:a})}var On,Vr;const ta=class ta{constructor(){C(this,On)}getDefaultValue(t){const e=t.map(s=&gt;L(this,On,Vr).call(this,Dt.from(s)));return new fo(e,"_").defaultValue()}encode(t,e){cf(e.length,t.length,"types/values length mismatch");const r=t.map(o=&gt;L(this,On,Vr).call(this,Dt.from(o))),s=new fo(r,"_"),i=new Va;return s.encode(i,e),i.data}decode(t,e,r){const s=t.map(o=&gt;L(this,On,Vr).call(this,Dt.from(o)));return new fo(s,"_").decode(new za(e,r))}static defaultAbiCoder(){return Sa==null&amp;&amp;(Sa=new ta),Sa}static getBuiltinCallException(t,e,r){return a0(t,e,r,ta.defaultAbiCoder())}};On=new WeakSet,Vr=function(t){if(t.isArray())return new Og(L(this,On,Vr).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new fo(t.components.map(r=&gt;L(this,On,Vr).call(this,r)),t.name);switch(t.baseType){case"address":return new Sg(t.name);case"bool":return new Tg(t.name);case"string":return new Gg(t.name);case"bytes":return new Rg(t.name);case"":return new Ug(t.name)}let e=t.type.match(o0);if(e){let r=parseInt(e[2]||"256");return b(r!==0&amp;&amp;r&lt;=256&amp;&amp;r%8===0,"invalid "+e[1]+" bit length","param",t),new Hg(r/8,e[1]==="int",t.name)}if(e=t.type.match(i0),e){let r=parseInt(e[1]);return b(r!==0&amp;&amp;r&lt;=32,"invalid bytes length","param",t),new Lg(r,t.name)}b(!1,"invalid type","type",t.type)};let Ni=ta;class c0{constructor(t,e,r){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const s=t.name,i=t.format();W(this,{fragment:t,name:s,signature:i,topic:e,args:r})}}class l0{constructor(t,e,r,s){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const i=t.name,o=t.format();W(this,{fragment:t,name:i,args:r,signature:o,selector:e,value:s})}}class u0{constructor(t,e,r){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const s=t.name,i=t.format();W(this,{fragment:t,name:s,args:r,signature:i,selector:e})}}class yu{constructor(t){k(this,"hash");k(this,"_isIndexed");W(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&amp;&amp;t._isIndexed)}}const Au={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},bu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=&gt;`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=&gt;{let t="unknown panic code";return n&gt;=0&amp;&amp;n&lt;=255&amp;&amp;Au[n.toString()]&amp;&amp;(t=Au[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${t})`}}};var Ve,ze,Je,Mt,Is,Eo,Ns,ko;const Yr=class Yr{constructor(t){C(this,Is);C(this,Ns);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");C(this,Ve,void 0);C(this,ze,void 0);C(this,Je,void 0);C(this,Mt,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,w(this,Je,new Map),w(this,Ve,new Map),w(this,ze,new Map);const r=[];for(const o of e)try{r.push(Or.from(o))}catch(a){console.log("EE",a)}W(this,{fragments:Object.freeze(r)});let s=null,i=!1;w(this,Mt,this.getAbiCoder()),this.fragments.forEach((o,a)=&gt;{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}W(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(b(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=d(this,Je);break;case"event":c=d(this,ze);break;case"error":c=d(this,Ve);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||W(this,{deploy:gn.from("constructor()")}),W(this,{fallback:s,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(s=&gt;s.format(e))}formatJson(){const t=this.fragments.map(e=&gt;e.format("json"));return JSON.stringify(t.map(e=&gt;JSON.parse(e)))}getAbiCoder(){return Ni.defaultAbiCoder()}getFunctionName(t){const e=L(this,Is,Eo).call(this,t,null,!1);return b(e,"no matching function","key",t),e.name}hasFunction(t){return!!L(this,Is,Eo).call(this,t,null,!1)}getFunction(t,e){return L(this,Is,Eo).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(d(this,Je).keys());e.sort((r,s)=&gt;r.localeCompare(s));for(let r=0;r&lt;e.length;r++){const s=e[r];t(d(this,Je).get(s),r)}}getEventName(t){const e=L(this,Ns,ko).call(this,t,null,!1);return b(e,"no matching event","key",t),e.name}hasEvent(t){return!!L(this,Ns,ko).call(this,t,null,!1)}getEvent(t,e){return L(this,Ns,ko).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(d(this,ze).keys());e.sort((r,s)=&gt;r.localeCompare(s));for(let r=0;r&lt;e.length;r++){const s=e[r];t(d(this,ze).get(s),r)}}getError(t,e){if(At(t)){const s=t.toLowerCase();if(bu[s])return $t.from(bu[s].signature);for(const i of d(this,Ve).values())if(s===i.selector)return i;return null}if(t.indexOf("(")===-1){const s=[];for(const[i,o]of d(this,Ve))i.split("(")[0]===t&amp;&amp;s.push(o);if(s.length===0)return t==="Error"?$t.from("error Error(string)"):t==="Panic"?$t.from("error Panic(uint256)"):null;if(s.length&gt;1){const i=s.map(o=&gt;JSON.stringify(o.format())).join(", ");b(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return s[0]}if(t=$t.from(t).format(),t==="Error(string)")return $t.from("error Error(string)");if(t==="Panic(uint256)")return $t.from("error Panic(uint256)");const r=d(this,Ve).get(t);return r||null}forEachError(t){const e=Array.from(d(this,Ve).keys());e.sort((r,s)=&gt;r.localeCompare(s));for(let r=0;r&lt;e.length;r++){const s=e[r];t(d(this,Ve).get(s),r)}}_decodeParams(t,e){return d(this,Mt).decode(t,e)}_encodeParams(t,e){return d(this,Mt).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);b(r,"unknown error","fragment",t),t=r}return b(Et(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Et(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);b(r,"unknown error","fragment",t),t=r}return It([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);b(r,"unknown function","fragment",t),t=r}return b(Et(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Et(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);b(r,"unknown function","fragment",t),t=r}return It([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);b(i,"unknown function","fragment",t),t=i}let r="invalid length for result data";const s=ee(e);if(s.length%32===0)try{return d(this,Mt).decode(t.outputs,s)}catch{r="could not decode result data"}B(!1,r,"BAD_DATA",{value:H(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=ot(t,"data"),s=Ni.getBuiltinCallException("call",e,r),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){const a=H(r.slice(0,4)),c=this.getError(a);if(c)try{const l=d(this,Mt).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&amp;&amp;(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(t,e){if(typeof t=="string"){const r=this.getFunction(t);b(r,"unknown function","fragment",t),t=r}return H(d(this,Mt).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);b(i,"unknown event","eventFragment",t),t=i}B(e.length&lt;=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(i,o)=&gt;i.type==="string"?Sr(o):i.type==="bytes"?yt(H(o)):(i.type==="bool"&amp;&amp;typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Wn(o):i.type.match(/^bytes/)?o=Dd(o,32):i.type==="address"&amp;&amp;d(this,Mt).encode(["address"],[o]),Nr(H(o),32));for(e.forEach((i,o)=&gt;{const a=t.inputs[o];if(!a.indexed){b(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?b(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=&gt;s(a,c))):r.push(s(a,i))});r.length&amp;&amp;r[r.length-1]===null;)r.pop();return r}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);b(o,"unknown event","eventFragment",t),t=o}const r=[],s=[],i=[];return t.anonymous||r.push(t.topicHash),b(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=&gt;{const c=e[a];if(o.indexed)if(o.type==="string")r.push(Sr(c));else if(o.type==="bytes")r.push(yt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(d(this,Mt).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:d(this,Mt).encode(s,i),topics:r}}decodeEventLog(t,e,r){if(typeof t=="string"){const p=this.getEvent(t);b(p,"unknown event","eventFragment",t),t=p}if(r!=null&amp;&amp;!t.anonymous){const p=t.topicHash;b(At(r[0],32)&amp;&amp;r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];t.inputs.forEach((p,m)=&gt;{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Dt.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=r!=null?d(this,Mt).decode(s,It(r)):null,c=d(this,Mt).decode(i,e,!0),l=[],u=[];let f=0,h=0;return t.inputs.forEach((p,m)=&gt;{let y=null;if(p.indexed)if(a==null)y=new yu(null);else if(o[m])y=new yu(a[h++]);else try{y=a[h++]}catch(P){y=P}else try{y=c[f++]}catch(P){y=P}l.push(y),u.push(p.name||null)}),Lo.fromItems(l,u)}parseTransaction(t){const e=ot(t.data,"tx.data"),r=Q(t.value!=null?t.value:0,"tx.value"),s=this.getFunction(H(e.slice(0,4)));if(!s)return null;const i=d(this,Mt).decode(s.inputs,e.slice(4));return new l0(s,s.selector,i,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new c0(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=H(t),r=this.getError(Et(e,0,4));if(!r)return null;const s=d(this,Mt).decode(r.inputs,Et(e,4));return new u0(r,r.selector,s)}static from(t){return t instanceof Yr?t:typeof t=="string"?new Yr(JSON.parse(t)):typeof t.format=="function"?new Yr(t.format("json")):new Yr(t)}};Ve=new WeakMap,ze=new WeakMap,Je=new WeakMap,Mt=new WeakMap,Is=new WeakSet,Eo=function(t,e,r){if(At(t)){const i=t.toLowerCase();for(const o of d(this,Je).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Je))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){const o=e.length&gt;0?e[e.length-1]:null;let a=e.length,c=!0;Vt.isTyped(o)&amp;&amp;o.type==="overrides"&amp;&amp;(c=!1,a--);for(let l=i.length-1;l&gt;=0;l--){const u=i[l].inputs.length;u!==a&amp;&amp;(!c||u!==a-1)&amp;&amp;i.splice(l,1)}for(let l=i.length-1;l&gt;=0;l--){const u=i[l].inputs;for(let f=0;f&lt;e.length;f++)if(Vt.isTyped(e[f])){if(f&gt;=u.length){if(e[f].type==="overrides")continue;i.splice(l,1);break}if(e[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&amp;&amp;e&amp;&amp;e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&amp;&amp;i.splice(0,1)}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;r){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");b(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const s=d(this,Je).get(Xe.from(t).format());return s||null},Ns=new WeakSet,ko=function(t,e,r){if(At(t)){const i=t.toLowerCase();for(const o of d(this,ze).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,ze))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){for(let o=i.length-1;o&gt;=0;o--)i[o].inputs.length&lt;e.length&amp;&amp;i.splice(o,1);for(let o=i.length-1;o&gt;=0;o--){const a=i[o].inputs;for(let c=0;c&lt;e.length;c++)if(Vt.isTyped(e[c])&amp;&amp;e[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;r){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");b(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const s=d(this,ze).get(Ze.from(t).format());return s||null};let ec=Yr;const Ph=BigInt(0);function hi(n){return n??null}function jt(n){return n==null?null:n.toString()}class vu{constructor(t,e,r){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");W(this,{gasPrice:hi(t),maxFeePerGas:hi(e),maxPriorityFeePerGas:hi(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:jt(t),maxFeePerGas:jt(e),maxPriorityFeePerGas:jt(r)}}}function Jo(n){const t={};n.to&amp;&amp;(t.to=n.to),n.from&amp;&amp;(t.from=n.from),n.data&amp;&amp;(t.data=H(n.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of e)!(s in n)||n[s]==null||(t[s]=Q(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(t[s]=tt(n[s],`request.${s}`));return n.accessList&amp;&amp;(t.accessList=Rr(n.accessList)),"blockTag"in n&amp;&amp;(t.blockTag=n.blockTag),"enableCcipRead"in n&amp;&amp;(t.enableCcipRead=!!n.enableCcipRead),"customData"in n&amp;&amp;(t.customData=n.customData),t}var ln;class f0{constructor(t,e){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"miner");k(this,"extraData");k(this,"baseFeePerGas");C(this,ln,void 0);w(this,ln,t.transactions.map(r=&gt;typeof r!="string"?new Si(r,e):r)),W(this,{provider:e,hash:hi(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:hi(t.baseFeePerGas)})}get transactions(){return d(this,ln).map(t=&gt;typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=d(this,ln).slice();return t.length===0?[]:(B(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,nonce:c,number:l,parentHash:u,timestamp:f,transactions:h}=this;return{_type:"Block",baseFeePerGas:jt(t),difficulty:jt(e),extraData:r,gasLimit:jt(s),gasUsed:jt(i),hash:o,miner:a,nonce:c,number:l,parentHash:u,timestamp:f,transactions:h}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=&gt;t&lt;this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,ln).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=d(this,ln)[t];else{const r=t.toLowerCase();for(const s of d(this,ln))if(typeof s=="string"){if(s!==r)continue;e=s;break}else{if(s.hash===r)continue;e=s;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;b(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return h0(this)}}ln=new WeakMap;class Xi{constructor(t,e){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=e;const r=Object.freeze(t.topics.slice());W(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return B(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return B(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return B(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return d0(this)}}var _i;class xh{constructor(t,e){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"type");k(this,"status");k(this,"root");C(this,_i,void 0);w(this,_i,Object.freeze(t.logs.map(s=&gt;new Xi(s,e))));let r=Ph;t.effectiveGasPrice!=null?r=t.effectiveGasPrice:t.gasPrice!=null&amp;&amp;(r=t.gasPrice),W(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:r,type:t.type,status:t.status,root:t.root})}get logs(){return d(this,_i)}toJSON(){const{to:t,from:e,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:jt(this.cumulativeGasUsed),from:e,gasPrice:jt(this.gasPrice),gasUsed:jt(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=&gt;t&lt;this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Nh(this)}reorderedEvent(t){return B(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ih(this,t)}}_i=new WeakMap;var Tn;const ll=class ll{constructor(t,e){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");C(this,Tn,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,w(this,Tn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f}=this;return{_type:"TransactionReceipt",accessList:f,blockNumber:t,blockHash:e,chainId:jt(this.chainId),data:l,from:a,gasLimit:jt(this.gasLimit),gasPrice:jt(this.gasPrice),hash:s,maxFeePerGas:jt(this.maxFeePerGas),maxPriorityFeePerGas:jt(this.maxPriorityFeePerGas),nonce:c,signature:u,to:o,index:r,type:i,value:jt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const r=await this.getTransaction();r&amp;&amp;(t=r.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:r}=await Jt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:r-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=t??1,s=e??0;let i=d(this,Tn),o=-1,a=i===-1;const c=async()=&gt;{if(a)return null;const{blockNumber:h,nonce:p}=await Jt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p&lt;this.nonce){i=h;return}if(a)return null;const m=await this.getTransaction();if(!(m&amp;&amp;m.blockNumber!=null))for(o===-1&amp;&amp;(o=i-3,o&lt;d(this,Tn)&amp;&amp;(o=d(this,Tn)));o&lt;=h;){if(a)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const P of y)if(P===this.hash)return;for(let P=0;P&lt;y.length;P++){const N=await y.getTransaction(P);if(N.from===this.from&amp;&amp;N.nonce===this.nonce){if(a)return null;const I=await this.provider.getTransactionReceipt(N.hash);if(I==null||h-I.blockNumber+1&lt;r)return;let S="replaced";N.data===this.data&amp;&amp;N.to===this.to&amp;&amp;N.value===this.value?S="repriced":N.data==="0x"&amp;&amp;N.from===N.to&amp;&amp;N.value===Ph&amp;&amp;(S="cancelled"),B(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:N.replaceableTransaction(i),hash:N.hash,receipt:I})}}o++}},l=h=&gt;{if(h==null||h.status!==0)return h;B(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(await u.confirmations()&gt;=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((h,p)=&gt;{const m=[],y=()=&gt;{m.forEach(N=&gt;N())};if(m.push(()=&gt;{a=!0}),s&gt;0){const N=setTimeout(()=&gt;{y(),p(Bt("wait for transaction timeout","TIMEOUT"))},s);m.push(()=&gt;{clearTimeout(N)})}const P=async N=&gt;{if(await N.confirmations()&gt;=r){y();try{h(l(N))}catch(I){p(I)}}};if(m.push(()=&gt;{this.provider.off(this.hash,P)}),this.provider.on(this.hash,P),i&gt;=0){const N=async()=&gt;{try{await c()}catch(I){if(ke(I,"TRANSACTION_REPLACED")){y(),p(I);return}}a||this.provider.once("block",N)};m.push(()=&gt;{this.provider.off("block",N)}),this.provider.once("block",N)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Nh(this)}reorderedEvent(t){return B(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),B(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ih(this,t)}replaceableTransaction(t){b(Number.isInteger(t)&amp;&amp;t&gt;=0,"invalid startBlock","startBlock",t);const e=new ll(this,this.provider);return w(e,Tn,t),e}};Tn=new WeakMap;let Si=ll;function h0(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function Ih(n,t){return{orphan:"reorder-transaction",tx:n,other:t}}function Nh(n){return{orphan:"drop-transaction",tx:n}}function d0(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class tl extends Xi{constructor(e,r,s){super(e,e.provider);k(this,"interface");k(this,"fragment");k(this,"args");const i=r.decodeEventLog(s,e.data,e.topics);W(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Sh extends Xi{constructor(e,r){super(e,e.provider);k(this,"error");W(this,{error:r})}}var Ss;class p0 extends xh{constructor(e,r,s){super(s,r);C(this,Ss,void 0);w(this,Ss,e)}get logs(){return super.logs.map(e=&gt;{const r=e.topics.length?d(this,Ss).getEvent(e.topics[0]):null;if(r)try{return new tl(e,d(this,Ss),r)}catch(s){return new Sh(e,s)}return e})}}Ss=new WeakMap;var Ui;class el extends Si{constructor(e,r,s){super(s,r);C(this,Ui,void 0);w(this,Ui,e)}async wait(e){const r=await super.wait(e);return r==null?null:new p0(d(this,Ui),this.provider,r)}}Ui=new WeakMap;class Bh extends hf{constructor(e,r,s,i){super(e,r,s);k(this,"log");W(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class g0 extends Bh{constructor(t,e,r,s,i){super(t,e,r,new tl(i,t.interface,s));const o=t.interface.decodeEventLog(s,this.log.data,this.log.topics);W(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Eu=BigInt(0);function Oh(n){return n&amp;&amp;typeof n.call=="function"}function Th(n){return n&amp;&amp;typeof n.estimateGas=="function"}function nl(n){return n&amp;&amp;typeof n.resolveName=="function"}function Rh(n){return n&amp;&amp;typeof n.sendTransaction=="function"}var Fi;class m0{constructor(t,e,r){C(this,Fi,void 0);k(this,"fragment");if(W(this,{fragment:e}),e.inputs.length&lt;r.length)throw new Error("too many arguments");const s=Tr(t.runner,"resolveName"),i=nl(s)?s:null;w(this,Fi,async function(){const o=await Promise.all(e.inputs.map((a,c)=&gt;r[c]==null?null:a.walkAsync(r[c],(u,f)=&gt;u==="address"?Array.isArray(f)?Promise.all(f.map(h=&gt;ne(h,i))):ne(f,i):f)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return d(this,Fi)}}Fi=new WeakMap;function Tr(n,t){return n==null?null:typeof n[t]=="function"?n:n.provider&amp;&amp;typeof n.provider[t]=="function"?n.provider:null}function or(n){return n==null?null:n.provider||null}async function Lh(n,t){const e=Vt.dereference(n,"overrides");b(typeof e=="object","invalid overrides parameter","overrides",n);const r=Jo(e);return b(r.to==null||(t||[]).indexOf("to")&gt;=0,"cannot override to","overrides.to",r.to),b(r.data==null||(t||[]).indexOf("data")&gt;=0,"cannot override data","overrides.data",r.data),r.from&amp;&amp;(r.from=await ne(r.from)),r}async function w0(n,t,e){const r=Tr(n,"resolveName"),s=nl(r)?r:null;return await Promise.all(t.map((i,o)=&gt;i.walkAsync(e[o],(a,c)=&gt;(c=Vt.dereference(c,a),a==="address"?ne(c,s):c))))}function y0(n){const t=async function(o){const a=await Lh(o,["data"]);a.to=await n.getAddress();const c=n.interface,l=Q(a.value||Eu,"overrides.value")===Eu,u=(a.data||"0x")==="0x";c.fallback&amp;&amp;!c.fallback.payable&amp;&amp;c.receive&amp;&amp;!u&amp;&amp;!l&amp;&amp;b(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),b(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&amp;&amp;c.fallback.payable;return b(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),b(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=Tr(n.runner,"call");B(Oh(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(o);try{return await a.call(c)}catch(l){throw Vc(l)&amp;&amp;l.data?n.interface.makeError(l.data,c):l}},r=async function(o){const a=n.runner;B(Rh(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await t(o)),l=or(n.runner);return new el(n.interface,l,c)},s=async function(o){const a=Tr(n.runner,"estimateGas");return B(Th(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},i=async o=&gt;await r(o);return W(i,{_contract:n,estimateGas:s,populateTransaction:t,send:r,staticCall:e}),i}function A0(n,t){const e=function(...l){const u=n.interface.getFunction(t,l);return B(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:l}}),u},r=async function(...l){const u=e(...l);let f={};if(u.inputs.length+1===l.length&amp;&amp;(f=await Lh(l.pop())),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await w0(n.runner,u.inputs,l);return Object.assign({},f,await Jt({to:n.getAddress(),data:n.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=n.runner;B(Rh(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await r(...l)),h=or(n.runner);return new el(n.interface,h,f)},o=async function(...l){const u=Tr(n.runner,"estimateGas");return B(Th(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=Tr(n.runner,"call");B(Oh(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...l);let h="0x";try{h=await u.call(f)}catch(m){throw Vc(m)&amp;&amp;m.data?n.interface.makeError(m.data,f):m}const p=e(...l);return n.interface.decodeFunctionResult(p,h)},c=async(...l)=&gt;e(...l).constant?await s(...l):await i(...l);return W(c,{name:n.interface.getFunctionName(t),_contract:n,_key:t,getFragment:e,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const l=n.interface.getFunction(t);return B(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),l}}),c}function b0(n,t){const e=function(...s){const i=n.interface.getEvent(t,s);return B(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:s}}),i},r=function(...s){return new m0(n,e(...s),s)};return W(r,{name:n.interface.getEventName(t),_contract:n,_key:t,getFragment:e}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const s=n.interface.getEvent(t);return B(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),s}}),r}const Ko=Symbol.for("_ethersInternal_contract"),_h=new WeakMap;function v0(n,t){_h.set(n[Ko],t)}function ae(n){return _h.get(n[Ko])}function E0(n){return n&amp;&amp;typeof n=="object"&amp;&amp;"getTopicFilter"in n&amp;&amp;typeof n.getTopicFilter=="function"&amp;&amp;n.fragment}async function rl(n,t){let e,r=null;if(Array.isArray(t)){const i=function(o){if(At(o,32))return o;const a=n.interface.getEvent(o);return b(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=&gt;o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?At(t,32)?e=[t]:(r=n.interface.getEvent(t),b(r,"unknown fragment","event",t),e=[r.topicHash]):E0(t)?e=await t.getTopicFilter():"fragment"in t?(r=t.fragment,e=[r.topicHash]):b(!1,"unknown event name","event",t);e=e.map(i=&gt;{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=&gt;a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=e.map(i=&gt;i==null?"null":Array.isArray(i)?i.join("|"):i).join("&amp;");return{fragment:r,tag:s,topics:e}}async function ii(n,t){const{subs:e}=ae(n);return e.get((await rl(n,t)).tag)||null}async function ku(n,t,e){const r=or(n.runner);B(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:o}=await rl(n,e),{addr:a,subs:c}=ae(n);let l=c.get(i);if(!l){const f={address:a||n,topics:o},h=P=&gt;{let N=s;if(N==null)try{N=n.interface.getEvent(P.topics[0])}catch{}if(N){const I=N,S=s?n.interface.decodeEventLog(s,P.data,P.topics):[];rc(n,e,S,T=&gt;new g0(n,T,e,I,P))}else rc(n,e,[],I=&gt;new Bh(n,I,e,P))};let p=[];l={tag:i,listeners:[],start:()=&gt;{p.length||p.push(r.on(f,h))},stop:async()=&gt;{if(p.length==0)return;let P=p;p=[],await Promise.all(P),r.off(f,h)}},c.set(i,l)}return l}let nc=Promise.resolve();async function k0(n,t,e,r){await nc;const s=await ii(n,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=&gt;{const c=Array.from(e);r&amp;&amp;c.push(r(a?null:o));try{o.call(n,...c)}catch{}return!a}),s.listeners.length===0&amp;&amp;(s.stop(),ae(n).subs.delete(s.tag)),i&gt;0}async function rc(n,t,e,r){try{await nc}catch{}const s=k0(n,t,e,r);return nc=s,await s}const ho=["then"];var Sw;const pi=class pi{constructor(t,e,r,s){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,Sw);k(this,"fallback");b(typeof t=="string"||Mf(t),"invalid value for Contract target","target",t),r==null&amp;&amp;(r=null);const i=ec.from(e);W(this,{target:t,runner:r,interface:i}),Object.defineProperty(this,Ko,{value:{}});let o,a=null,c=null;if(s){const f=or(r);c=new el(this.interface,f,s)}let l=new Map;if(typeof t=="string")if(At(t))a=t,o=Promise.resolve(t);else{const f=Tr(r,"resolveName");if(!nl(f))throw Bt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(t).then(h=&gt;{if(h==null)throw Bt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return ae(this).addr=h,h})}else o=t.getAddress().then(f=&gt;{if(f==null)throw new Error("TODO");return ae(this).addr=f,f});v0(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,p)=&gt;{if(typeof h=="symbol"||ho.indexOf(h)&gt;=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(m){if(!ke(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,h)=&gt;ho.indexOf(h)&gt;=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return W(this,{filters:u}),W(this,{fallback:i.receive||i.fallback?y0(this):null}),new Proxy(this,{get:(f,h,p)=&gt;{if(typeof h=="symbol"||h in f||ho.indexOf(h)&gt;=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(m){if(!ke(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,h)=&gt;typeof h=="symbol"||h in f||ho.indexOf(h)&gt;=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new pi(this.target,this.interface,t)}attach(t){return new pi(t,this.interface,this.runner)}async getAddress(){return await ae(this).addrPromise}async getDeployedCode(){const t=or(this.runner);B(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=or(this.runner);return B(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=&gt;{const o=async()=&gt;{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return ae(this).deployTx}getFunction(t){return typeof t!="string"&amp;&amp;(t=t.format()),A0(this,t)}getEvent(t){return typeof t!="string"&amp;&amp;(t=t.format()),b0(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){e==null&amp;&amp;(e=0),r==null&amp;&amp;(r="latest");const{addr:s,addrPromise:i}=ae(this),o=s||await i,{fragment:a,topics:c}=await rl(this,t),l={address:o,topics:c,fromBlock:e,toBlock:r},u=or(this.runner);return B(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=&gt;{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new tl(f,this.interface,h)}catch(p){return new Sh(f,p)}return new Xi(f,u)})}async on(t,e){const r=await ku(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await ku(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await rc(this,t,e,null)}async listenerCount(t){if(t){const s=await ii(this,t);return s?s.listeners.length:0}const{subs:e}=ae(this);let r=0;for(const{listeners:s}of e.values())r+=s.length;return r}async listeners(t){if(t){const s=await ii(this,t);return s?s.listeners.map(({listener:i})=&gt;i):[]}const{subs:e}=ae(this);let r=[];for(const{listeners:s}of e.values())r=r.concat(s.map(({listener:i})=&gt;i));return r}async off(t,e){const r=await ii(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=&gt;i).indexOf(e);s&gt;=0&amp;&amp;r.listeners.splice(s,1)}return(e==null||r.listeners.length===0)&amp;&amp;(r.stop(),ae(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await ii(this,t);if(!e)return this;e.stop(),ae(this).subs.delete(e.tag)}else{const{subs:e}=ae(this);for(const{tag:r,stop:s}of e.values())s(),e.delete(r)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends pi{constructor(s,i=null){super(s,t,i)}}return e}static from(t,e,r){return r==null&amp;&amp;(r=null),new this(t,e,r)}};Sw=Ko;let sc=pi;function C0(){return sc}class rs extends C0(){}function Ba(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):b(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class P0{constructor(t){k(this,"name");W(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Uh=new RegExp("^(ipfs)://(.*)$","i"),Cu=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Uh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Rn,mr,Ln,zr,ea,Fh;const Zr=class Zr{constructor(t,e,r){C(this,Ln);k(this,"provider");k(this,"address");k(this,"name");C(this,Rn,void 0);C(this,mr,void 0);W(this,{provider:t,address:e,name:r}),w(this,Rn,null),w(this,mr,new rs(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return d(this,Rn)==null&amp;&amp;w(this,Rn,(async()=&gt;{try{return await d(this,mr).supportsInterface("0x9061b923")}catch(t){if(ke(t,"CALL_EXCEPTION"))return!1;throw w(this,Rn,null),t}})()),await d(this,Rn)}async getAddress(t){if(t==null&amp;&amp;(t=60),t===60)try{const i=await L(this,Ln,zr).call(this,"addr(bytes32)");return i==null||i===Za?null:i}catch(i){if(ke(i,"CALL_EXCEPTION"))return null;throw i}if(t&gt;=0&amp;&amp;t&lt;2147483648){let i=t+2147483648;const o=await L(this,Ln,zr).call(this,"addr(bytes32,uint)",[i]);if(At(o,20))return lt(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof P0&amp;&amp;i.supportsCoinType(t)){e=i;break}if(e==null)return null;const r=await L(this,Ln,zr).call(this,"addr(bytes32,uint)",[t]);if(r==null||r==="0x")return null;const s=await e.decodeAddress(t,r);if(s!=null)return s;B(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await L(this,Ln,zr).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await L(this,Ln,zr).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const s=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${s}://${Qd("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&amp;&amp;r[1].length===64)return`bzz://${r[1]}`;B(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r&lt;Cu.length;r++){const s=e.match(Cu[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=Ba(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(s[2]||"").split("/");if(c.length!==2)return t.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:t};const l=c[1],u=new rs(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const y=await u.ownerOf(l);if(a!==y)return t.push({type:"!owner",value:y}),{url:null,linkage:t};t.push({type:"owner",value:y})}else if(i==="erc1155"){const y=await u.balanceOf(a,l);if(!y)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:y.toString()})}let f=await u[o](l);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),i==="erc1155"&amp;&amp;(f=f.replace("{id}",Wn(l,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&amp;&amp;(f=Ba(f)),t.push({type:"metadata-url",value:f});let h={};const p=await new yn(f).send();p.assertOk();try{h=p.bodyJson}catch{try{t.push({type:"!metadata",value:p.bodyText})}catch{const N=p.body;return N&amp;&amp;t.push({type:"!metadata",value:H(N)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Uh)==null)return t.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:m}),m=Ba(m)}return t.push({type:"url",value:m}),{linkage:t,url:m}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return B(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async fromName(t,e){var s;let r=e;for(;;){if(r===""||r==="."||e!=="eth"&amp;&amp;r==="eth")return null;const i=await L(s=Zr,ea,Fh).call(s,t,r);if(i!=null){const o=new Zr(t,i,e);return r!==e&amp;&amp;!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Rn=new WeakMap,mr=new WeakMap,Ln=new WeakSet,zr=async function(t,e){e=(e||[]).slice();const r=d(this,mr).interface;e.unshift($a(this.name));let s=null;await this.supportsWildcard()&amp;&amp;(s=r.getFunction(t),B(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[Bm(this.name),r.encodeFunctionData(s,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await d(this,mr)[t](...e);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!ke(i,"CALL_EXCEPTION"))throw i}return null},ea=new WeakSet,Fh=async function(t,e){const r=await Zr.getEnsAddress(t);try{const i=await new rs(r,["function resolver(bytes32) view returns (address)"],t).resolver($a(e),{enableCcipRead:!0});return i===Za?null:i}catch(s){throw s}return null},C(Zr,ea);let Wo=Zr;const Pu=BigInt(0);function mt(n,t){return function(e){return e==null?t:n(e)}}function sl(n){return t=&gt;{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=&gt;n(e))}}function qi(n,t){return e=&gt;{const r={};for(const s in n){let i=s;if(t&amp;&amp;s in t&amp;&amp;!(i in e)){for(const o of t[s])if(o in e){i=o;break}}try{const o=n[s](e[i]);o!==void 0&amp;&amp;(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";B(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:e})}}return r}}function x0(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}b(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Js(n){return b(At(n,!0),"invalid data","value",n),n}function Ce(n){return b(At(n,32),"invalid hash","value",n),n}const I0=qi({address:lt,blockHash:Ce,blockNumber:tt,data:Js,index:tt,removed:mt(x0,!1),topics:sl(Ce),transactionHash:Ce,transactionIndex:tt},{index:["logIndex"]});function N0(n){return I0(n)}const S0=qi({hash:mt(Ce),parentHash:Ce,number:tt,timestamp:tt,nonce:mt(Js),difficulty:Q,gasLimit:Q,gasUsed:Q,miner:mt(lt),extraData:Js,baseFeePerGas:mt(Q)});function B0(n){const t=S0(n);return t.transactions=n.transactions.map(e=&gt;typeof e=="string"?e:Dh(e)),t}const O0=qi({transactionIndex:tt,blockNumber:tt,transactionHash:Ce,address:lt,topics:sl(Ce),data:Js,index:tt,blockHash:Ce},{index:["logIndex"]});function T0(n){return O0(n)}const R0=qi({to:mt(lt,null),from:mt(lt,null),contractAddress:mt(lt,null),index:tt,root:mt(H),gasUsed:Q,logsBloom:mt(Js),blockHash:Ce,hash:Ce,logs:sl(T0),blockNumber:tt,cumulativeGasUsed:Q,effectiveGasPrice:mt(Q),status:mt(tt),type:mt(tt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function L0(n){return R0(n)}function Dh(n){n.to&amp;&amp;Q(n.to)===Pu&amp;&amp;(n.to="0x0000000000000000000000000000000000000000");const t=qi({hash:Ce,type:e=&gt;e==="0x"||e==null?0:tt(e),accessList:mt(Rr,null),blockHash:mt(Ce,null),blockNumber:mt(tt,null),transactionIndex:mt(tt,null),from:lt,gasPrice:mt(Q),maxPriorityFeePerGas:mt(Q),maxFeePerGas:mt(Q),gasLimit:Q,to:mt(lt,null),value:Q,nonce:tt,data:Js,creates:mt(lt,null),chainId:mt(Q,null)},{data:["input"],gasLimit:["gas"]})(n);if(t.to==null&amp;&amp;t.creates==null&amp;&amp;(t.creates=Ng(t)),(n.type===1||n.type===2)&amp;&amp;n.accessList==null&amp;&amp;(t.accessList=[]),n.signature?t.signature=Fe.from(n.signature):t.signature=Fe.from(n),t.chainId==null){const e=t.signature.legacyChainId;e!=null&amp;&amp;(t.chainId=e)}return t.blockHash&amp;&amp;Q(t.blockHash)===Pu&amp;&amp;(t.blockHash=null),t}const _0="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class $i{constructor(t){k(this,"name");W(this,{name:t})}clone(){return new $i(this.name)}}class ga extends $i{constructor(e,r){e==null&amp;&amp;(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const s={effectiveBlock:e};function i(o,a){let c=(r||{})[o];c==null&amp;&amp;(c=a),b(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),W(this,s)}clone(){return new ga(this.effectiveBlock,this)}}class ma extends $i{constructor(e,r){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");W(this,{address:e||_0,targetNetwork:r??1})}clone(){return new ma(this.address,this.targetNetwork)}}var Di,Mi;class Mh extends $i{constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");C(this,Di,void 0);C(this,Mi,void 0);w(this,Di,e),w(this,Mi,r)}get url(){return d(this,Di)}get processFunc(){return d(this,Mi)}clone(){return this}}Di=new WeakMap,Mi=new WeakMap;const Oa=new Map;var Bs,Os,_n;const Xr=class Xr{constructor(t,e){C(this,Bs,void 0);C(this,Os,void 0);C(this,_n,void 0);w(this,Bs,t),w(this,Os,Q(e)),w(this,_n,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,Bs)}set name(t){w(this,Bs,t)}get chainId(){return d(this,Os)}set chainId(t){w(this,Os,Q(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===Q(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===Q(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===Q(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(d(this,_n).values())}attachPlugin(t){if(d(this,_n).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,_n).set(t.name,t.clone()),this}getPlugin(t){return d(this,_n).get(t)||null}getPlugins(t){return this.plugins.filter(e=&gt;e.name.split("#")[0]===t)}clone(){const t=new Xr(this.name,this.chainId);return this.plugins.forEach(e=&gt;{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new ga;let r=e.txBase;if(t.to==null&amp;&amp;(r+=e.txCreate),t.data)for(let s=2;s&lt;t.data.length;s+=2)t.data.substring(s,s+2)==="00"?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const s=Rr(t.accessList);for(const i in s)r+=e.txAccessListAddress+e.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(t){if(F0(),t==null)return Xr.from("mainnet");if(typeof t=="number"&amp;&amp;(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=Oa.get(t);if(e)return e();if(typeof t=="bigint")return new Xr("unknown",t);b(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){b(typeof t.name=="string"&amp;&amp;typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Xr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&amp;&amp;e.attachPlugin(new ma(t.ensAddress,t.ensNetwork)),e}b(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&amp;&amp;(t=BigInt(t));const r=Oa.get(t);r&amp;&amp;b(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),Oa.set(t,e)}};Bs=new WeakMap,Os=new WeakMap,_n=new WeakMap;let Le=Xr;function xu(n,t){const e=String(n);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=e.split(".");if(r.length===1&amp;&amp;r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length&lt;t;)r[1]+="0";if(r[1].length&gt;9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Iu(n){return new Mh(n,async(t,e,r)=&gt;{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),t()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:xu(a.maxFee,9),maxPriorityFeePerGas:xu(a.maxPriorityFee,9)}}catch(i){B(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}function U0(n){return new Mh("data:",async(t,e,r)=&gt;{const s=await t();if(s.maxFeePerGas==null||s.maxPriorityFeePerGas==null)return s;const i=s.maxFeePerGas-s.maxPriorityFeePerGas;return{gasPrice:s.gasPrice,maxFeePerGas:i+n,maxPriorityFeePerGas:n}})}let Nu=!1;function F0(){if(Nu)return;Nu=!0;function n(t,e,r){const s=function(){const i=new Le(t,e);return r.ensNetwork!=null&amp;&amp;i.attachPlugin(new ma(null,r.ensNetwork)),i.attachPlugin(new ga),(r.plugins||[]).forEach(o=&gt;{i.attachPlugin(o)}),i};Le.register(t,s),Le.register(e,s),r.altNames&amp;&amp;r.altNames.forEach(i=&gt;{Le.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("matic",137,{ensNetwork:1,plugins:[Iu("https://gasstation.polygon.technology/v2")]}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Iu("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[U0(BigInt("1000000"))]}),n("optimism-goerli",420,{}),n("xdai",100,{ensNetwork:1})}function ic(n){return JSON.parse(JSON.stringify(n))}var un,be,Un,Ke,Ts,Co;class D0{constructor(t){C(this,Ts);C(this,un,void 0);C(this,be,void 0);C(this,Un,void 0);C(this,Ke,void 0);w(this,un,t),w(this,be,null),w(this,Un,4e3),w(this,Ke,-2)}get pollingInterval(){return d(this,Un)}set pollingInterval(t){w(this,Un,t)}start(){d(this,be)||(w(this,be,d(this,un)._setTimeout(L(this,Ts,Co).bind(this),d(this,Un))),L(this,Ts,Co).call(this))}stop(){d(this,be)&amp;&amp;(d(this,un)._clearTimeout(d(this,be)),w(this,be,null))}pause(t){this.stop(),t&amp;&amp;w(this,Ke,-2)}resume(){this.start()}}un=new WeakMap,be=new WeakMap,Un=new WeakMap,Ke=new WeakMap,Ts=new WeakSet,Co=async function(){try{const t=await d(this,un).getBlockNumber();if(d(this,Ke)===-2){w(this,Ke,t);return}if(t!==d(this,Ke)){for(let e=d(this,Ke)+1;e&lt;=t;e++){if(d(this,be)==null)return;await d(this,un).emit("block",e)}w(this,Ke,t)}}catch{}d(this,be)!=null&amp;&amp;w(this,be,d(this,un)._setTimeout(L(this,Ts,Co).bind(this),d(this,Un)))};var wr,yr,Fn;class Hh{constructor(t){C(this,wr,void 0);C(this,yr,void 0);C(this,Fn,void 0);w(this,wr,t),w(this,Fn,!1),w(this,yr,e=&gt;{this._poll(e,d(this,wr))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){d(this,Fn)||(w(this,Fn,!0),d(this,yr).call(this,-2),d(this,wr).on("block",d(this,yr)))}stop(){d(this,Fn)&amp;&amp;(w(this,Fn,!1),d(this,wr).off("block",d(this,yr)))}pause(t){this.stop()}resume(){this.start()}}wr=new WeakMap,yr=new WeakMap,Fn=new WeakMap;var na;class M0 extends Hh{constructor(e,r){super(e);C(this,na,void 0);w(this,na,ic(r))}async _poll(e,r){throw new Error("@TODO")}}na=new WeakMap;var Rs;class H0 extends Hh{constructor(e,r){super(e);C(this,Rs,void 0);w(this,Rs,r)}async _poll(e,r){const s=await r.getTransactionReceipt(d(this,Rs));s&amp;&amp;r.emit(d(this,Rs),s)}}Rs=new WeakMap;var fn,Ls,_s,Dn,ve,ra,Gh;class il{constructor(t,e){C(this,ra);C(this,fn,void 0);C(this,Ls,void 0);C(this,_s,void 0);C(this,Dn,void 0);C(this,ve,void 0);w(this,fn,t),w(this,Ls,ic(e)),w(this,_s,L(this,ra,Gh).bind(this)),w(this,Dn,!1),w(this,ve,-2)}start(){d(this,Dn)||(w(this,Dn,!0),d(this,ve)===-2&amp;&amp;d(this,fn).getBlockNumber().then(t=&gt;{w(this,ve,t)}),d(this,fn).on("block",d(this,_s)))}stop(){d(this,Dn)&amp;&amp;(w(this,Dn,!1),d(this,fn).off("block",d(this,_s)))}pause(t){this.stop(),t&amp;&amp;w(this,ve,-2)}resume(){this.start()}}fn=new WeakMap,Ls=new WeakMap,_s=new WeakMap,Dn=new WeakMap,ve=new WeakMap,ra=new WeakSet,Gh=async function(t){if(d(this,ve)===-2)return;const e=ic(d(this,Ls));e.fromBlock=d(this,ve)+1,e.toBlock=t;const r=await d(this,fn).getLogs(e);if(r.length===0){d(this,ve)&lt;t-60&amp;&amp;w(this,ve,t-60);return}for(const s of r)d(this,fn).emit(d(this,Ls),s),w(this,ve,s.blockNumber)};const G0=BigInt(2),Q0=10;function po(n){return n&amp;&amp;typeof n.then=="function"}function Po(n,t){return n+":"+JSON.stringify(t,(e,r)=&gt;{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&amp;&amp;!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=&gt;(i[o]=r[o],i),{})}return r})}class Qh{constructor(t){k(this,"name");W(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function j0(n){return JSON.parse(JSON.stringify(n))}function oc(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function Ta(n,t){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&amp;&amp;(n={topics:n}),typeof n=="string")switch(n){case"block":case"pending":case"debug":case"error":case"network":return{type:n,tag:n}}if(At(n,32)){const e=n.toLowerCase();return{type:"transaction",tag:Po("tx",{hash:e}),hash:e}}if(n.orphan){const e=n;return{type:"orphan",tag:Po("orphan",e),filter:j0(e)}}if(n.address||n.topics){const e=n,r={topics:(e.topics||[]).map(s=&gt;s==null?null:Array.isArray(s)?oc(s.map(i=&gt;i.toLowerCase())):s.toLowerCase())};if(e.address){const s=[],i=[],o=a=&gt;{At(a)?s.push(a):i.push((async()=&gt;{s.push(await ne(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&amp;&amp;await Promise.all(i),r.address=oc(s.map(a=&gt;a.toLowerCase()))}return{filter:r,tag:Po("event",r),type:"event"}}b(!1,"unknown ProviderEvent","event",n)}function Ra(){return new Date().getTime()}const V0={cacheTimeout:250,pollingInterval:4e3};var Ht,Mn,Gt,Us,ue,Ar,Hn,hn,Hi,Ee,Fs,Ds,Zt,me,Gi,ac,Qi,cc,br,oi,ji,lc,vr,ai,Ms,xo;class z0{constructor(t,e){C(this,Zt);C(this,Gi);C(this,Qi);C(this,br);C(this,ji);C(this,vr);C(this,Ms);C(this,Ht,void 0);C(this,Mn,void 0);C(this,Gt,void 0);C(this,Us,void 0);C(this,ue,void 0);C(this,Ar,void 0);C(this,Hn,void 0);C(this,hn,void 0);C(this,Hi,void 0);C(this,Ee,void 0);C(this,Fs,void 0);C(this,Ds,void 0);if(w(this,Ds,Object.assign({},V0,e||{})),t==="any")w(this,Ar,!0),w(this,ue,null);else if(t){const r=Le.from(t);w(this,Ar,!1),w(this,ue,Promise.resolve(r)),setTimeout(()=&gt;{this.emit("network",r,null)},0)}else w(this,Ar,!1),w(this,ue,null);w(this,hn,-1),w(this,Hn,new Map),w(this,Ht,new Map),w(this,Mn,new Map),w(this,Gt,null),w(this,Us,!1),w(this,Hi,1),w(this,Ee,new Map),w(this,Fs,!1)}get pollingInterval(){return d(this,Ds).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,Mn).values())}attachPlugin(t){if(d(this,Mn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Mn).set(t.name,t.connect(this)),this}getPlugin(t){return d(this,Mn).get(t)||null}get disableCcipRead(){return d(this,Fs)}set disableCcipRead(t){w(this,Fs,!!t)}async ccipReadFetch(t,e,r){if(this.disableCcipRead||r.length===0||t.to==null)return null;const s=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a&lt;r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",i),u=new yn(l);c.indexOf("{data}")===-1&amp;&amp;(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let f="unknown error";const h=await u.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&amp;&amp;(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}B(h.statusCode&lt;400||h.statusCode&gt;=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:f}}),o.push(f)}B(!1,`error encountered during CCIP fetch: ${o.map(a=&gt;JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:o}})}_wrapBlock(t,e){return new f0(B0(t),this)}_wrapLog(t,e){return new Xi(N0(t),this)}_wrapTransactionReceipt(t,e){return new xh(L0(t),this)}_wrapTransactionResponse(t,e){return new Si(Dh(t),this)}_detectNetwork(){B(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){B(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=tt(await L(this,Zt,me).call(this,{method:"getBlockNumber"}),"%response");return d(this,hn)&gt;=0&amp;&amp;w(this,hn,t),t}_getAddress(t){return ne(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(At(t))return At(t,32)?t:Wr(t);if(typeof t=="bigint"&amp;&amp;(t=tt(t,"blockTag")),typeof t=="number")return t&gt;=0?Wr(t):d(this,hn)&gt;=0?Wr(d(this,hn)+t):this.getBlockNumber().then(e=&gt;Wr(e+t));b(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(c=&gt;c==null?null:Array.isArray(c)?oc(c.map(l=&gt;l.toLowerCase())):c.toLowerCase()),r="blockHash"in t?t.blockHash:void 0,s=(c,l,u)=&gt;{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&amp;&amp;(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&amp;&amp;(h.address=f),e.length&amp;&amp;(h.topics=e),l&amp;&amp;(h.fromBlock=l),u&amp;&amp;(h.toBlock=u),r&amp;&amp;(h.blockHash=r),h};let i=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)i.push(this._getAddress(c));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&amp;&amp;(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&amp;&amp;(a=this._getBlockTag(t.toBlock)),i.filter(c=&gt;typeof c!="string").length||o!=null&amp;&amp;typeof o!="string"||a!=null&amp;&amp;typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=&gt;s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(t){const e=Jo(t),r=[];if(["to","from"].forEach(s=&gt;{if(e[s]==null)return;const i=ne(e[s]);po(i)?r.push(async function(){e[s]=await i}()):e[s]=i}),e.blockTag!=null){const s=this._getBlockTag(e.blockTag);po(s)?r.push(async function(){e.blockTag=await s}()):e.blockTag=s}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(d(this,ue)==null){const s=this._detectNetwork().then(i=&gt;(this.emit("network",i,null),i),i=&gt;{throw d(this,ue)===s&amp;&amp;w(this,ue,null),i});return w(this,ue,s),(await s).clone()}const t=d(this,ue),[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&amp;&amp;(d(this,Ar)?(this.emit("network",r,e),d(this,ue)===t&amp;&amp;w(this,ue,Promise.resolve(r))):B(!1,`network changed: ${e.chainId} =&gt; ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=&gt;{const{_block:s,gasPrice:i}=await Jt({_block:L(this,ji,lc).call(this,"latest",!1),gasPrice:(async()=&gt;{try{const l=await L(this,Zt,me).call(this,{method:"getGasPrice"});return Q(l,"%response")}catch{}return null})()});let o=null,a=null;const c=this._wrapBlock(s,t);return c&amp;&amp;c.baseFeePerGas&amp;&amp;(a=BigInt("1000000000"),o=c.baseFeePerGas*G0+a),new vu(i,o,a)},r=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new yn(r.url),i=await r.processFunc(e,this,s);return new vu(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return po(e)&amp;&amp;(e=await e),Q(await L(this,Zt,me).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:r}=await Jt({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await L(this,Qi,cc).call(this,L(this,Gi,ac).call(this,e,r,t.enableCcipRead?0:-1))}async getBalance(t,e){return Q(await L(this,br,oi).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return tt(await L(this,br,oi).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return H(await L(this,br,oi).call(this,{method:"getCode"},t,e))}async getStorage(t,e,r){const s=Q(e,"position");return H(await L(this,br,oi).call(this,{method:"getStorage",position:s},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:s}=await Jt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=Vo.from(t);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(e)}async getBlock(t,e){const{network:r,params:s}=await Jt({network:this.getNetwork(),params:L(this,ji,lc).call(this,t,!!e)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(t){const{network:e,params:r}=await Jt({network:this.getNetwork(),params:L(this,Zt,me).call(this,{method:"getTransaction",hash:t})});return r==null?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await Jt({network:this.getNetwork(),params:L(this,Zt,me).call(this,{method:"getTransactionReceipt",hash:t})});if(r==null)return null;if(r.gasPrice==null&amp;&amp;r.effectiveGasPrice==null){const s=await L(this,Zt,me).call(this,{method:"getTransaction",hash:t});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await Jt({network:this.getNetwork(),result:L(this,Zt,me).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:H(e)}async getLogs(t){let e=this._getFilter(t);po(e)&amp;&amp;(e=await e);const{network:r,params:s}=await Jt({network:this.getNetwork(),params:L(this,Zt,me).call(this,{method:"getLogs",filter:e})});return s.map(i=&gt;this._wrapLog(i,r))}_getProvider(t){B(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Wo.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=lt(t);const e=$a(t.substring(2).toLowerCase()+".addr.reverse");try{const r=await Wo.getEnsAddress(this),i=await new rs(r,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===Za)return null;const a=await new rs(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(r){if(ke(r,"BAD_DATA")&amp;&amp;r.value==="0x"||ke(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(t,e,r){const s=e??1;return s===0?this.getTransactionReceipt(t):new Promise(async(i,o)=&gt;{let a=null;const c=async l=&gt;{try{const u=await this.getTransactionReceipt(t);if(u!=null&amp;&amp;l-u.blockNumber+1&gt;=s){i(u),a&amp;&amp;(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&amp;&amp;(a=setTimeout(()=&gt;{a!=null&amp;&amp;(a=null,this.off("block",c),o(Bt("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(t){B(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=d(this,Ee).get(t);e&amp;&amp;(e.timer&amp;&amp;clearTimeout(e.timer),d(this,Ee).delete(t))}_setTimeout(t,e){e==null&amp;&amp;(e=0);const r=qs(this,Hi)._++,s=()=&gt;{d(this,Ee).delete(r),t()};if(this.paused)d(this,Ee).set(r,{timer:null,func:s,time:e});else{const i=setTimeout(s,e);d(this,Ee).set(r,{timer:i,func:s,time:Ra()})}return r}_forEachSubscriber(t){for(const e of d(this,Ht).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Qh(t.type);case"block":{const e=new D0(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new il(this,t.filter);case"transaction":return new H0(this,t.hash);case"orphan":return new M0(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of d(this,Ht).values())if(r.subscriber===t){r.started&amp;&amp;r.subscriber.stop(),r.subscriber=e,r.started&amp;&amp;e.start(),d(this,Gt)!=null&amp;&amp;e.pause(d(this,Gt));break}}async on(t,e){const r=await L(this,Ms,xo).call(this,t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,d(this,Gt)!=null&amp;&amp;r.subscriber.pause(d(this,Gt))),this}async once(t,e){const r=await L(this,Ms,xo).call(this,t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,d(this,Gt)!=null&amp;&amp;r.subscriber.pause(d(this,Gt))),this}async emit(t,...e){const r=await L(this,vr,ai).call(this,t,e);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=&gt;{const a=new hf(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),r.listeners.length===0&amp;&amp;(r.started&amp;&amp;r.subscriber.stop(),d(this,Ht).delete(r.tag)),s&gt;0}async listenerCount(t){if(t){const r=await L(this,vr,ai).call(this,t);return r?r.listeners.length:0}let e=0;for(const{listeners:r}of d(this,Ht).values())e+=r.length;return e}async listeners(t){if(t){const r=await L(this,vr,ai).call(this,t);return r?r.listeners.map(({listener:s})=&gt;s):[]}let e=[];for(const{listeners:r}of d(this,Ht).values())e=e.concat(r.map(({listener:s})=&gt;s));return e}async off(t,e){const r=await L(this,vr,ai).call(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=&gt;i).indexOf(e);s&gt;=0&amp;&amp;r.listeners.splice(s,1)}return(!e||r.listeners.length===0)&amp;&amp;(r.started&amp;&amp;r.subscriber.stop(),d(this,Ht).delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:s}=await L(this,Ms,xo).call(this,t);r&amp;&amp;s.stop(),d(this,Ht).delete(e)}else for(const[e,{started:r,subscriber:s}]of d(this,Ht))r&amp;&amp;s.stop(),d(this,Ht).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return d(this,Us)}destroy(){this.removeAllListeners();for(const t of d(this,Ee).keys())this._clearTimeout(t);w(this,Us,!0)}get paused(){return d(this,Gt)!=null}set paused(t){!!t!==this.paused&amp;&amp;(this.paused?this.resume():this.pause(!1))}pause(t){if(w(this,hn,-1),d(this,Gt)!=null){if(d(this,Gt)==!!t)return;B(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=&gt;e.pause(t)),w(this,Gt,!!t);for(const e of d(this,Ee).values())e.timer&amp;&amp;clearTimeout(e.timer),e.time=Ra()-e.time}resume(){if(d(this,Gt)!=null){this._forEachSubscriber(t=&gt;t.resume()),w(this,Gt,null);for(const t of d(this,Ee).values()){let e=t.time;e&lt;0&amp;&amp;(e=0),t.time=Ra(),setTimeout(t.func,e)}}}}Ht=new WeakMap,Mn=new WeakMap,Gt=new WeakMap,Us=new WeakMap,ue=new WeakMap,Ar=new WeakMap,Hn=new WeakMap,hn=new WeakMap,Hi=new WeakMap,Ee=new WeakMap,Fs=new WeakMap,Ds=new WeakMap,Zt=new WeakSet,me=async function(t){const e=d(this,Ds).cacheTimeout;if(e&lt;0)return await this._perform(t);const r=Po(t.method,t);let s=d(this,Hn).get(r);return s||(s=this._perform(t),d(this,Hn).set(r,s),setTimeout(()=&gt;{d(this,Hn).get(r)===s&amp;&amp;d(this,Hn).delete(r)},e)),await s},Gi=new WeakSet,ac=async function(t,e,r){B(r&lt;Q0,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const s=Jo(t);try{return H(await this._perform({method:"call",transaction:s,blockTag:e}))}catch(i){if(!this.disableCcipRead&amp;&amp;Vc(i)&amp;&amp;i.data&amp;&amp;r&gt;=0&amp;&amp;e==="latest"&amp;&amp;s.to!=null&amp;&amp;Et(i.data,0,4)==="0x556f1830"){const o=i.data,a=await ne(s.to,this);let c;try{c=Z0(Et(i.data,4))}catch(f){B(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}B(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);B(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:It([c.selector,Y0([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await L(this,Gi,ac).call(this,u,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},Qi=new WeakSet,cc=async function(t){const{value:e}=await Jt({network:this.getNetwork(),value:t});return e},br=new WeakSet,oi=async function(t,e,r){let s=this._getAddress(e),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&amp;&amp;([s,i]=await Promise.all([s,i])),await L(this,Qi,cc).call(this,L(this,Zt,me).call(this,Object.assign(t,{address:s,blockTag:i})))},ji=new WeakSet,lc=async function(t,e){if(At(t,32))return await L(this,Zt,me).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return typeof r!="string"&amp;&amp;(r=await r),await L(this,Zt,me).call(this,{method:"getBlock",blockTag:r,includeTransactions:e})},vr=new WeakSet,ai=async function(t,e){let r=await Ta(t,this);return r.type==="event"&amp;&amp;e&amp;&amp;e.length&gt;0&amp;&amp;e[0].removed===!0&amp;&amp;(r=await Ta({orphan:"drop-log",log:e[0]},this)),d(this,Ht).get(r.tag)||null},Ms=new WeakSet,xo=async function(t){const e=await Ta(t,this),r=e.tag;let s=d(this,Ht).get(r);return s||(s={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,Ht).set(r,s)),s};function J0(n,t){try{const e=uc(n,t);if(e)return Jc(e)}catch{}return null}function uc(n,t){if(n==="0x")return null;try{const e=tt(Et(n,t,t+32)),r=tt(Et(n,e,e+32));return Et(n,e+32,e+32+r)}catch{}return null}function Su(n){const t=he(n);if(t.length&gt;32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function K0(n){if(n.length%32===0)return n;const t=new Uint8Array(Math.ceil(n.length/32)*32);return t.set(n),t}const W0=new Uint8Array([]);function Y0(n){const t=[];let e=0;for(let r=0;r&lt;n.length;r++)t.push(W0),e+=32;for(let r=0;r&lt;n.length;r++){const s=ot(n[r]);t[r]=Su(e),t.push(Su(s.length)),t.push(K0(s)),e+=32+Math.ceil(s.length/32)*32}return It(t)}const Bu="0x0000000000000000000000000000000000000000000000000000000000000000";function Z0(n){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};B($r(n)&gt;=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Et(n,0,32);B(Et(e,0,12)===Et(Bu,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Et(e,12);try{const r=[],s=tt(Et(n,32,64)),i=tt(Et(n,s,s+32)),o=Et(n,s+32);for(let a=0;a&lt;i;a++){const c=J0(o,a*32);if(c==null)throw new Error("abort");r.push(c)}t.urls=r}catch{B(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=uc(n,64);if(r==null)throw new Error("abort");t.calldata=r}catch{B(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}B(Et(n,100,128)===Et(Bu,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Et(n,96,100);try{const r=uc(n,128);if(r==null)throw new Error("abort");t.extraData=r}catch{B(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=&gt;t[r]),t}function Mr(n,t){if(n.provider)return n.provider;B(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Ou(n,t){let e=Jo(t);if(e.to!=null&amp;&amp;(e.to=ne(e.to,n)),e.from!=null){const r=e.from;e.from=Promise.all([n.getAddress(),ne(r,n)]).then(([s,i])=&gt;(b(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else e.from=n.getAddress();return await Jt(e)}class X0{constructor(t){k(this,"provider");W(this,{provider:t||null})}async getNonce(t){return Mr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Ou(this,t)}async populateTransaction(t){const e=Mr(this,"populateTransaction"),r=await Ou(this,t);r.nonce==null&amp;&amp;(r.nonce=await this.getNonce("pending")),r.gasLimit==null&amp;&amp;(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=Q(r.chainId);b(o===s.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&amp;&amp;(r.type===2||i)?b(!1,"eip-1559 transaction do not support gasPrice","tx",t):(r.type===0||r.type===1)&amp;&amp;i&amp;&amp;b(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(r.type===2||r.type==null)&amp;&amp;r.maxFeePerGas!=null&amp;&amp;r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await e.getFeeData();B(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&amp;&amp;(r.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&amp;&amp;o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&amp;&amp;(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&amp;&amp;(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(B(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&amp;&amp;(r.gasPrice=o.gasPrice),r.type=0):B(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&amp;&amp;(r.maxFeePerGas==null&amp;&amp;(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&amp;&amp;(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Jt(r)}async estimateGas(t){return Mr(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Mr(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Mr(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=Mr(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const s=Vo.from(r);return await e.broadcastTransaction(await this.signTransaction(s))}}function q0(n){return JSON.parse(JSON.stringify(n))}var Xt,We,Er,Gn,kr,Hs,Vi,fc,zi,hc;class jh{constructor(t){C(this,Vi);C(this,zi);C(this,Xt,void 0);C(this,We,void 0);C(this,Er,void 0);C(this,Gn,void 0);C(this,kr,void 0);C(this,Hs,void 0);w(this,Xt,t),w(this,We,null),w(this,Er,L(this,Vi,fc).bind(this)),w(this,Gn,!1),w(this,kr,null),w(this,Hs,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){d(this,Gn)||(w(this,Gn,!0),L(this,Vi,fc).call(this,-2))}stop(){d(this,Gn)&amp;&amp;(w(this,Gn,!1),w(this,Hs,!0),L(this,zi,hc).call(this),d(this,Xt).off("block",d(this,Er)))}pause(t){t&amp;&amp;L(this,zi,hc).call(this),d(this,Xt).off("block",d(this,Er))}resume(){this.start()}}Xt=new WeakMap,We=new WeakMap,Er=new WeakMap,Gn=new WeakMap,kr=new WeakMap,Hs=new WeakMap,Vi=new WeakSet,fc=async function(t){try{d(this,We)==null&amp;&amp;w(this,We,this._subscribe(d(this,Xt)));let e=null;try{e=await d(this,We)}catch(i){if(!ke(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){w(this,We,null),d(this,Xt)._recoverSubscriber(this,this._recover(d(this,Xt)));return}const r=await d(this,Xt).getNetwork();if(d(this,kr)||w(this,kr,r),d(this,kr).chainId!==r.chainId)throw new Error("chaid changed");if(d(this,Hs))return;const s=await d(this,Xt).send("eth_getFilterChanges",[e]);await this._emitResults(d(this,Xt),s)}catch(e){console.log("@TODO",e)}d(this,Xt).once("block",d(this,Er))},zi=new WeakSet,hc=function(){const t=d(this,We);t&amp;&amp;(w(this,We,null),t.then(e=&gt;{d(this,Xt).send("eth_uninstallFilter",[e])}))};var Cr;class $0 extends jh{constructor(e,r){super(e);C(this,Cr,void 0);w(this,Cr,q0(r))}_recover(e){return new il(e,d(this,Cr))}async _subscribe(e){return await e.send("eth_newFilter",[d(this,Cr)])}async _emitResults(e,r){for(const s of r)e.emit(d(this,Cr),e._wrapLog(s,e._network))}}Cr=new WeakMap;class tw extends jh{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const ew="bigint,boolean,function,number,string,symbol".split(/,/g);function Io(n){if(n==null||ew.indexOf(typeof n)&gt;=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Io);if(typeof n=="object")return Object.keys(n).reduce((t,e)=&gt;(t[e]=n[e],t),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function nw(n){return new Promise(t=&gt;{setTimeout(t,n)})}function Hr(n){return n&amp;&amp;n.toLowerCase()}function Tu(n){return n&amp;&amp;typeof n.pollingInterval=="number"}const rw={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1&lt;&lt;20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class La extends X0{constructor(e,r){super(e);k(this,"address");r=lt(r),W(this,{address:r})}connect(e){B(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const r=Io(e),s=[];if(r.from){const o=r.from;s.push((async()=&gt;{const a=await ne(o,this.provider);b(a!=null&amp;&amp;a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&amp;&amp;s.push((async()=&gt;{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=&gt;{r.to=await ne(o,this.provider)})())}s.length&amp;&amp;await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=&gt;{const a=[1e3,100],c=async()=&gt;{const l=await this.provider.getTransaction(s);if(l!=null){i(l.replaceableTransaction(r));return}this.provider._setTimeout(()=&gt;{c()},a.pop()||4e3)};c()})}async signTransaction(e){const r=Io(e);if(r.from){const i=await ne(r.from,this.provider);b(i!=null&amp;&amp;i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(e){const r=typeof e=="string"?mn(e):e;return await this.provider.send("personal_sign",[H(r),this.address.toLowerCase()])}async signTypedData(e,r,s){const i=Io(s),o=await zo.resolveNames(e,r,i,async a=&gt;{const c=await ne(a);return b(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(zo.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const r=typeof e=="string"?mn(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),H(r)])}}var Pr,Gs,dn,Ye,Oe,pn,Ji,dc;class sw extends z0{constructor(e,r){super(e,r);C(this,Ji);C(this,Pr,void 0);C(this,Gs,void 0);C(this,dn,void 0);C(this,Ye,void 0);C(this,Oe,void 0);C(this,pn,void 0);w(this,Gs,1),w(this,Pr,Object.assign({},rw,r||{})),w(this,dn,[]),w(this,Ye,null),w(this,pn,null);{let i=null;const o=new Promise(a=&gt;{i=a});w(this,Oe,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");s&amp;&amp;(b(e==null||s.matches(e),"staticNetwork MUST match network object","options",r),w(this,pn,s))}_getOption(e){return d(this,Pr)[e]}get _network(){return B(d(this,pn),"network is not available yet","NETWORK_ERROR"),d(this,pn)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let s=e.transaction;if(s&amp;&amp;s.type!=null&amp;&amp;Q(s.type)&amp;&amp;s.maxFeePerGas==null&amp;&amp;s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&amp;&amp;i.maxPriorityFeePerGas==null&amp;&amp;(e=Object.assign({},e,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Le.from(Q(await this.send("eth_chainId",[])));const r={id:qs(this,Gs)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Le.from(Q(s.result));throw this.getRpcError(r,s)}_start(){d(this,Oe)==null||d(this,Oe).resolve==null||(d(this,Oe).resolve(),w(this,Oe,null),(async()=&gt;{for(;d(this,pn)==null&amp;&amp;!this.destroyed;)try{w(this,pn,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Bt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await nw(1e3)}L(this,Ji,dc).call(this)})())}async _waitUntilReady(){if(d(this,Oe)!=null)return await d(this,Oe).promise}_getSubscriber(e){return e.type==="pending"?new tw(this):e.type==="event"?this._getOption("polling")?new il(this,e.filter):new $0(this,e.filter):e.type==="orphan"&amp;&amp;e.filter.orphan==="drop-log"?new Qh("orphan"):super._getSubscriber(e)}get ready(){return d(this,Oe)==null}getRpcTransaction(e){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=&gt;{if(e[s]==null)return;let i=s;s==="gasLimit"&amp;&amp;(i="gas"),r[i]=Wr(Q(e[s],`tx.${s}`))}),["from","to","data"].forEach(s=&gt;{e[s]!=null&amp;&amp;(r[s]=H(e[s]))}),e.accessList&amp;&amp;(r.accessList=Rr(e.accessList)),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Hr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Hr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Hr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Hr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&amp;&amp;e.filter.address!=null&amp;&amp;(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Hr):e.filter.address=Hr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){const{method:s}=e,{error:i}=r;if(s==="eth_estimateGas"&amp;&amp;i.message){const c=i.message;if(!c.match(/revert/i)&amp;&amp;c.match(/insufficient funds/i))return Bt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=pc(i),l=Ni.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",e.params[0],c?c.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(ow(i));if(typeof i.message=="string"&amp;&amp;i.message.match(/user denied|ethers-user-denied/i))return Bt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Bt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&amp;&amp;o.match(/too low/i))return Bt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&amp;&amp;o.match(/underpriced/i))return Bt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Bt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&amp;&amp;i.details&amp;&amp;i.details.startsWith("Unauthorized method:")&amp;&amp;(a=!0),a?Bt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Bt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const s=qs(this,Gs)._++,i=new Promise((o,a)=&gt;{d(this,dn).push({resolve:o,reject:a,payload:{method:e,params:r,id:s,jsonrpc:"2.0"}})});return L(this,Ji,dc).call(this),i}async getSigner(e){e==null&amp;&amp;(e=0);const r=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await r;if(e&gt;=i.length)throw new Error("no such account");return new La(this,i[e])}const{accounts:s}=await Jt({network:this.getNetwork(),accounts:r});e=lt(e);for(const i of s)if(lt(i)===e)return new La(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=&gt;new La(this,r))}destroy(){d(this,Ye)&amp;&amp;(clearTimeout(d(this,Ye)),w(this,Ye,null));for(const{payload:e,reject:r}of d(this,dn))r(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));w(this,dn,[]),super.destroy()}}Pr=new WeakMap,Gs=new WeakMap,dn=new WeakMap,Ye=new WeakMap,Oe=new WeakMap,pn=new WeakMap,Ji=new WeakSet,dc=function(){if(d(this,Ye))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,Ye,setTimeout(()=&gt;{w(this,Ye,null);const r=d(this,dn);for(w(this,dn,[]);r.length;){const s=[r.shift()];for(;r.length&amp;&amp;s.length!==d(this,Pr).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=&gt;o.payload)).length&gt;d(this,Pr).batchMaxSize){r.unshift(s.pop());break}(async()=&gt;{const i=s.length===1?s[0].payload:s.map(o=&gt;o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(f=&gt;f.id===l.id)[0];if(u==null){const f=Bt("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},e))};var Qn;class iw extends sw{constructor(e,r){super(e,r);C(this,Qn,void 0);w(this,Qn,4e3)}_getSubscriber(e){const r=super._getSubscriber(e);return Tu(r)&amp;&amp;(r.pollingInterval=d(this,Qn)),r}get pollingInterval(){return d(this,Qn)}set pollingInterval(e){if(!Number.isInteger(e)||e&lt;0)throw new Error("invalid interval");w(this,Qn,e),this._forEachSubscriber(r=&gt;{Tu(r)&amp;&amp;(r.pollingInterval=d(this,Qn))})}}Qn=new WeakMap;var Qs;class Vh extends iw{constructor(e,r,s){e==null&amp;&amp;(e="http://localhost:8545");super(r,s);C(this,Qs,void 0);typeof e=="string"?w(this,Qs,new yn(e)):w(this,Qs,e.clone())}_getConnection(){return d(this,Qs).clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){const r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Qs=new WeakMap;function pc(n){if(n==null)return null;if(typeof n.message=="string"&amp;&amp;n.message.match(/revert/i)&amp;&amp;At(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const t in n){const e=pc(n[t]);if(e)return e}return null}if(typeof n=="string")try{return pc(JSON.parse(n))}catch{}return null}function gc(n,t){if(n!=null){if(typeof n.message=="string"&amp;&amp;t.push(n.message),typeof n=="object")for(const e in n)gc(n[e],t);if(typeof n=="string")try{return gc(JSON.parse(n),t)}catch{}}}function ow(n){const t=[];return gc(n,t),t}const Ru={};async function Lu(n){return Ru[n]?Ru[n]:await new Vh("https://eth-mainnet.g.alchemy.com/v2/2bJxn0VGXp9U5EOfA6CoMGU-rrd-BIIT","mainnet",{staticNetwork:Le.from("mainnet")}).lookupAddress(n)}async function _u(n){const e=await ol().getPlayInvitesList(BigInt(n.tokenId)),r=zh(e);return console.log("Play requests: ",r),r}async function Yo(n){const e=await ol().getFriendsList(BigInt(n.tokenId));return zh(e)}function zh(n){return Array.from(n).map(([t,e,r,s,i])=&gt;({tokenId:t,tokenUri:e,owner:r,level:s,canPlay:i}))}async function Uu(n){const t=ol(),e=await t.getCatInfo(BigInt(n.tokenId)),r={};({0:r.level,1:r.numFeeds,2:r.lastFeed,3:r.numPlays,4:r.lastPlay,5:r.numCleans,6:r.lastClean,7:r.friends}=e[0]),r.pointsBalance=e[1],r.actionLimitReset=e[2],r.friends=Array.from(r.friends);const s=await t.getConfig(),i=s[0];r.nextFeed=Math.max(Number(r.lastFeed+i[0]),Number(r.actionLimitReset)),r.nextPlay=Math.max(Number(r.lastPlay+i[1]),Number(r.actionLimitReset)),r.nextClean=Math.max(Number(r.lastClean+i[2]),Number(r.actionLimitReset));const o=s[1];return r.levelThresholds={feed:o[0],play:o[1],clean:o[2]},console.log("Cat state: ",r),r}function aw(){const n=new Le("polygon",chainID),t=rpcURL;return new Vh(t,n,{staticNetwork:n})}function ol(n){const t=aw(),e="0x7573933eB12Fa15D5557b74fDafF845B3BaF0ba2";return new rs(e,[{inputs:[],name:"getConfig",outputs:[{internalType:"uint256[3]",name:"",type:"uint256[3]"},{internalType:"uint16[3]",name:"",type:"uint16[3]"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCatInfo",outputs:[{components:[{components:[{internalType:"uint8",name:"level",type:"uint8"},{internalType:"uint16",name:"numFeeds",type:"uint16"},{internalType:"uint256",name:"lastFeed",type:"uint256"},{internalType:"uint16",name:"numPlays",type:"uint16"},{internalType:"uint256",name:"lastPlay",type:"uint256"},{internalType:"uint16",name:"numCleans",type:"uint16"},{internalType:"uint256",name:"lastClean",type:"uint256"},{internalType:"uint256[]",name:"friends",type:"uint256[]"}],internalType:"struct SmartCatProxyV2.CatState",name:"state",type:"tuple"},{internalType:"uint256",name:"pointsBalance",type:"uint256"},{internalType:"uint256",name:"actionLimitReset",type:"uint256"}],internalType:"struct SmartCatProxyV2.CatInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPlayInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getFriendsList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCats",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"}],internalType:"struct SmartCat.AllCatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],t)}const _a="src/components/NftIcon.svelte";function mc(n){let t,e,r,s,i,o,a;const c={c:function(){t=v("div"),e=v("div"),r=O(),s=v("img"),E(e,"class","shimmer s-coprCO2UItih"),j(e,"display",n[1]?"none":"block"),A(e,_a,67,1,981),E(s,"alt","cat"),_e(s.src,i=n[0])||E(s,"src",i),E(s,"class","s-coprCO2UItih"),A(s,_a,68,1,1056),E(t,"class","cat-list-image s-coprCO2UItih"),A(t,_a,66,0,951)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){V(u,t,f),g(t,e),g(t,r),g(t,s),o||(a=Ue(s,"load",n[3],!1,!1,!1,!1),o=!0)},p:function(u,[f]){f&amp;2&amp;&amp;j(e,"display",u[1]?"none":"block"),f&amp;1&amp;&amp;!_e(s.src,i=u[0])&amp;&amp;E(s,"src",i)},i:et,o:et,d:function(u){u&amp;&amp;z(t),o=!1,a()}};return _("SvelteRegisterBlock",{block:c,id:mc.name,type:"component",source:"",ctx:n}),c}function cw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("NftIcon",r,[]);let{tokenUri:i}=t,o,a=!1;To(async()=&gt;{try{const u=await(await fetch(i,{headers:{"Content-type":"text/plain"}})).json();e(0,o=u.image)}catch{}}),n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("tokenUri"in t||n.$$.bound[n.$$.props.tokenUri])&amp;&amp;console.warn("&lt;NftIcon&gt; was created without expected prop 'tokenUri'")});const c=["tokenUri"];Object.keys(t).forEach(u=&gt;{!~c.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;console.warn(`&lt;NftIcon&gt; was created with unknown prop '${u}'`)});const l=()=&gt;e(1,a=!0);return n.$$set=u=&gt;{"tokenUri"in u&amp;&amp;e(2,i=u.tokenUri)},n.$capture_state=()=&gt;({onMount:To,tokenUri:i,src:o,loaded:a}),n.$inject_state=u=&gt;{"tokenUri"in u&amp;&amp;e(2,i=u.tokenUri),"src"in u&amp;&amp;e(0,o=u.src),"loaded"in u&amp;&amp;e(1,a=u.loaded)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,i,l]}class Ys extends Rt{constructor(t){super(t),Ot(this,t,cw,mc,Nt,{tokenUri:2}),_("SvelteRegisterComponent",{component:this,tagName:"NftIcon",options:t,id:mc.name})}get tokenUri(){throw new Error("&lt;NftIcon&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set tokenUri(t){throw new Error("&lt;NftIcon&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Fu="src/components/OwnerAddress.svelte";function wc(n){let t,e,r,s=(n[1]?`${n[1]} (${n[0]})`:n[0])+"",i;const o={c:function(){t=v("small"),e=ht("Owner: "),r=v("span"),i=ht(s),A(r,Fu,16,52,297),E(t,"class","eth-address"),E(t,"title",n[0]),A(t,Fu,16,0,245)},l:function(c){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(c,l){V(c,t,l),g(t,e),g(t,r),g(r,i)},p:function(c,[l]){l&amp;3&amp;&amp;s!==(s=(c[1]?`${c[1]} (${c[0]})`:c[0])+"")&amp;&amp;_t(i,s),l&amp;1&amp;&amp;E(t,"title",c[0])},i:et,o:et,d:function(c){c&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:o,id:wc.name,type:"component",source:"",ctx:n}),o}function lw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("OwnerAddress",r,[]);let{address:i}=t,o;To(async()=&gt;{const c=await Lu(i);c&amp;&amp;e(1,o=c)}),n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("address"in t||n.$$.bound[n.$$.props.address])&amp;&amp;console.warn("&lt;OwnerAddress&gt; was created without expected prop 'address'")});const a=["address"];return Object.keys(t).forEach(c=&gt;{!~a.indexOf(c)&amp;&amp;c.slice(0,2)!=="$$"&amp;&amp;c!=="slot"&amp;&amp;console.warn(`&lt;OwnerAddress&gt; was created with unknown prop '${c}'`)}),n.$$set=c=&gt;{"address"in c&amp;&amp;e(0,i=c.address)},n.$capture_state=()=&gt;({onMount:To,lookupEnsName:Lu,address:i,ensName:o}),n.$inject_state=c=&gt;{"address"in c&amp;&amp;e(0,i=c.address),"ensName"in c&amp;&amp;e(1,o=c.ensName)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o]}class Zs extends Rt{constructor(t){super(t),Ot(this,t,lw,wc,Nt,{address:0}),_("SvelteRegisterComponent",{component:this,tagName:"OwnerAddress",options:t,id:wc.name})}get address(){throw new Error("&lt;OwnerAddress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set address(t){throw new Error("&lt;OwnerAddress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Gr="src/components/Loader.svelte";function yc(n){let t,e,r,s,i,o,a,c,l;const u={c:function(){t=v("div"),e=v("div"),r=v("div"),s=O(),i=v("div"),o=O(),a=v("div"),c=O(),l=v("div"),E(r,"class","s-BBunC__gYdVv"),A(r,Gr,54,2,947),E(i,"class","s-BBunC__gYdVv"),A(i,Gr,55,2,961),E(a,"class","s-BBunC__gYdVv"),A(a,Gr,56,2,975),E(l,"class","s-BBunC__gYdVv"),A(l,Gr,57,2,989),E(e,"class","lds-ring s-BBunC__gYdVv"),A(e,Gr,53,1,922),E(t,"class","loader-container s-BBunC__gYdVv"),A(t,Gr,52,0,890)},m:function(h,p){V(h,t,p),g(t,e),g(e,r),g(e,s),g(e,i),g(e,o),g(e,a),g(e,c),g(e,l)},d:function(h){h&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:u,id:yc.name,type:"if",source:"(51:0) {#if show}",ctx:n}),u}function Ac(n){let t,e=n[0]&amp;&amp;yc(n);const r={c:function(){e&amp;&amp;e.c(),t=oa()},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,o){e&amp;&amp;e.m(i,o),V(i,t,o)},p:function(i,[o]){i[0]?e||(e=yc(i),e.c(),e.m(t.parentNode,t)):e&amp;&amp;(e.d(1),e=null)},i:et,o:et,d:function(i){i&amp;&amp;z(t),e&amp;&amp;e.d(i)}};return _("SvelteRegisterBlock",{block:r,id:Ac.name,type:"component",source:"",ctx:n}),r}function uw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Loader",r,[]);let{show:i}=t;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("show"in t||n.$$.bound[n.$$.props.show])&amp;&amp;console.warn("&lt;Loader&gt; was created without expected prop 'show'")});const o=["show"];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Loader&gt; was created with unknown prop '${a}'`)}),n.$$set=a=&gt;{"show"in a&amp;&amp;e(0,i=a.show)},n.$capture_state=()=&gt;({show:i}),n.$inject_state=a=&gt;{"show"in a&amp;&amp;e(0,i=a.show)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class $n extends Rt{constructor(t){super(t),Ot(this,t,uw,Ac,Nt,{show:0}),_("SvelteRegisterComponent",{component:this,tagName:"Loader",options:t,id:Ac.name})}get show(){throw new Error("&lt;Loader&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set show(t){throw new Error("&lt;Loader&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const go="src/components/LevelProgress.svelte";function bc(n){let t,e,r,s,i,o,a,c;const l={c:function(){t=v("div"),e=v("span"),r=ht(n[1]),s=ht(" / "),i=ht(n[0]),o=O(),a=v("div"),c=v("div"),E(e,"class","progress-text s-ZP8NyUOLSOsj"),A(e,go,36,1,569),E(c,"class","progress-inner s-ZP8NyUOLSOsj"),j(c,"width",Math.min(Math.round(parseInt(n[1])/parseInt(n[0])*100),100)+"%"),A(c,go,38,2,656),E(a,"class","progress-bar s-ZP8NyUOLSOsj"),A(a,go,37,1,627),E(t,"class","progress-contain s-ZP8NyUOLSOsj"),A(t,go,35,0,537)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,h){V(f,t,h),g(t,e),g(e,r),g(e,s),g(e,i),g(t,o),g(t,a),g(a,c)},p:function(f,[h]){h&amp;2&amp;&amp;_t(r,f[1]),h&amp;1&amp;&amp;_t(i,f[0]),h&amp;3&amp;&amp;j(c,"width",Math.min(Math.round(parseInt(f[1])/parseInt(f[0])*100),100)+"%")},i:et,o:et,d:function(f){f&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:l,id:bc.name,type:"component",source:"",ctx:n}),l}function fw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("LevelProgress",r,[]);let{threshold:i}=t,{total:o}=t;function a(){}n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("threshold"in t||n.$$.bound[n.$$.props.threshold])&amp;&amp;console.warn("&lt;LevelProgress&gt; was created without expected prop 'threshold'"),o===void 0&amp;&amp;!("total"in t||n.$$.bound[n.$$.props.total])&amp;&amp;console.warn("&lt;LevelProgress&gt; was created without expected prop 'total'")});const c=["threshold","total"];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;LevelProgress&gt; was created with unknown prop '${l}'`)}),n.$$set=l=&gt;{"threshold"in l&amp;&amp;e(0,i=l.threshold),"total"in l&amp;&amp;e(1,o=l.total)},n.$capture_state=()=&gt;({threshold:i,total:o,getPercent:a}),n.$inject_state=l=&gt;{"threshold"in l&amp;&amp;e(0,i=l.threshold),"total"in l&amp;&amp;e(1,o=l.total)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o]}class No extends Rt{constructor(t){super(t),Ot(this,t,fw,bc,Nt,{threshold:0,total:1}),_("SvelteRegisterComponent",{component:this,tagName:"LevelProgress",options:t,id:bc.name})}get threshold(){throw new Error("&lt;LevelProgress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set threshold(t){throw new Error("&lt;LevelProgress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get total(){throw new Error("&lt;LevelProgress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set total(t){throw new Error("&lt;LevelProgress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Me={1:"Curious Whisker",2:"Clever Purrer",3:"Savvy Seer",4:"Intellectual Prodigy",5:"Genius Trailblazer",6:"Enlightened Guru",7:"Sage Supreme"};const{console:hw}=sa,q="src/routes/Info.svelte";function Du(n,t,e){const r=n.slice();return r[7]=t[e],r}function vc(n){let t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P,N=n[4](n[1].nextFeed)+"",I,S,T,x,R,M,Z,Y,G=n[4](n[1].nextClean)+"",nt,dt,rt,zt,st,$,vn,Pt,J=n[4](n[1].nextPlay)+"",pt,pe,tr,er;T=new No({props:{total:rr(n[1].numFeeds,n[1].level,n[1].levelThresholds.feed),threshold:n[1].levelThresholds.feed},$$inline:!0}),rt=new No({props:{total:rr(n[1].numCleans,n[1].level,n[1].levelThresholds.clean),threshold:n[1].levelThresholds.clean},$$inline:!0}),tr=new No({props:{total:rr(n[1].numPlays,n[1].level,n[1].levelThresholds.play),threshold:n[1].levelThresholds.play},$$inline:!0});const ul={c:function(){t=v("div"),e=v("h3"),e.textContent="Today's duties",r=O(),s=v("table"),i=v("thead"),o=v("tr"),a=v("th"),a.textContent="Task",c=O(),l=v("th"),l.textContent="Due date",u=O(),f=v("th"),f.textContent="Level up",h=O(),p=v("tr"),m=v("td"),m.textContent="Feed",y=O(),P=v("td"),I=O(),S=v("td"),kt(T.$$.fragment),x=O(),R=v("tr"),M=v("td"),M.textContent="Clean",Z=O(),Y=v("td"),nt=O(),dt=v("td"),kt(rt.$$.fragment),zt=O(),st=v("tr"),$=v("td"),$.textContent="Playdates",vn=O(),Pt=v("td"),pt=O(),pe=v("td"),kt(tr.$$.fragment),E(e,"class","task-header s-AsgLAl132XNS"),A(e,q,124,2,2758),A(a,q,128,5,2856),A(l,q,129,5,2875),j(f,"text-align","right"),A(f,q,130,5,2898),A(o,q,127,4,2846),E(i,"class","s-AsgLAl132XNS"),A(i,q,126,3,2834),E(m,"class","s-AsgLAl132XNS"),A(m,q,134,4,2977),E(P,"class","s-AsgLAl132XNS"),A(P,q,135,4,2995),j(S,"text-align","right"),E(S,"class","s-AsgLAl132XNS"),A(S,q,136,4,3050),A(p,q,133,3,2968),E(M,"class","s-AsgLAl132XNS"),A(M,q,141,4,3276),E(Y,"class","s-AsgLAl132XNS"),A(Y,q,142,4,3295),j(dt,"text-align","right"),E(dt,"class","s-AsgLAl132XNS"),A(dt,q,143,4,3351),A(R,q,140,3,3267),E($,"class","s-AsgLAl132XNS"),A($,q,148,4,3580),E(Pt,"class","s-AsgLAl132XNS"),A(Pt,q,149,4,3603),j(pe,"text-align","right"),E(pe,"class","s-AsgLAl132XNS"),A(pe,q,150,4,3658),A(st,q,147,3,3571),E(s,"class","task-table s-AsgLAl132XNS"),A(s,q,125,2,2804),E(t,"class","info-container s-AsgLAl132XNS"),A(t,q,123,1,2727)},m:function(ut,Pe){V(ut,t,Pe),g(t,e),g(t,r),g(t,s),g(s,i),g(i,o),g(o,a),g(o,c),g(o,l),g(o,u),g(o,f),g(s,h),g(s,p),g(p,m),g(p,y),g(p,P),P.innerHTML=N,g(p,I),g(p,S),bt(T,S,null),g(s,x),g(s,R),g(R,M),g(R,Z),g(R,Y),Y.innerHTML=G,g(R,nt),g(R,dt),bt(rt,dt,null),g(s,zt),g(s,st),g(st,$),g(st,vn),g(st,Pt),Pt.innerHTML=J,g(st,pt),g(st,pe),bt(tr,pe,null),er=!0},p:function(ut,Pe){(!er||Pe&amp;2)&amp;&amp;N!==(N=ut[4](ut[1].nextFeed)+"")&amp;&amp;(P.innerHTML=N);const wa={};Pe&amp;2&amp;&amp;(wa.total=rr(ut[1].numFeeds,ut[1].level,ut[1].levelThresholds.feed)),Pe&amp;2&amp;&amp;(wa.threshold=ut[1].levelThresholds.feed),T.$set(wa),(!er||Pe&amp;2)&amp;&amp;G!==(G=ut[4](ut[1].nextClean)+"")&amp;&amp;(Y.innerHTML=G);const ya={};Pe&amp;2&amp;&amp;(ya.total=rr(ut[1].numCleans,ut[1].level,ut[1].levelThresholds.clean)),Pe&amp;2&amp;&amp;(ya.threshold=ut[1].levelThresholds.clean),rt.$set(ya),(!er||Pe&amp;2)&amp;&amp;J!==(J=ut[4](ut[1].nextPlay)+"")&amp;&amp;(Pt.innerHTML=J);const Aa={};Pe&amp;2&amp;&amp;(Aa.total=rr(ut[1].numPlays,ut[1].level,ut[1].levelThresholds.play)),Pe&amp;2&amp;&amp;(Aa.threshold=ut[1].levelThresholds.play),tr.$set(Aa)},i:function(ut){er||(D(T.$$.fragment,ut),D(rt.$$.fragment,ut),D(tr.$$.fragment,ut),er=!0)},o:function(ut){K(T.$$.fragment,ut),K(rt.$$.fragment,ut),K(tr.$$.fragment,ut),er=!1},d:function(ut){ut&amp;&amp;z(t),vt(T),vt(rt),vt(tr)}};return _("SvelteRegisterBlock",{block:ul,id:vc.name,type:"if",source:"(108:1) {#if catState}",ctx:n}),ul}function Ec(n){let t,e,r,s,i,o;const a=[Kh,Jh],c=[];function l(f,h){return f[2].length?0:1}s=l(n),i=c[s]=a[s](n);const u={c:function(){t=v("div"),e=v("h3"),e.textContent="Friends",r=O(),i.c(),j(e,"font-size","18px"),j(e,"margin-top","0"),A(e,q,159,2,3949),E(t,"class","info-container s-AsgLAl132XNS"),A(t,q,158,1,3918)},m:function(h,p){V(h,t,p),g(t,e),g(t,r),c[s].m(t,null),o=!0},p:function(h,p){let m=s;s=l(h),s===m?c[s].p(h,p):(re(),K(c[m],1,1,()=&gt;{c[m]=null}),se(),i=c[s],i?i.p(h,p):(i=c[s]=a[s](h),i.c()),D(i,1),i.m(t,null))},i:function(h){o||(D(i),o=!0)},o:function(h){K(i),o=!1},d:function(h){h&amp;&amp;z(t),c[s].d()}};return _("SvelteRegisterBlock",{block:u,id:Ec.name,type:"if",source:"(143:1) {#if friendsList}",ctx:n}),u}function Jh(n){let t,e;const r={c:function(){t=v("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=v("p"),e.textContent="Once you complete play dates, new friends will appear here.",A(t,q,178,3,4499),E(e,"class","light"),A(e,q,178,53,4549)},m:function(i,o){V(i,t,o),V(i,e,o)},p:et,i:et,o:et,d:function(i){i&amp;&amp;(z(t),z(e))}};return _("SvelteRegisterBlock",{block:r,id:Jh.name,type:"else",source:"(163:2) {:else}",ctx:n}),r}function Kh(n){let t,e,r=Kn(n[2]),s=[];for(let a=0;a&lt;r.length;a+=1)s[a]=kc(Du(n,r,a));const i=a=&gt;K(s[a],1,1,()=&gt;{s[a]=null}),o={c:function(){t=v("div");for(let c=0;c&lt;s.length;c+=1)s[c].c();E(t,"class","cat-list"),A(t,q,161,3,4036)},m:function(c,l){V(c,t,l);for(let u=0;u&lt;s.length;u+=1)s[u]&amp;&amp;s[u].m(t,null);e=!0},p:function(c,l){if(l&amp;4){r=Kn(c[2]);let u;for(u=0;u&lt;r.length;u+=1){const f=Du(c,r,u);s[u]?(s[u].p(f,l),D(s[u],1)):(s[u]=kc(f),s[u].c(),D(s[u],1),s[u].m(t,null))}for(re(),u=r.length;u&lt;s.length;u+=1)i(u);se()}},i:function(c){if(!e){for(let l=0;l&lt;r.length;l+=1)D(s[l]);e=!0}},o:function(c){s=s.filter(Boolean);for(let l=0;l&lt;s.length;l+=1)K(s[l]);e=!1},d:function(c){c&amp;&amp;z(t),ia(s,c)}};return _("SvelteRegisterBlock",{block:o,id:Kh.name,type:"if",source:"(146:2) {#if friendsList.length}",ctx:n}),o}function kc(n){let t,e,r,s,i,o,a,c=n[7].tokenId+"",l,u,f,h=(Me[n[7].level]??n[7].level)+"",p,m,y,P,N,I;e=new Ys({props:{tokenUri:n[7].tokenUri},$$inline:!0}),P=new Zs({props:{address:n[7].owner},$$inline:!0});const S={c:function(){t=v("div"),kt(e.$$.fragment),r=O(),s=v("div"),i=v("div"),o=v("h4"),a=ht("#"),l=ht(c),u=O(),f=v("span"),p=ht(h),m=O(),y=v("div"),kt(P.$$.fragment),N=O(),A(o,q,167,7,4265),A(f,q,168,7,4299),E(i,"class","cat-list-title"),A(i,q,166,6,4229),A(y,q,170,6,4374),E(s,"class","cat-list-info"),A(s,q,165,5,4195),E(t,"class","cat-list-item"),j(t,"cursor","unset"),A(t,q,163,4,4096)},m:function(x,R){V(x,t,R),bt(e,t,null),g(t,r),g(t,s),g(s,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(s,m),g(s,y),bt(P,y,null),g(t,N),I=!0},p:function(x,R){const M={};R&amp;4&amp;&amp;(M.tokenUri=x[7].tokenUri),e.$set(M),(!I||R&amp;4)&amp;&amp;c!==(c=x[7].tokenId+"")&amp;&amp;_t(l,c),(!I||R&amp;4)&amp;&amp;h!==(h=(Me[x[7].level]??x[7].level)+"")&amp;&amp;_t(p,h);const Z={};R&amp;4&amp;&amp;(Z.address=x[7].owner),P.$set(Z)},i:function(x){I||(D(e.$$.fragment,x),D(P.$$.fragment,x),I=!0)},o:function(x){K(e.$$.fragment,x),K(P.$$.fragment,x),I=!1},d:function(x){x&amp;&amp;z(t),vt(e),vt(P)}};return _("SvelteRegisterBlock",{block:S,id:kc.name,type:"each",source:"(148:3) {#each friendsList as friend}",ctx:n}),S}function Cc(n){let t,e,r,s,i,o,a,c,l=(Me[n[0].level]??n[0].level)+"",u,f,h,p,m,y,P=(n[1]?n[1].pointsBalance:"-")+"",N,I,S,T,x,R,M,Z,Y,G,nt,dt,rt,zt;e=new af({$$inline:!0});let st=n[1]&amp;&amp;vc(n),$=n[2]&amp;&amp;Ec(n);rt=new $n({props:{show:n[3]},$$inline:!0});const vn={c:function(){t=v("div"),kt(e.$$.fragment),r=O(),s=v("div"),i=v("div"),o=v("label"),o.textContent="Smart level",a=O(),c=v("span"),u=ht(l),f=O(),h=v("div"),p=v("label"),p.textContent="SmartLayer Points",m=O(),y=v("span"),N=ht(P),I=O(),S=v("div"),T=v("div"),x=v("a"),x.textContent="View",R=O(),M=v("div"),Z=v("div"),Z.textContent="Share",Y=O(),G=v("div"),st&amp;&amp;st.c(),nt=O(),$&amp;&amp;$.c(),dt=O(),kt(rt.$$.fragment),A(o,q,99,3,2070),A(c,q,100,3,2100),E(i,"class","score-box"),j(i,"flex","50%"),A(i,q,98,2,2024),A(p,q,103,3,2211),A(y,q,104,3,2247),E(h,"class","score-box"),j(h,"flex","50%"),A(h,q,102,2,2165),j(s,"display","flex"),j(s,"gap","8px"),j(s,"margin-top","24px"),A(s,q,97,1,1966),E(x,"href","https://www.smartlayer.network/smartcat/suitup/browse"),E(x,"target","_blank"),A(x,q,110,3,2426),E(T,"class","link-button"),j(T,"flex","50%"),A(T,q,109,2,2378),j(Z,"color","rgba(1,26,255,0.56)"),j(Z,"border-color","rgba(1,26,255,0.56)"),A(Z,q,115,3,2583),E(M,"class","link-button"),j(M,"flex","50%"),A(M,q,114,2,2535),j(S,"display","flex"),j(S,"gap","8px"),j(S,"margin","24px 0"),A(S,q,108,1,2321),j(t,"padding","10px 10px 0"),A(t,q,95,0,1919),A(G,q,121,0,2704)},l:function(J){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(J,pt){V(J,t,pt),bt(e,t,null),g(t,r),g(t,s),g(s,i),g(i,o),g(i,a),g(i,c),g(c,u),g(s,f),g(s,h),g(h,p),g(h,m),g(h,y),g(y,N),g(t,I),g(t,S),g(S,T),g(T,x),g(S,R),g(S,M),g(M,Z),V(J,Y,pt),V(J,G,pt),st&amp;&amp;st.m(G,null),g(G,nt),$&amp;&amp;$.m(G,null),g(G,dt),bt(rt,G,null),zt=!0},p:function(J,[pt]){(!zt||pt&amp;1)&amp;&amp;l!==(l=(Me[J[0].level]??J[0].level)+"")&amp;&amp;_t(u,l),(!zt||pt&amp;2)&amp;&amp;P!==(P=(J[1]?J[1].pointsBalance:"-")+"")&amp;&amp;_t(N,P),J[1]?st?(st.p(J,pt),pt&amp;2&amp;&amp;D(st,1)):(st=vc(J),st.c(),D(st,1),st.m(G,nt)):st&amp;&amp;(re(),K(st,1,1,()=&gt;{st=null}),se()),J[2]?$?($.p(J,pt),pt&amp;4&amp;&amp;D($,1)):($=Ec(J),$.c(),D($,1),$.m(G,dt)):$&amp;&amp;(re(),K($,1,1,()=&gt;{$=null}),se());const pe={};pt&amp;8&amp;&amp;(pe.show=J[3]),rt.$set(pe)},i:function(J){zt||(D(e.$$.fragment,J),D(st),D($),D(rt.$$.fragment,J),zt=!0)},o:function(J){K(e.$$.fragment,J),K(st),K($),K(rt.$$.fragment,J),zt=!1},d:function(J){J&amp;&amp;(z(t),z(Y),z(G)),vt(e),st&amp;&amp;st.d(),$&amp;&amp;$.d(),vt(rt)}};return _("SvelteRegisterBlock",{block:vn,id:Cc.name,type:"component",source:"",ctx:n}),vn}function rr(n,t,e){const r=Number(t)-1;return Number(n)-Number(e)*r}function dw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Info",r,[]);let i,o=null,a=null,c=!0;const l=async()=&gt;{try{o||e(1,o=await Uu(i)),a||e(2,a=await Yo(i))}catch(p){console.error(p),alert("Failed to load cat info: "+p.message)}e(3,c=!1)};xt.data.subscribe(async p=&gt;{p.token&amp;&amp;(e(0,i=p.token),await l())});const u=Date.now()/1e3;function f(p){if(p&lt;u)return'&lt;span style="color: #D93F45;"&gt;Now&lt;/span&gt;';const m=new Date(p*1e3);return`
			&lt;span style="color: ${m.getDate()===new Date(u*1e3).getDate()?"#FFC759":"#000"};" title="${m.toLocaleString()}"&gt;
				${m.toLocaleDateString()}
			&lt;/span&gt;
		`}const h=[];return Object.keys(t).forEach(p=&gt;{!~h.indexOf(p)&amp;&amp;p.slice(0,2)!=="$$"&amp;&amp;p!=="slot"&amp;&amp;hw.warn(`&lt;Info&gt; was created with unknown prop '${p}'`)}),n.$capture_state=()=&gt;({Header:af,context:xt,getCatState:Uu,getFriendsList:Yo,NftIcon:Ys,OwnerAddress:Zs,Loader:$n,LevelProgress:No,LEVEL_TEXT:Me,token:i,catState:o,friendsList:a,loading:c,loadInfo:l,nowEpoch:u,getTaskDueHtml:f,getCurrentLevelProgress:rr}),n.$inject_state=p=&gt;{"token"in p&amp;&amp;e(0,i=p.token),"catState"in p&amp;&amp;e(1,o=p.catState),"friendsList"in p&amp;&amp;e(2,a=p.friendsList),"loading"in p&amp;&amp;e(3,c=p.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a,c,f]}class Mu extends Rt{constructor(t){super(t),Ot(this,t,dw,Cc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Info",options:t,id:Cc.name})}}const pw="src/routes/NotFound.svelte";function Pc(n){let t;const e={c:function(){t=v("h1"),t.textContent="404",A(t,pw,0,0,0)},l:function(s){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(s,i){V(s,t,i)},p:et,i:et,o:et,d:function(s){s&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:e,id:Pc.name,type:"component",source:"",ctx:n}),e}function gw(n,t){let{$$slots:e={},$$scope:r}=t;Tt("NotFound",e,[]);const s=[];return Object.keys(t).forEach(i=&gt;{!~s.indexOf(i)&amp;&amp;i.slice(0,2)!=="$$"&amp;&amp;i!=="slot"&amp;&amp;console.warn(`&lt;NotFound&gt; was created with unknown prop '${i}'`)}),[]}class Hu extends Rt{constructor(t){super(t),Ot(this,t,gw,Pc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"NotFound",options:t,id:Pc.name})}}const Qr="src/routes/Feed.svelte";function xc(n){let t,e,r,s,i,o,a,c,l,u,f,h,p,m;const y={c:function(){t=v("div"),e=v("div"),r=v("img"),i=O(),o=v("img"),l=O(),u=v("h3"),u.textContent="Your cat is starving!",f=O(),h=v("p"),h.textContent="Feed him something tasty to keep him happy!",E(r,"class","gif s-SlJU9hg6bRoH"),E(r,"alt","smart food"),_e(r.src,s="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.gif")||E(r,"src",s),A(r,Qr,48,2,733),E(o,"class","static s-SlJU9hg6bRoH"),E(o,"alt","smart food"),_e(o.src,a="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.png")||E(o,"src",a),A(o,Qr,49,2,860),E(e,"class",c="gif-container "+(n[0]?"play":"")+" s-SlJU9hg6bRoH"),A(e,Qr,47,1,679),A(u,Qr,51,1,997),A(h,Qr,52,1,1029),A(t,Qr,46,0,672)},l:function(N){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(N,I){V(N,t,I),g(t,e),g(e,r),g(e,i),g(e,o),g(t,l),g(t,u),g(t,f),g(t,h),p||(m=Ue(window,"message",n[1],!1,!1,!1,!1),p=!0)},p:function(N,[I]){I&amp;1&amp;&amp;c!==(c="gif-container "+(N[0]?"play":"")+" s-SlJU9hg6bRoH")&amp;&amp;E(e,"class",c)},i:et,o:et,d:function(N){N&amp;&amp;z(t),p=!1,m()}};return _("SvelteRegisterBlock",{block:y,id:xc.name,type:"component",source:"",ctx:n}),y}function mw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Feed",r,[]);let i=!1,o=!1;const a=l=&gt;{var u,f,h;if(((u=l.data)==null?void 0:u.method)==="transactionEvent")switch((h=(f=l.data)==null?void 0:f.params)==null?void 0:h.status){case"started":e(0,i=!0);break;case"error":e(0,i=!1);break}},c=[];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;Feed&gt; was created with unknown prop '${l}'`)}),n.$capture_state=()=&gt;({feeding:i,completed:o,onMessage:a}),n.$inject_state=l=&gt;{"feeding"in l&amp;&amp;e(0,i=l.feeding),"completed"in l&amp;&amp;(o=l.completed)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,a]}class Gu extends Rt{constructor(t){super(t),Ot(this,t,mw,xc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Feed",options:t,id:xc.name})}}const{console:ww}=sa,te="src/routes/Play.svelte";function Qu(n,t,e){const r=n.slice();return r[7]=t[e],r}function Ic(n){let t=n[0].length&gt;0&amp;&amp;!n[0].find(ju),e,r,s,i,o,a=t&amp;&amp;Nc(n);const c=[Yh,Wh],l=[];function u(h,p){return h[0].length?0:1}r=u(n),s=l[r]=c[r](n);const f={c:function(){a&amp;&amp;a.c(),e=O(),s.c(),i=oa()},m:function(p,m){a&amp;&amp;a.m(p,m),V(p,e,m),l[r].m(p,m),V(p,i,m),o=!0},p:function(p,m){m&amp;1&amp;&amp;(t=p[0].length&gt;0&amp;&amp;!p[0].find(ju)),t?a||(a=Nc(p),a.c(),a.m(e.parentNode,e)):a&amp;&amp;(a.d(1),a=null);let y=r;r=u(p),r===y?l[r].p(p,m):(re(),K(l[y],1,1,()=&gt;{l[y]=null}),se(),s=l[r],s?s.p(p,m):(s=l[r]=c[r](p),s.c()),D(s,1),s.m(i.parentNode,i))},i:function(p){o||(D(s),o=!0)},o:function(p){K(s),o=!1},d:function(p){p&amp;&amp;(z(e),z(i)),a&amp;&amp;a.d(p),l[r].d(p)}};return _("SvelteRegisterBlock",{block:f,id:Ic.name,type:"if",source:"(38:1) {#if invites}",ctx:n}),f}function Nc(n){let t;const e={c:function(){t=v("p"),t.textContent="All cats are too tired to play at the moment, check back later.",A(t,te,46,3,1088)},m:function(s,i){V(s,t,i)},d:function(s){s&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:e,id:Nc.name,type:"if",source:"(39:2) {#if invites.length &gt; 0 &amp;&amp; !invites.find((invitee) =&gt; invitee.canPlay === true)}",ctx:n}),e}function Wh(n){let t,e;const r={c:function(){t=v("h5"),t.textContent="You don't have any play requests yet",e=v("p"),e.textContent="Share your microchip ID with other owners or request a playdate using another microchip ID",A(t,te,68,3,1846),E(e,"class","light"),A(e,te,68,48,1891)},m:function(i,o){V(i,t,o),V(i,e,o)},p:et,i:et,o:et,d:function(i){i&amp;&amp;(z(t),z(e))}};return _("SvelteRegisterBlock",{block:r,id:Wh.name,type:"else",source:"(61:2) {:else}",ctx:n}),r}function Yh(n){let t,e,r=Kn(n[0]),s=[];for(let a=0;a&lt;r.length;a+=1)s[a]=Sc(Qu(n,r,a));const i=a=&gt;K(s[a],1,1,()=&gt;{s[a]=null}),o={c:function(){t=v("div");for(let c=0;c&lt;s.length;c+=1)s[c].c();E(t,"class","cat-list"),A(t,te,49,3,1193)},m:function(c,l){V(c,t,l);for(let u=0;u&lt;s.length;u+=1)s[u]&amp;&amp;s[u].m(t,null);e=!0},p:function(c,l){if(l&amp;11){r=Kn(c[0]);let u;for(u=0;u&lt;r.length;u+=1){const f=Qu(c,r,u);s[u]?(s[u].p(f,l),D(s[u],1)):(s[u]=Sc(f),s[u].c(),D(s[u],1),s[u].m(t,null))}for(re(),u=r.length;u&lt;s.length;u+=1)i(u);se()}},i:function(c){if(!e){for(let l=0;l&lt;r.length;l+=1)D(s[l]);e=!0}},o:function(c){s=s.filter(Boolean);for(let l=0;l&lt;s.length;l+=1)K(s[l]);e=!1},d:function(c){c&amp;&amp;z(t),ia(s,c)}};return _("SvelteRegisterBlock",{block:o,id:Yh.name,type:"if",source:"(42:2) {#if invites.length}",ctx:n}),o}function Sc(n){let t,e,r,s,i,o,a,c=n[7].tokenId+"",l,u,f,h=(Me[n[7].level]??n[7].level)+"",p,m,y,P,N,I,S,T,x,R;e=new Ys({props:{tokenUri:n[7].tokenUri},$$inline:!0}),P=new Zs({props:{address:n[7].owner},$$inline:!0});function M(){return n[4](n[7])}const Z={c:function(){t=v("div"),kt(e.$$.fragment),r=O(),s=v("div"),i=v("div"),o=v("h4"),a=ht("#"),l=ht(c),u=O(),f=v("span"),p=ht(h),m=O(),y=v("div"),kt(P.$$.fragment),N=O(),A(o,te,57,7,1608),A(f,te,58,7,1643),E(i,"class","cat-list-title"),A(i,te,56,6,1572),A(y,te,60,6,1720),E(s,"class","cat-list-info"),A(s,te,55,5,1538),E(t,"class",I="cat-list-item "+(n[7].canPlay?"":"cant-play")+" "+(n[1]===n[7].tokenId?"selected":"")),E(t,"title",S=n[7].canPlay?"":"This cat is too tired to play"),A(t,te,51,4,1250)},m:function(G,nt){V(G,t,nt),bt(e,t,null),g(t,r),g(t,s),g(s,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(s,m),g(s,y),bt(P,y,null),g(t,N),T=!0,x||(R=Ue(t,"click",M,!1,!1,!1,!1),x=!0)},p:function(G,nt){n=G;const dt={};nt&amp;1&amp;&amp;(dt.tokenUri=n[7].tokenUri),e.$set(dt),(!T||nt&amp;1)&amp;&amp;c!==(c=n[7].tokenId+"")&amp;&amp;_t(l,c),(!T||nt&amp;1)&amp;&amp;h!==(h=(Me[n[7].level]??n[7].level)+"")&amp;&amp;_t(p,h);const rt={};nt&amp;1&amp;&amp;(rt.address=n[7].owner),P.$set(rt),(!T||nt&amp;3&amp;&amp;I!==(I="cat-list-item "+(n[7].canPlay?"":"cant-play")+" "+(n[1]===n[7].tokenId?"selected":"")))&amp;&amp;E(t,"class",I),(!T||nt&amp;1&amp;&amp;S!==(S=n[7].canPlay?"":"This cat is too tired to play"))&amp;&amp;E(t,"title",S)},i:function(G){T||(D(e.$$.fragment,G),D(P.$$.fragment,G),T=!0)},o:function(G){K(e.$$.fragment,G),K(P.$$.fragment,G),T=!1},d:function(G){G&amp;&amp;z(t),vt(e),vt(P),x=!1,R()}};return _("SvelteRegisterBlock",{block:Z,id:Sc.name,type:"each",source:"(44:3) {#each invites as inviter}",ctx:n}),Z}function Bc(n){let t,e,r,s,i,o,a,c,l,u,f=n[0]&amp;&amp;Ic(n);a=new $n({props:{show:n[2]},$$inline:!0});const h={c:function(){t=v("div"),e=v("h3"),e.textContent="Play invites",r=O(),s=v("p"),s.textContent=`Your cat is prone to boredom!
		Accept play-dates from other cats owners to keep your cat happy.`,i=O(),f&amp;&amp;f.c(),o=O(),kt(a.$$.fragment),c=O(),l=v("input"),A(e,te,39,1,855),A(s,te,40,1,878),E(l,"id","inviter"),E(l,"type","hidden"),l.value=n[1],A(l,te,72,1,2045),A(t,te,38,0,848)},l:function(m){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,y){V(m,t,y),g(t,e),g(t,r),g(t,s),g(t,i),f&amp;&amp;f.m(t,null),g(t,o),bt(a,t,null),g(t,c),g(t,l),u=!0},p:function(m,[y]){m[0]?f?(f.p(m,y),y&amp;1&amp;&amp;D(f,1)):(f=Ic(m),f.c(),D(f,1),f.m(t,o)):f&amp;&amp;(re(),K(f,1,1,()=&gt;{f=null}),se());const P={};y&amp;4&amp;&amp;(P.show=m[2]),a.$set(P),(!u||y&amp;2)&amp;&amp;Ma(l,"value",m[1])},i:function(m){u||(D(f),D(a.$$.fragment,m),u=!0)},o:function(m){K(f),K(a.$$.fragment,m),u=!1},d:function(m){m&amp;&amp;z(t),f&amp;&amp;f.d(),vt(a)}};return _("SvelteRegisterBlock",{block:h,id:Bc.name,type:"component",source:"",ctx:n}),h}const ju=n=&gt;n.canPlay===!0;function yw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Play",r,[]);let i,o=null,a=0,c=!0;async function l(){try{e(0,o=await _u(i))}catch(p){console.error(p),alert("Failed to load invites: "+p.message)}e(2,c=!1)}function u(p){e(1,a=p.tokenId),web3.action.setProps({inviter:a})}xt.data.subscribe(async p=&gt;{p.token&amp;&amp;(i=p.token,await l())});const f=[];Object.keys(t).forEach(p=&gt;{!~f.indexOf(p)&amp;&amp;p.slice(0,2)!=="$$"&amp;&amp;p!=="slot"&amp;&amp;ww.warn(`&lt;Play&gt; was created with unknown prop '${p}'`)});const h=p=&gt;u(p);return n.$capture_state=()=&gt;({context:xt,getInviteList:_u,NftIcon:Ys,OwnerAddress:Zs,Loader:$n,LEVEL_TEXT:Me,token:i,invites:o,selectedInviter:a,loading:c,loadInvites:l,selectInviter:u}),n.$inject_state=p=&gt;{"token"in p&amp;&amp;(i=p.token),"invites"in p&amp;&amp;e(0,o=p.invites),"selectedInviter"in p&amp;&amp;e(1,a=p.selectedInviter),"loading"in p&amp;&amp;e(2,c=p.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,c,u,h]}class Vu extends Rt{constructor(t){super(t),Ot(this,t,yw,Bc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Play",options:t,id:Bc.name})}}const nr="src/routes/Invite.svelte";function Oc(n){let t,e,r,s,i,o,a,c,l,u,f,h,p;const m={c:function(){t=v("div"),e=v("h3"),e.textContent="Play with other cats",r=O(),s=v("p"),s.textContent="Your cat is prone to boredom!",i=O(),o=v("p"),o.textContent=`Send play-dates request to other cats owners to keep your cat happy.
		Note that you cannot send invites to your own cat, or your cats brothers and sisters in the same wallet.`,a=O(),c=v("div"),l=v("input"),u=O(),f=v("label"),f.textContent="Microchip ID",A(e,nr,5,1,36),A(s,nr,6,1,67),A(o,nr,7,1,105),E(l,"type","text"),E(l,"placeholder"," "),E(l,"id","invitee"),E(l,"name","invitee"),l.required=!0,A(l,nr,12,2,321),A(f,nr,13,2,398),E(c,"class","form-field"),A(c,nr,11,1,294),A(t,nr,4,0,29)},l:function(P){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(P,N){V(P,t,N),g(t,e),g(t,r),g(t,s),g(t,i),g(t,o),g(t,a),g(t,c),g(c,l),g(c,u),g(c,f),h||(p=Ue(f,"click",n[0],!1,!1,!1,!1),h=!0)},p:et,i:et,o:et,d:function(P){P&amp;&amp;z(t),h=!1,p()}};return _("SvelteRegisterBlock",{block:m,id:Oc.name,type:"component",source:"",ctx:n}),m}function Aw(n,t){let{$$slots:e={},$$scope:r}=t;Tt("Invite",e,[]);const s=[];return Object.keys(t).forEach(o=&gt;{!~s.indexOf(o)&amp;&amp;o.slice(0,2)!=="$$"&amp;&amp;o!=="slot"&amp;&amp;console.warn(`&lt;Invite&gt; was created with unknown prop '${o}'`)}),[()=&gt;document.getElementById("invitee").focus()]}class zu extends Rt{constructor(t){super(t),Ot(this,t,Aw,Oc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Invite",options:t,id:Oc.name})}}const So="src/routes/Clean.svelte";function Zh(n){let t,e,r;const s={c:function(){t=v("img"),E(t,"alt","overlay"),E(t,"class",e=Oo(n[1]?"fade-out-image":"")+" s-zhAMHCb88KdG"),j(t,"position","absolute"),j(t,"top","0"),j(t,"left","0"),j(t,"width","100%"),j(t,"height","400px"),_e(t.src,r="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/dirty-overlay.png")||E(t,"src",r),A(t,So,52,2,902)},m:function(o,a){V(o,t,a)},p:function(o,a){a&amp;2&amp;&amp;e!==(e=Oo(o[1]?"fade-out-image":"")+" s-zhAMHCb88KdG")&amp;&amp;E(t,"class",e)},d:function(o){o&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:s,id:Zh.name,type:"slot",source:"(47:1) &lt;CatImage imageUrl={token.image_preview_url}&gt;",ctx:n}),s}function Tc(n){let t,e,r,s,i,o,a,c,l;e=new Zn({props:{imageUrl:n[0].image_preview_url,$$slots:{default:[Zh]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){t=v("div"),kt(e.$$.fragment),r=O(),s=v("h3"),s.textContent="Your cat is dirty!!!",i=O(),o=v("p"),o.textContent="Your cat is usually good at cleaning himself, but today he chose to roll around in the mud :-/",A(s,So,54,1,1146),A(o,So,55,1,1177),j(t,"text-align","center"),j(t,"padding","0 25px"),A(t,So,50,0,802)},l:function(h){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(h,p){V(h,t,p),bt(e,t,null),g(t,r),g(t,s),g(t,i),g(t,o),a=!0,c||(l=Ue(window,"message",n[2],!1,!1,!1,!1),c=!0)},p:function(h,[p]){const m={};p&amp;1&amp;&amp;(m.imageUrl=h[0].image_preview_url),p&amp;18&amp;&amp;(m.$$scope={dirty:p,ctx:h}),e.$set(m)},i:function(h){a||(D(e.$$.fragment,h),a=!0)},o:function(h){K(e.$$.fragment,h),a=!1},d:function(h){h&amp;&amp;z(t),vt(e),c=!1,l()}};return _("SvelteRegisterBlock",{block:u,id:Tc.name,type:"component",source:"",ctx:n}),u}function bw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Clean",r,[]);let i,o=!1,a=!1;xt.data.subscribe(u=&gt;{e(0,i=u.token)});const c=u=&gt;{var f,h,p;if(((f=u.data)==null?void 0:f.method)==="transactionEvent")switch((p=(h=u.data)==null?void 0:h.params)==null?void 0:p.status){case"started":e(1,o=!0);break;case"error":e(1,o=!1);break;case"completed":e(1,o=!1);break}},l=[];return Object.keys(t).forEach(u=&gt;{!~l.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;console.warn(`&lt;Clean&gt; was created with unknown prop '${u}'`)}),n.$capture_state=()=&gt;({context:xt,CatImage:Zn,token:i,cleaning:o,completed:a,onMessage:c}),n.$inject_state=u=&gt;{"token"in u&amp;&amp;e(0,i=u.token),"cleaning"in u&amp;&amp;e(1,o=u.cleaning),"completed"in u&amp;&amp;(a=u.completed)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,c]}class Ju extends Rt{constructor(t){super(t),Ot(this,t,bw,Tc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Clean",options:t,id:Tc.name})}}const Ie="src/routes/LevelUp.svelte";function Xh(n){let t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P=(Me[n[0].level]??n[0].level)+"",N;const I={c:function(){t=v("div"),e=v("img"),s=O(),i=v("img"),a=O(),c=v("img"),u=O(),f=v("div"),h=v("div"),p=v("label"),p.textContent="Smart level",m=O(),y=v("span"),N=ht(P),E(e,"class","level-image s-ZYX9umY93TZ_"),E(e,"alt","leveling up"),_e(e.src,r=Bo)||E(e,"src",r),A(e,Ie,104,3,1985),E(i,"class","level-image level-image2 s-ZYX9umY93TZ_"),E(i,"alt","leveling up"),_e(i.src,o=Bo)||E(i,"src",o),A(i,Ie,105,3,2051),E(c,"class","level-image level-image3 s-ZYX9umY93TZ_"),E(c,"alt","leveling up"),_e(c.src,l=Bo)||E(c,"src",l),A(c,Ie,106,3,2130),E(t,"class","meme-wrapper s-ZYX9umY93TZ_"),j(t,"display",n[1]?"block":"none"),A(t,Ie,103,2,1907),A(p,Ie,110,4,2298),A(y,Ie,111,4,2329),E(h,"class","smart-level-box score-box s-ZYX9umY93TZ_"),A(h,Ie,109,3,2254),E(f,"class","smart-level-wrapper s-ZYX9umY93TZ_"),A(f,Ie,108,2,2217)},m:function(T,x){V(T,t,x),g(t,e),g(t,s),g(t,i),g(t,a),g(t,c),V(T,u,x),V(T,f,x),g(f,h),g(h,p),g(h,m),g(h,y),g(y,N)},p:function(T,x){x&amp;2&amp;&amp;j(t,"display",T[1]?"block":"none"),x&amp;1&amp;&amp;P!==(P=(Me[T[0].level]??T[0].level)+"")&amp;&amp;_t(N,P)},d:function(T){T&amp;&amp;(z(t),z(u),z(f))}};return _("SvelteRegisterBlock",{block:I,id:Xh.name,type:"slot",source:"(97:1) &lt;CatImage imageUrl={token.image_preview_url}&gt;",ctx:n}),I}function Rc(n){let t,e,r,s,i,o,a,c,l;o=new Zn({props:{imageUrl:n[0].image_preview_url,$$slots:{default:[Xh]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){t=v("div"),e=v("h3"),e.textContent="Getting smarter!",r=O(),s=v("p"),s.textContent="You've been taking good care of your cat, he's learning more skillz!",i=O(),kt(o.$$.fragment),A(e,Ie,100,1,1755),A(s,Ie,101,1,1782),A(t,Ie,99,0,1748)},l:function(h){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(h,p){V(h,t,p),g(t,e),g(t,r),g(t,s),g(t,i),bt(o,t,null),a=!0,c||(l=Ue(window,"message",n[2],!1,!1,!1,!1),c=!0)},p:function(h,[p]){const m={};p&amp;1&amp;&amp;(m.imageUrl=h[0].image_preview_url),p&amp;11&amp;&amp;(m.$$scope={dirty:p,ctx:h}),o.$set(m)},i:function(h){a||(D(o.$$.fragment,h),a=!0)},o:function(h){K(o.$$.fragment,h),a=!1},d:function(h){h&amp;&amp;z(t),vt(o),c=!1,l()}};return _("SvelteRegisterBlock",{block:u,id:Rc.name,type:"component",source:"",ctx:n}),u}const Bo="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Maths.png";function vw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("LevelUp",r,[]);let i;xt.data.subscribe(l=&gt;{e(0,i=l.token)});let o=!1;const a=l=&gt;{var u,f,h;if(((u=l.data)==null?void 0:u.method)==="transactionEvent")switch((h=(f=l.data)==null?void 0:f.params)==null?void 0:h.status){case"started":e(1,o=!0);break;case"error":e(1,o=!1);break;case"completed":e(1,o=!1);break}},c=[];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;LevelUp&gt; was created with unknown prop '${l}'`)}),n.$capture_state=()=&gt;({context:xt,CatImage:Zn,LEVEL_TEXT:Me,MathsImage:Bo,token:i,leveling:o,onMessage:a}),n.$inject_state=l=&gt;{"token"in l&amp;&amp;e(0,i=l.token),"leveling"in l&amp;&amp;e(1,o=l.leveling)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a]}class Ku extends Rt{constructor(t){super(t),Ot(this,t,vw,Rc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"LevelUp",options:t,id:Rc.name})}}const Ua="src/components/MessageBubble.svelte";function Lc(n){let t,e,r=n[0].message+"",s,i,o,a=n[0].sendingTokenId==n[1]&amp;&amp;n[0].read?"âœ“ (seen) ":"",c,l,u,f;const h={c:function(){t=v("div"),e=v("div"),s=ht(r),i=O(),o=v("small"),c=ht(a),l=O(),u=ht(n[2]),E(e,"class","message-content s-Rq_cryvNbnUI"),A(e,Ua,50,1,894),E(o,"class","message-meta s-Rq_cryvNbnUI"),A(o,Ua,53,1,953),E(t,"class",f="message-bubble "+(n[0].sendingTokenId==n[1]?"sender":"")+" s-Rq_cryvNbnUI"),A(t,Ua,49,0,806)},l:function(m){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,y){V(m,t,y),g(t,e),g(e,s),g(t,i),g(t,o),g(o,c),g(o,l),g(o,u)},p:function(m,[y]){y&amp;1&amp;&amp;r!==(r=m[0].message+"")&amp;&amp;_t(s,r),y&amp;3&amp;&amp;a!==(a=m[0].sendingTokenId==m[1]&amp;&amp;m[0].read?"âœ“ (seen) ":"")&amp;&amp;_t(c,a),y&amp;4&amp;&amp;_t(u,m[2]),y&amp;3&amp;&amp;f!==(f="message-bubble "+(m[0].sendingTokenId==m[1]?"sender":"")+" s-Rq_cryvNbnUI")&amp;&amp;E(t,"class",f)},i:et,o:et,d:function(m){m&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:h,id:Lc.name,type:"component",source:"",ctx:n}),h}function Ew(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("MessageBubble",r,[]);let{message:i}=t,{senderTokenId:o}=t,a;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("message"in t||n.$$.bound[n.$$.props.message])&amp;&amp;console.warn("&lt;MessageBubble&gt; was created without expected prop 'message'"),o===void 0&amp;&amp;!("senderTokenId"in t||n.$$.bound[n.$$.props.senderTokenId])&amp;&amp;console.warn("&lt;MessageBubble&gt; was created without expected prop 'senderTokenId'")});const c=["message","senderTokenId"];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;MessageBubble&gt; was created with unknown prop '${l}'`)}),n.$$set=l=&gt;{"message"in l&amp;&amp;e(0,i=l.message),"senderTokenId"in l&amp;&amp;e(1,o=l.senderTokenId)},n.$capture_state=()=&gt;({message:i,senderTokenId:o,dateString:a}),n.$inject_state=l=&gt;{"message"in l&amp;&amp;e(0,i=l.message),"senderTokenId"in l&amp;&amp;e(1,o=l.senderTokenId),"dateString"in l&amp;&amp;e(2,a=l.dateString)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),n.$$.update=()=&gt;{if(n.$$.dirty&amp;1){const l=new Date,u=new Date(i.createdAt);u.setTime(u.getTime()+l.getTimezoneOffset()*6e4),u.getDate()&lt;l.getDate()?e(2,a=u.toLocaleString()):e(2,a=u.toLocaleTimeString())}},[i,o,a]}class qh extends Rt{constructor(t){super(t),Ot(this,t,Ew,Lc,Nt,{message:0,senderTokenId:1}),_("SvelteRegisterComponent",{component:this,tagName:"MessageBubble",options:t,id:Lc.name})}get message(){throw new Error("&lt;MessageBubble&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set message(t){throw new Error("&lt;MessageBubble&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get senderTokenId(){throw new Error("&lt;MessageBubble&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set senderTokenId(t){throw new Error("&lt;MessageBubble&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const{console:mo}=sa,St="src/components/MessagePopup.svelte";function Wu(n,t,e){const r=n.slice();return r[15]=t[e],r}function _c(n){let t,e,r=Kn(n[2]),s=[];for(let a=0;a&lt;r.length;a+=1)s[a]=Uc(Wu(n,r,a));const i=a=&gt;K(s[a],1,1,()=&gt;{s[a]=null}),o={c:function(){for(let c=0;c&lt;s.length;c+=1)s[c].c();t=oa()},m:function(c,l){for(let u=0;u&lt;s.length;u+=1)s[u]&amp;&amp;s[u].m(c,l);V(c,t,l),e=!0},p:function(c,l){if(l&amp;6){r=Kn(c[2]);let u;for(u=0;u&lt;r.length;u+=1){const f=Wu(c,r,u);s[u]?(s[u].p(f,l),D(s[u],1)):(s[u]=Uc(f),s[u].c(),D(s[u],1),s[u].m(t.parentNode,t))}for(re(),u=r.length;u&lt;s.length;u+=1)i(u);se()}},i:function(c){if(!e){for(let l=0;l&lt;r.length;l+=1)D(s[l]);e=!0}},o:function(c){s=s.filter(Boolean);for(let l=0;l&lt;s.length;l+=1)K(s[l]);e=!1},d:function(c){c&amp;&amp;z(t),ia(s,c)}};return _("SvelteRegisterBlock",{block:o,id:_c.name,type:"if",source:"(153:2) {#if messages}",ctx:n}),o}function Uc(n){let t,e;t=new qh({props:{message:n[15],senderTokenId:n[1].tokenId},$$inline:!0});const r={c:function(){kt(t.$$.fragment)},m:function(i,o){bt(t,i,o),e=!0},p:function(i,o){const a={};o&amp;4&amp;&amp;(a.message=i[15]),o&amp;2&amp;&amp;(a.senderTokenId=i[1].tokenId),t.$set(a)},i:function(i){e||(D(t.$$.fragment,i),e=!0)},o:function(i){K(t.$$.fragment,i),e=!1},d:function(i){vt(t,i)}};return _("SvelteRegisterBlock",{block:r,id:Uc.name,type:"each",source:"(154:2) {#each messages as message}",ctx:n}),r}function Fc(n){let t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P,N,I,S,T,x,R,M,Z,Y,G,nt,dt,rt,zt,st,$=n[2]&amp;&amp;_c(n);h=new $n({props:{show:n[4]},$$inline:!0});const vn={c:function(){t=v("div"),e=v("div"),r=v("div"),r.textContent="&lt;",s=O(),i=v("div"),o=ht("Chat with cat #"),a=ht(n[0]),c=O(),l=v("div"),$&amp;&amp;$.c(),u=O(),f=v("div"),kt(h.$$.fragment),p=O(),m=v("div"),y=v("textarea"),P=O(),N=v("button"),I=Ge("svg"),S=Ge("g"),T=Ge("path"),x=Ge("path"),R=Ge("defs"),M=Ge("linearGradient"),Z=Ge("stop"),Y=Ge("stop"),G=Ge("clipPath"),nt=Ge("rect"),E(r,"id","message-close"),E(r,"class","s-9EDnMOFEbv0B"),A(r,St,169,2,3307),E(i,"id","message-title"),E(i,"class","s-9EDnMOFEbv0B"),A(i,St,170,2,3379),E(e,"id","message-header"),E(e,"class","s-9EDnMOFEbv0B"),A(e,St,168,1,3279),E(f,"class","loader-modal"),j(f,"display",n[4]?"block":"none"),A(f,St,180,2,3614),E(l,"id","message-history"),E(l,"class","s-9EDnMOFEbv0B"),A(l,St,174,1,3451),E(y,"class","message-input s-9EDnMOFEbv0B"),E(y,"placeholder","Message..."),y.disabled=n[4],A(y,St,185,2,3759),E(T,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),E(T,"fill","url(#paint0_linear_1078_955)"),A(T,St,189,5,4121),E(x,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),E(x,"fill","white"),E(x,"fill-opacity","0.8"),A(x,St,190,5,4288),E(S,"clip-path","url(#clip0_1078_955)"),A(S,St,188,4,4079),E(Z,"stop-color","#001AFF"),A(Z,St,194,6,4604),E(Y,"offset","1"),E(Y,"stop-color","#4F95FF"),A(Y,St,195,6,4639),E(M,"id","paint0_linear_1078_955"),E(M,"x1","12.0883"),E(M,"y1","10.7548"),E(M,"x2","20.3005"),E(M,"y2","17.941"),E(M,"gradientUnits","userSpaceOnUse"),A(M,St,193,5,4471),E(nt,"width","24"),E(nt,"height","24"),E(nt,"fill","white"),E(nt,"transform","translate(0.5 0.5)"),A(nt,St,198,6,4744),E(G,"id","clip0_1078_955"),A(G,St,197,5,4707),A(R,St,192,4,4459),E(I,"width","25"),E(I,"height","25"),E(I,"viewBox","0 0 25 25"),E(I,"fill","none"),E(I,"xmlns","http://www.w3.org/2000/svg"),A(I,St,187,3,3979),E(N,"type","button"),N.disabled=dt=n[4]||!n[3].length,E(N,"class","s-9EDnMOFEbv0B"),A(N,St,186,2,3877),E(m,"id","send-message"),E(m,"class","s-9EDnMOFEbv0B"),A(m,St,184,1,3733),E(t,"id","message-popup"),E(t,"class","s-9EDnMOFEbv0B"),A(t,St,167,0,3253)},l:function(J){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(J,pt){V(J,t,pt),g(t,e),g(e,r),g(e,s),g(e,i),g(i,o),g(i,a),g(t,c),g(t,l),$&amp;&amp;$.m(l,null),g(l,u),g(l,f),bt(h,f,null),g(t,p),g(t,m),g(m,y),hl(y,n[3]),g(m,P),g(m,N),g(N,I),g(I,S),g(S,T),g(S,x),g(I,R),g(R,M),g(M,Z),g(M,Y),g(R,G),g(G,nt),rt=!0,zt||(st=[Ue(r,"click",n[9],!1,!1,!1,!1),Ue(y,"input",n[10]),Ue(N,"click",n[11],!1,!1,!1,!1)],zt=!0)},p:function(J,[pt]){(!rt||pt&amp;1)&amp;&amp;_t(a,J[0]),J[2]?$?($.p(J,pt),pt&amp;4&amp;&amp;D($,1)):($=_c(J),$.c(),D($,1),$.m(l,u)):$&amp;&amp;(re(),K($,1,1,()=&gt;{$=null}),se());const pe={};pt&amp;16&amp;&amp;(pe.show=J[4]),h.$set(pe),(!rt||pt&amp;16)&amp;&amp;j(f,"display",J[4]?"block":"none"),(!rt||pt&amp;16)&amp;&amp;Ma(y,"disabled",J[4]),pt&amp;8&amp;&amp;hl(y,J[3]),(!rt||pt&amp;24&amp;&amp;dt!==(dt=J[4]||!J[3].length))&amp;&amp;Ma(N,"disabled",dt)},i:function(J){rt||(D($),D(h.$$.fragment,J),rt=!0)},o:function(J){K($),K(h.$$.fragment,J),rt=!1},d:function(J){J&amp;&amp;z(t),$&amp;&amp;$.d(),vt(h),zt=!1,Ks(st)}};return _("SvelteRegisterBlock",{block:vn,id:Fc.name,type:"component",source:"",ctx:n}),vn}function wo(n=!1){setTimeout(()=&gt;{let t=document.getElementById("message-history");n?t.scroll({top:t.scrollHeight,behavior:"smooth"}):t.scrollTop=t.scrollHeight},200)}function kw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("MessagePopup",r,[]);let{closed:i}=t,{friendId:o}=t,{threadsList:a}=t,c,l,u=null,f="",h,p=!0;async function m(){e(4,p=!0);try{const x=await c.sendMessage(f,o);e(2,u=[...u,x]);const R=a.find(M=&gt;M.tokenId==o);R.messages=u,e(3,f=""),wo(!0),console.log("Message sent: ",x)}catch(x){console.error(x),alert("Message send failed: "+x.message)}e(4,p=!1)}async function y(x=!1){const R=a.find(M=&gt;M.tokenId==o);if(R.messages&amp;&amp;!x){e(2,u=R.messages),wo();return}R.messages=await c.getMessageHistory(o),R.unread=0,e(2,u=R.messages),wo(x)}xt.data.subscribe(async x=&gt;{if(x.token){e(1,l=x.token),c=await xt.getMessageClient();try{await y()}catch(R){console.error(R),alert("Message load failed: "+R.message)}e(4,p=!1),h=setInterval(()=&gt;y(!0),1e4)}});function P(){h&amp;&amp;clearInterval(h),i()}n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("closed"in t||n.$$.bound[n.$$.props.closed])&amp;&amp;mo.warn("&lt;MessagePopup&gt; was created without expected prop 'closed'"),o===void 0&amp;&amp;!("friendId"in t||n.$$.bound[n.$$.props.friendId])&amp;&amp;mo.warn("&lt;MessagePopup&gt; was created without expected prop 'friendId'"),a===void 0&amp;&amp;!("threadsList"in t||n.$$.bound[n.$$.props.threadsList])&amp;&amp;mo.warn("&lt;MessagePopup&gt; was created without expected prop 'threadsList'")});const N=["closed","friendId","threadsList"];Object.keys(t).forEach(x=&gt;{!~N.indexOf(x)&amp;&amp;x.slice(0,2)!=="$$"&amp;&amp;x!=="slot"&amp;&amp;mo.warn(`&lt;MessagePopup&gt; was created with unknown prop '${x}'`)});const I=()=&gt;P();function S(){f=this.value,e(3,f)}const T=()=&gt;m();return n.$$set=x=&gt;{"closed"in x&amp;&amp;e(7,i=x.closed),"friendId"in x&amp;&amp;e(0,o=x.friendId),"threadsList"in x&amp;&amp;e(8,a=x.threadsList)},n.$capture_state=()=&gt;({context:xt,MessageBubble:qh,Loader:$n,closed:i,friendId:o,threadsList:a,client:c,token:l,messages:u,newMessageText:f,reloadTimer:h,loading:p,sendMessage:m,loadMessages:y,scrollToBottom:wo,cleanupAndClose:P}),n.$inject_state=x=&gt;{"closed"in x&amp;&amp;e(7,i=x.closed),"friendId"in x&amp;&amp;e(0,o=x.friendId),"threadsList"in x&amp;&amp;e(8,a=x.threadsList),"client"in x&amp;&amp;(c=x.client),"token"in x&amp;&amp;e(1,l=x.token),"messages"in x&amp;&amp;e(2,u=x.messages),"newMessageText"in x&amp;&amp;e(3,f=x.newMessageText),"reloadTimer"in x&amp;&amp;(h=x.reloadTimer),"loading"in x&amp;&amp;e(4,p=x.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,l,u,f,p,m,P,i,a,I,S,T]}class $h extends Rt{constructor(t){super(t),Ot(this,t,kw,Fc,Nt,{closed:7,friendId:0,threadsList:8}),_("SvelteRegisterComponent",{component:this,tagName:"MessagePopup",options:t,id:Fc.name})}get closed(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set closed(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get friendId(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set friendId(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get threadsList(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set threadsList(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const{console:Cw}=sa,Qt="src/routes/Messages.svelte";function Yu(n,t,e){const r=n.slice();return r[8]=t[e],r[9]=t,r[10]=e,r}function Dc(n){let t,e,r,s;const i=[ed,td],o=[];function a(l,u){return l[0].length?0:1}t=a(n),e=o[t]=i[t](n);const c={c:function(){e.c(),r=oa()},m:function(u,f){o[t].m(u,f),V(u,r,f),s=!0},p:function(u,f){let h=t;t=a(u),t===h?o[t].p(u,f):(re(),K(o[h],1,1,()=&gt;{o[h]=null}),se(),e=o[t],e?e.p(u,f):(e=o[t]=i[t](u),e.c()),D(e,1),e.m(r.parentNode,r))},i:function(u){s||(D(e),s=!0)},o:function(u){K(e),s=!1},d:function(u){u&amp;&amp;z(r),o[t].d(u)}};return _("SvelteRegisterBlock",{block:c,id:Dc.name,type:"if",source:"(69:1) {#if threadsList}",ctx:n}),c}function td(n){let t,e;const r={c:function(){t=v("h5"),t.textContent="You don't have any friends yet :-(",e=v("p"),e.textContent="Once you complete play dates, new friends will appear here.",A(t,Qt,107,3,2506),E(e,"class","light"),A(e,Qt,107,46,2549)},m:function(i,o){V(i,t,o),V(i,e,o)},p:et,i:et,o:et,d:function(i){i&amp;&amp;(z(t),z(e))}};return _("SvelteRegisterBlock",{block:r,id:td.name,type:"else",source:"(90:2) {:else}",ctx:n}),r}function ed(n){let t,e,r=Kn(n[0]),s=[];for(let a=0;a&lt;r.length;a+=1)s[a]=Mc(Yu(n,r,a));const i=a=&gt;K(s[a],1,1,()=&gt;{s[a]=null}),o={c:function(){t=v("div");for(let c=0;c&lt;s.length;c+=1)s[c].c();E(t,"class","cat-list"),A(t,Qt,87,3,1931)},m:function(c,l){V(c,t,l);for(let u=0;u&lt;s.length;u+=1)s[u]&amp;&amp;s[u].m(t,null);e=!0},p:function(c,l){if(l&amp;3){r=Kn(c[0]);let u;for(u=0;u&lt;r.length;u+=1){const f=Yu(c,r,u);s[u]?(s[u].p(f,l),D(s[u],1)):(s[u]=Mc(f),s[u].c(),D(s[u],1),s[u].m(t,null))}for(re(),u=r.length;u&lt;s.length;u+=1)i(u);se()}},i:function(c){if(!e){for(let l=0;l&lt;r.length;l+=1)D(s[l]);e=!0}},o:function(c){s=s.filter(Boolean);for(let l=0;l&lt;s.length;l+=1)K(s[l]);e=!1},d:function(c){c&amp;&amp;z(t),ia(s,c)}};return _("SvelteRegisterBlock",{block:o,id:ed.name,type:"if",source:"(70:2) {#if threadsList.length}",ctx:n}),o}function Mc(n){let t,e,r,s,i,o,a,c=n[8].tokenId+"",l,u,f,h=n[8].unread+"",p,m,y,P,N,I,S,T,x,R;e=new Ys({props:{tokenUri:n[8].tokenUri},$$inline:!0}),I=new Zs({props:{address:n[8].owner},$$inline:!0});function M(){return n[3](n[8],n[9],n[10])}const Z={c:function(){t=v("div"),kt(e.$$.fragment),r=O(),s=v("div"),i=v("div"),o=v("h4"),a=ht("#"),l=ht(c),u=O(),f=v("span"),p=ht(h),m=ht(" Unread"),P=O(),N=v("div"),kt(I.$$.fragment),S=O(),A(o,Qt,96,7,2226),E(f,"class",y=Oo("unread-count"+(n[8].unread&gt;0?" has-unread":""))+" s-t-aAqwnpGxxz"),A(f,Qt,97,7,2260),E(i,"class","cat-list-title"),A(i,Qt,95,6,2190),A(N,Qt,99,6,2381),E(s,"class","cat-list-info"),A(s,Qt,94,5,2156),E(t,"class","cat-list-item"),A(t,Qt,89,4,1991)},m:function(G,nt){V(G,t,nt),bt(e,t,null),g(t,r),g(t,s),g(s,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(f,m),g(s,P),g(s,N),bt(I,N,null),g(t,S),T=!0,x||(R=Ue(t,"click",M,!1,!1,!1,!1),x=!0)},p:function(G,nt){n=G;const dt={};nt&amp;1&amp;&amp;(dt.tokenUri=n[8].tokenUri),e.$set(dt),(!T||nt&amp;1)&amp;&amp;c!==(c=n[8].tokenId+"")&amp;&amp;_t(l,c),(!T||nt&amp;1)&amp;&amp;h!==(h=n[8].unread+"")&amp;&amp;_t(p,h),(!T||nt&amp;1&amp;&amp;y!==(y=Oo("unread-count"+(n[8].unread&gt;0?" has-unread":""))+" s-t-aAqwnpGxxz"))&amp;&amp;E(f,"class",y);const rt={};nt&amp;1&amp;&amp;(rt.address=n[8].owner),I.$set(rt)},i:function(G){T||(D(e.$$.fragment,G),D(I.$$.fragment,G),T=!0)},o:function(G){K(e.$$.fragment,G),K(I.$$.fragment,G),T=!1},d:function(G){G&amp;&amp;z(t),vt(e),vt(I),x=!1,R()}};return _("SvelteRegisterBlock",{block:Z,id:Mc.name,type:"each",source:"(72:3) {#each threadsList as friend}",ctx:n}),Z}function Hc(n){let t,e;t=new $h({props:{threadsList:n[0],friendId:n[1],closed:n[4]},$$inline:!0});const r={c:function(){kt(t.$$.fragment)},m:function(i,o){bt(t,i,o),e=!0},p:function(i,o){const a={};o&amp;1&amp;&amp;(a.threadsList=i[0]),o&amp;2&amp;&amp;(a.friendId=i[1]),o&amp;2&amp;&amp;(a.closed=i[4]),t.$set(a)},i:function(i){e||(D(t.$$.fragment,i),e=!0)},o:function(i){K(t.$$.fragment,i),e=!1},d:function(i){vt(t,i)}};return _("SvelteRegisterBlock",{block:r,id:Hc.name,type:"if",source:"(95:1) {#if selectedFriendId}",ctx:n}),r}function Gc(n){let t,e,r,s,i,o,a,c,l,u,f,h,p,m,y,P,N,I=n[0]&amp;&amp;Dc(n);y=new $n({props:{show:n[2]},$$inline:!0});let S=n[1]&amp;&amp;Hc(n);const T={c:function(){t=v("h3"),t.textContent="Messages",e=O(),r=v("p"),r.textContent="Send messages to other cat owners.",s=O(),i=v("div"),o=ht(`The chat is not moderated so please:
	`),a=v("ul"),c=v("li"),c.textContent="Do not visit any links sent by people in chat",l=O(),u=v("li"),u.textContent="Be respectful &amp; mindful of inappropriate language",f=ht(`
	Offenders may have their cat confiscated by SmartCat protective services.`),h=O(),p=v("div"),I&amp;&amp;I.c(),m=O(),kt(y.$$.fragment),P=O(),S&amp;&amp;S.c(),A(t,Qt,74,0,1419),A(r,Qt,75,0,1437),A(c,Qt,79,2,1654),A(u,Qt,80,2,1711),A(a,Qt,78,1,1647),j(i,"text-align","left"),j(i,"border-radius","5px"),j(i,"border","2px solid red"),j(i,"padding","5px"),j(i,"margin","0 10px 20px 0"),j(i,"font-size","12px"),A(i,Qt,76,0,1479),E(p,"id","thread-list"),A(p,Qt,84,0,1859)},l:function(R){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(R,M){V(R,t,M),V(R,e,M),V(R,r,M),V(R,s,M),V(R,i,M),g(i,o),g(i,a),g(a,c),g(a,l),g(a,u),g(i,f),V(R,h,M),V(R,p,M),I&amp;&amp;I.m(p,null),g(p,m),bt(y,p,null),g(p,P),S&amp;&amp;S.m(p,null),N=!0},p:function(R,[M]){R[0]?I?(I.p(R,M),M&amp;1&amp;&amp;D(I,1)):(I=Dc(R),I.c(),D(I,1),I.m(p,m)):I&amp;&amp;(re(),K(I,1,1,()=&gt;{I=null}),se());const Z={};M&amp;4&amp;&amp;(Z.show=R[2]),y.$set(Z),R[1]?S?(S.p(R,M),M&amp;2&amp;&amp;D(S,1)):(S=Hc(R),S.c(),D(S,1),S.m(p,null)):S&amp;&amp;(re(),K(S,1,1,()=&gt;{S=null}),se())},i:function(R){N||(D(I),D(y.$$.fragment,R),D(S),N=!0)},o:function(R){K(I),K(y.$$.fragment,R),K(S),N=!1},d:function(R){R&amp;&amp;(z(t),z(e),z(r),z(s),z(i),z(h),z(p)),I&amp;&amp;I.d(),vt(y),S&amp;&amp;S.d()}};return _("SvelteRegisterBlock",{block:T,id:Gc.name,type:"component",source:"",ctx:n}),T}function Pw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("Messages",r,[]);let i,o=null,a=null,c=!0,l;const u=async()=&gt;{var N;const m=await(await xt.getMessageClient()).getNewMessages(),y=await Yo(i),P=[];for(const I of y)P.push({...I,unread:((N=m.senders[I.tokenId])==null?void 0:N.unread)??0});e(0,o=P.sort((I,S)=&gt;I.unread&lt;S.unread?1:-1))};xt.data.subscribe(async m=&gt;{if(m.token){i=m.token;try{await u()}catch(y){console.error(y),alert("Message load failed: "+y.message)}e(2,c=!1),l=setInterval(()=&gt;u(),6e4)}});const f=[];Object.keys(t).forEach(m=&gt;{!~f.indexOf(m)&amp;&amp;m.slice(0,2)!=="$$"&amp;&amp;m!=="slot"&amp;&amp;Cw.warn(`&lt;Messages&gt; was created with unknown prop '${m}'`)});const h=(m,y,P)=&gt;{e(1,a=m.tokenId),e(0,y[P].unread=0,o)},p=()=&gt;e(1,a=null);return n.$capture_state=()=&gt;({context:xt,getFriendsList:Yo,NftIcon:Ys,OwnerAddress:Zs,MessagePopup:$h,Loader:$n,token:i,threadsList:o,selectedFriendId:a,loading:c,reloadTimer:l,loadThreads:u}),n.$inject_state=m=&gt;{"token"in m&amp;&amp;(i=m.token),"threadsList"in m&amp;&amp;e(0,o=m.threadsList),"selectedFriendId"in m&amp;&amp;e(1,a=m.selectedFriendId),"loading"in m&amp;&amp;e(2,c=m.loading),"reloadTimer"in m&amp;&amp;(l=m.reloadTimer)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,c,h,p]}class Zu extends Rt{constructor(t){super(t),Ot(this,t,Pw,Gc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Messages",options:t,id:Gc.name})}}const xn="src/routes/Partners.svelte";function Qc(n){let t,e,r,s,i,o,a,c,l,u,f,h;const p={c:function(){t=v("div"),e=v("h3"),e.textContent="Our Partners",r=O(),s=v("p"),s.textContent="Earn additional SmartLayer points by completing quests only available through your SmartCat",i=O(),o=v("div"),a=v("h4"),a.textContent="Aithir",c=O(),l=v("p"),l.textContent="Follow Aethir on Twitter to get 100 points",u=O(),f=v("div"),h=v("a"),h.textContent="Complete Quest",A(e,xn,10,1,115),A(s,xn,11,1,138),A(a,xn,13,2,267),A(l,xn,14,2,285),E(h,"href","https://smart-layer.vercel.app/pass?enableTwitterRaid=true"),E(h,"target","_blank"),A(h,xn,16,3,428),E(f,"class","link-button"),j(f,"position","relative"),j(f,"margin","0 auto"),j(f,"max-width","200px"),A(f,xn,15,2,337),E(o,"class","partner-link s-6qPDKcEBUYaG"),A(o,xn,12,1,238),A(t,xn,9,0,108)},l:function(y){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(y,P){V(y,t,P),g(t,e),g(t,r),g(t,s),g(t,i),g(t,o),g(o,a),g(o,c),g(o,l),g(o,u),g(o,f),g(f,h)},p:et,i:et,o:et,d:function(y){y&amp;&amp;z(t)}};return _("SvelteRegisterBlock",{block:p,id:Qc.name,type:"component",source:"",ctx:n}),p}function xw(n,t){let{$$slots:e={},$$scope:r}=t;Tt("Partners",e,[]);const s=[];return Object.keys(t).forEach(i=&gt;{!~s.indexOf(i)&amp;&amp;i.slice(0,2)!=="$$"&amp;&amp;i!=="slot"&amp;&amp;console.warn(`&lt;Partners&gt; was created with unknown prop '${i}'`)}),[]}class Xu extends Rt{constructor(t){super(t),Ot(this,t,xw,Qc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"Partners",options:t,id:Qc.name})}}const qu="src/App.svelte";function jc(n){let t,e,r,s,i,o;var a=n[0];function c(u,f){return{$$inline:!0}}a&amp;&amp;(r=gl(a,c()));const l={c:function(){t=v("div"),e=v("div"),r&amp;&amp;kt(r.$$.fragment),E(e,"id","token-container"),A(e,qu,58,1,1223),A(t,qu,57,0,1216)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,h){V(f,t,h),g(t,e),r&amp;&amp;bt(r,e,null),s=!0,i||(o=Ue(window,"hashchange",n[1],!1,!1,!1,!1),i=!0)},p:function(f,[h]){if(h&amp;1&amp;&amp;a!==(a=f[0])){if(r){re();const p=r;K(p.$$.fragment,1,0,()=&gt;{vt(p,1)}),se()}a?(r=gl(a,c()),kt(r.$$.fragment),D(r.$$.fragment,1),bt(r,e,null)):r=null}},i:function(f){s||(r&amp;&amp;D(r.$$.fragment,f),s=!0)},o:function(f){r&amp;&amp;K(r.$$.fragment,f),s=!1},d:function(f){f&amp;&amp;z(t),r&amp;&amp;vt(r),i=!1,o()}};return _("SvelteRegisterBlock",{block:l,id:jc.name,type:"component",source:"",ctx:n}),l}function Iw(n,t,e){let{$$slots:r={},$$scope:s}=t;Tt("App",r,[]);let i,o=!1;const a={"#info":Mu,"#adopt":wl,"#feed":Gu,"#play":Vu,"#invite":zu,"#clean":Ju,"#levelUp":Ku,"#messages":Zu,"#partners":Xu};let c;function l(){e(0,c=a[i.level==0?"#adopt":document.location.hash]||Hu)}web3.tokens.dataChanged=async(f,h,p)=&gt;{o||(xt.setToken(h.currentInstance),i=h.currentInstance,o=!0,l())};const u=[];return Object.keys(t).forEach(f=&gt;{!~u.indexOf(f)&amp;&amp;f.slice(0,2)!=="$$"&amp;&amp;f!=="slot"&amp;&amp;console.warn(`&lt;App&gt; was created with unknown prop '${f}'`)}),n.$capture_state=()=&gt;({Adopt:wl,Info:Mu,NotFound:Hu,Feed:Gu,Play:Vu,Invite:zu,Clean:Ju,LevelUp:Ku,Messages:Zu,context:xt,Partners:Xu,token:i,initialised:o,routingMap:a,page:c,routeChange:l}),n.$inject_state=f=&gt;{"token"in f&amp;&amp;(i=f.token),"initialised"in f&amp;&amp;(o=f.initialised),"page"in f&amp;&amp;e(0,c=f.page)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[c,l]}class Nw extends Rt{constructor(t){super(t),Ot(this,t,Iw,jc,Nt,{}),_("SvelteRegisterComponent",{component:this,tagName:"App",options:t,id:jc.name})}}new Nw({target:document.body});


//]]&gt;</script>
<link xmlns="http://www.w3.org/1999/xhtml" rel="preconnect" href="https://fonts.googleapis.com"/>
<link xmlns="http://www.w3.org/1999/xhtml" rel="preconnect" href="https://fonts.gstatic.com"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>


<style>
					/* <![CDATA[ */
					
* {
	font-family: "Rubik", sans-serif;
	box-sizing: border-box;
}

body {
	text-align: center;
	color: #0B0B0B;
}

h1 {
	font-size: 22px;
}

h2 {
	font-size: 20px;
}

h3 {
	font-size: 18px;
}

h5 {
	font-size: 16px;
	margin-bottom: 12px;
}

p.light {
	color: #545454;
}

.cat-list {
	display: flex;
	flex-direction: column;
}

.cat-list-item {
	width: 100%;
	margin: 6px 0;
	display: flex;
	cursor: pointer;
	overflow: hidden;
	height: 64px;
	position: relative;
	border-radius: 8px;
	border: 1px solid #DDD;
	background: #FFFEFE;
	box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

.cat-list-item.cant-play {
	opacity: 0.7;
}

.cat-list-item.selected {
	background-color: #8A9CB81F;
}

.cat-list-info {
	flex-grow: 1;
	text-align: left;
	padding: 10px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	justify-content: center;
	gap: 8px;
}

.cat-list-title {
	display: flex;
	align-items: center;
	font-size: 14px;
}

.cat-list-info h4 {
	flex-grow: 1;
	margin: 0;
	font-weight: 600;
}

.eth-address {
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow: hidden;
	max-width: 100%;
	display: block;
	font-size: 12px;
}

.loader-modal {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
}

.score-box {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	flex: 1 0 0;
}

.score-box label {
	font-size: 16px;
	color: #8B8B8B;
}

.score-box span {
	font-weight: 600;
	color: #011aff;
}

.form-field {
	position: relative;
	margin: 25px auto;
	height: 50px;
	width: 100%;
	max-width: 300px;
}

.form-field label {
	position: absolute;
	left: 12px;
	top: 12px;
	transition: all 0.3s ease;
	font-size: 16px;
	color: #969696;
	background: #fff;
	padding: 2px 4px;
}

.form-field input {
	background-color: transparent;
	padding: 16px 12px;
	border: 1px solid #969696;
	border-radius: 4px;
	width: 100%;
}

.form-field input:focus + label, input:not(:placeholder-shown) ~ label {
	top: -8px;
	font-size: 12px;
	color: #011aff;
}

.form-field input:focus {
	outline: 0;
	border-color: #011aff !important;
}

.link-button a, .link-button div {
	height: 56px;
	padding: 0 24px;
	display: flex;
	justify-content: center;
	align-items: center;
	border-radius: 10px;
	border: 2px solid #011aff;
	color: #011aff;
	font-size: 16px;
	font-weight: 600;
	text-decoration: none;
}

					/* ]]> */
				</style></ts:viewContent>

		<ts:card exclude="notAdoptedYet" name="Info" origins="SmartCatNFT" type="token">
			<ts:label>
				<ts:string xml:lang="en">Cat Bio</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="info" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="adopted" name="adopt" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Adopt</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="adopt" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="cantLevelUp" name="levelUp" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Level Up!</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="levelUp">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="levelUp" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="messages" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Messages</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="messages" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyFed" name="feedCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Feed Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="feed" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyCleaned" name="cleanCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Clean Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="cleanCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="clean" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyPlayed" name="playDateRequests" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Accept Playdates</ts:string>
			</ts:label>
			<ts:attribute name="inviter">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="acceptPlayDate">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="inviter"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="play" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="inviteCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Invite Cat for Playdate</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="inviteCatForPlaying">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="invitee"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="invite" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Partners" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Partners</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="partners" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

	</ts:cards>

	<ts:attribute name="level">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Level</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="uint" contract="SmartCatScore" function="getLevel">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canFeed">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Feed</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canFeed">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canPlay">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Play</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canPlay">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canClean">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Clean</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canClean">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canLevelUp">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Level Up</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canLevelUp">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"/><ds:Reference><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>LTNP3z+4IlGJNaNCV/O47akFk62khIkb+9Enfw5QLJw=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>NF+MaPcTyNQYvxAHCkd2kaBXVCfO6emgEiVEGPkw9d8kcn3fmc074JDE92I7x6o16M1AuZQnX8EAdt1YMRtZVQ==</ds:SignatureValue><ds:KeyInfo><ds:KeyValue><ecdsa:ECDSAKeyValue xmlns:ecdsa="http://www.w3.org/2001/04/xmldsig-more#"><ecdsa:DomainParameters><ecdsa:NamedCurve URI="urn:oid:1.3.132.0.10"/></ecdsa:DomainParameters><ecdsa:PublicKey><ecdsa:X>CNS8SLxRjIL7StIW74jBEGiz8MQLpgwlX54Kehg4Lic=</ecdsa:X><ecdsa:Y>ZU7uayKDJmBxVnmTOSwaM4+gufLbeqqxuovyF5gI3TQ=</ecdsa:Y></ecdsa:PublicKey></ecdsa:ECDSAKeyValue></ds:KeyValue></ds:KeyInfo></ds:Signature></ts:token>