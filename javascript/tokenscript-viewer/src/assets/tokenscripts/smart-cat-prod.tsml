<ts:token xmlns:ethereum="urn:ethereum:constantinople" xmlns:ts="http://tokenscript.org/2022/09/tokenscript" xmlns:xhmtl="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="SmartCat" xsi:schemaLocation="http://tokenscript.org/2022/09/tokenscript http://tokenscript.org/2022/09/tokenscript.xsd">
	<ts:label>
		<ts:plurals xml:lang="en">
			<ts:string quantity="one">SmartCat</ts:string>
			<ts:string quantity="other">SmartCats</ts:string>
		</ts:plurals>
	</ts:label>

	<ts:meta>
		<ts:description xml:lang="en">Adopt a cat and boost their intelligence through fun care tasks.</ts:description>
		<ts:aboutUrl xml:lang="en">https://medium.com/alphawallet/the-smart-cat-is-out-of-the-bag-b631d2588de2</ts:aboutUrl>
	</ts:meta>

	<ts:contract interface="erc721" name="SmartCatNFT">
		
		
		
		
		<ts:address network="137">0xD5cA946AC1c1F24Eb26dae9e1A53ba6a02bd97Fe</ts:address>
	</ts:contract>
	<ts:contract name="SmartCatScore">
		
		
		
		
		<ts:address network="137">0x7573933eB12Fa15D5557b74fDafF845B3BaF0ba2</ts:address>
	</ts:contract>

	<ts:origins>
		
		<ts:ethereum contract="SmartCatNFT"/>
	</ts:origins>

	<ts:selection filter="canFeed=FALSE" name="alreadyFed">
		<ts:label>
			<ts:string xml:lang="en">Already fed!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canPlay=FALSE" name="alreadyPlayed">
		<ts:label>
			<ts:string xml:lang="en">Too tired!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canClean=FALSE" name="alreadyCleaned">
		<ts:label>
			<ts:string xml:lang="en">Already cleaned!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="canLevelUp=FALSE" name="cantLevelUp">
		<ts:label>
			<ts:string xml:lang="en">Can't level up yet!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level=0" name="notAdoptedYet">
		<ts:label>
			<ts:string xml:lang="en">You must adopt and feed your cat first!</ts:string>
		</ts:label>
	</ts:selection>
	<ts:selection filter="level&gt;0" name="adopted">
		<ts:label>
			<ts:string xml:lang="en">Cat already adopted</ts:string>
		</ts:label>
	</ts:selection>

	<ts:cards>
		<ts:viewContent xmlns="http://www.w3.org/1999/xhtml" name="common">
			
			
		<style xmlns="http://www.w3.org/1999/xhtml">/*&lt;![CDATA[*/ 

.cat-image-container.s-kzXpl4qGewhp.s-kzXpl4qGewhp{width:100%;max-width:400px;position:relative;margin:0 auto;height:fit-content;display:flex}.cat-image-container.s-kzXpl4qGewhp img.s-kzXpl4qGewhp{width:100%;border-radius:12px}.cat-header.s-c1MG4BWNDc59.s-c1MG4BWNDc59{display:flex}.cat-details.s-c1MG4BWNDc59.s-c1MG4BWNDc59{flex-grow:1;padding:10px;text-align:left}.cat-details.s-c1MG4BWNDc59 h2.s-c1MG4BWNDc59{margin-top:0;margin-bottom:10px;font-size:18px}.cat-icon.s-c1MG4BWNDc59.s-c1MG4BWNDc59{width:100px}.cat-list-image.s-coprCO2UItih.s-coprCO2UItih{width:64px;position:relative}.cat-list-image.s-coprCO2UItih img.s-coprCO2UItih{width:64px}.shimmer.s-coprCO2UItih.s-coprCO2UItih{display:inline-block;background-color:#dddbdd;height:100%;width:64px}.shimmer.s-coprCO2UItih.s-coprCO2UItih:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0));animation:s-coprCO2UItih-shimmer 2s infinite;content:""}@keyframes s-coprCO2UItih-shimmer{to{transform:translate(100%)}}.loader-container.s-BBunC__gYdVv.s-BBunC__gYdVv{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ring.s-BBunC__gYdVv.s-BBunC__gYdVv{display:inline-block;position:relative;width:80px;height:80px}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #656565;border-radius:50%;animation:s-BBunC__gYdVv-lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#656565 transparent transparent transparent}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(1){animation-delay:-.45s}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(2){animation-delay:-.3s}.lds-ring.s-BBunC__gYdVv div.s-BBunC__gYdVv:nth-child(3){animation-delay:-.15s}@keyframes s-BBunC__gYdVv-lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.progress-contain.s-ZP8NyUOLSOsj{display:flex;align-items:center;position:relative}.progress-text.s-ZP8NyUOLSOsj{color:#9d9d9d;flex:30%}.progress-bar.s-ZP8NyUOLSOsj{margin-left:10px;flex-grow:1;height:12px;border-radius:80px;background:#EEEEEE;flex:70%}.progress-inner.s-ZP8NyUOLSOsj{position:relative;border-radius:80px;left:0;height:100%;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.btn-container.s-J_KpBvHhFpwT{display:flex;align-items:center;justify-content:center}.load-more-btn.s-J_KpBvHhFpwT{margin-top:16px;height:36px;padding:8px 32px;border-radius:8px;border:none;background:#EEE;cursor:pointer}.load-more-btn.s-J_KpBvHhFpwT:hover{border-color:#dadada;background:#dadada}.info-container.s-AsgLAl132XNS.s-AsgLAl132XNS{border-top:1px solid #EEE;padding:32px 16px}.task-header-wrapper.s-AsgLAl132XNS.s-AsgLAl132XNS{display:flex;align-items:center;margin-bottom:24px}.task-header.s-AsgLAl132XNS.s-AsgLAl132XNS{font-size:18px;text-align:left;margin:0 10px 0 0}.action-limits.s-AsgLAl132XNS.s-AsgLAl132XNS{border-radius:170px;height:22px;font-size:16px;font-weight:400;color:#8b8b8b;background:#eee;display:flex;padding:0 8px;justify-content:center;align-items:center;gap:10px}.task-table.s-AsgLAl132XNS.s-AsgLAl132XNS{text-align:left;width:100%;font-size:16px}.task-table.s-AsgLAl132XNS thead.s-AsgLAl132XNS{font-size:14px;font-weight:400;color:#9d9d9d}.task-table.s-AsgLAl132XNS td.s-AsgLAl132XNS{margin:10px 0}.gif-container.s-SlJU9hg6bRoH.s-SlJU9hg6bRoH{max-width:400px;width:100%;position:relative;margin:0 20px}.gif-container.s-SlJU9hg6bRoH .static.s-SlJU9hg6bRoH{width:100%}.gif-container.s-SlJU9hg6bRoH .gif.s-SlJU9hg6bRoH{width:100%;display:none}.gif-container.play.s-SlJU9hg6bRoH .static.s-SlJU9hg6bRoH{display:none}.gif-container.play.s-SlJU9hg6bRoH .gif.s-SlJU9hg6bRoH{display:block}.tabs.s-igHLl7zY3ATx{padding:0 10px}.tabs-header.s-igHLl7zY3ATx{display:flex;align-items:center;padding:20px 0;gap:20px}.tab-item.s-igHLl7zY3ATx{font-size:18px;font-style:normal;font-weight:500;color:#8b8b8b;cursor:pointer}.tab-item.selected.s-igHLl7zY3ATx{color:#001aff}.invite-btn-wrapper.s-igHLl7zY3ATx{display:flex;justify-content:center;align-items:center;padding:0 8px}.invite-btn.s-igHLl7zY3ATx{width:88px;height:40px;padding:0 16px;border:none;border-radius:10px;color:#fff;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%);cursor:pointer}.invite-btn.s-igHLl7zY3ATx:hover{background:linear-gradient(214.82deg,#001AFF -21.14%,#4F95FF 89.22%)}.fade-out-image.s-zhAMHCb88KdG{animation:s-zhAMHCb88KdG-fadeOut 5s;animation-fill-mode:initial;animation-iteration-count:infinite}@keyframes s-zhAMHCb88KdG-fadeOut{0%{opacity:1}to{opacity:0}}.smart-level-wrapper.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:absolute;width:100%;left:0;bottom:-30px;z-index:30}.smart-level-box.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:relative;margin:0 auto;display:flex;width:190px;padding:8px 24px;flex-direction:column;align-items:center;gap:4px;border-radius:8px;border:1px solid #001AFF;background:#FAFAFA;box-shadow:0 4px 16px #00000014}.meme-wrapper.s-ZYX9umY93TZ_.s-ZYX9umY93TZ_{position:absolute;width:100%;height:100%;left:0;top:0;z-index:20;overflow:hidden}.meme-wrapper.s-ZYX9umY93TZ_ .level-image.s-ZYX9umY93TZ_{position:absolute;width:0;left:50%;top:50%;transform:translate(-50%,-50%);animation:s-ZYX9umY93TZ_-zoom;animation-iteration-count:infinite;animation-fill-mode:initial;animation-timing-function:ease-in;animation-duration:1.5s}.meme-wrapper.s-ZYX9umY93TZ_ .level-image2.s-ZYX9umY93TZ_{animation-delay:.5s}.meme-wrapper.s-ZYX9umY93TZ_ .level-image3.s-ZYX9umY93TZ_{animation-delay:1s}@keyframes s-ZYX9umY93TZ_-zoom{0%{width:1%}to{width:250%}}.message-bubble.s-Rq_cryvNbnUI{margin:5px;border-radius:10px;width:80%;background:#EEE;color:#000;padding:8px}.message-content.s-Rq_cryvNbnUI{font-size:14px;text-align:left;word-break:break-word}.message-meta.s-Rq_cryvNbnUI{padding-top:6px;font-size:11px;text-align:right;display:block}.message-bubble.sender.s-Rq_cryvNbnUI{align-self:end;background:#0084ff;color:#fff}#message-popup.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background:#fff}#message-header.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{display:flex;border-bottom:#EEE;background:#FAFAFA}#message-title.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{flex-grow:1;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:16px;font-weight:500}#message-close.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{width:30px;height:50px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:700;cursor:pointer}#message-history.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{flex-grow:1;display:flex;flex-direction:column;padding:10px;overflow:auto}#send-message.s-9EDnMOFEbv0B.s-9EDnMOFEbv0B{display:flex}#send-message.s-9EDnMOFEbv0B textarea.s-9EDnMOFEbv0B{flex-grow:1;margin:4px;border-radius:4px;border:2px solid #969696;outline:0!important}#send-message.s-9EDnMOFEbv0B textarea.s-9EDnMOFEbv0B:focus{border-radius:4px;border:2px solid #001AFF}#send-message.s-9EDnMOFEbv0B button.s-9EDnMOFEbv0B{flex-grow:1;margin:4px 4px 4px 0;border-radius:4px;border:0;background:linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}#send-message.s-9EDnMOFEbv0B button.s-9EDnMOFEbv0B:disabled{background:linear-gradient(0deg,rgba(255,255,255,.6) 0%,rgba(255,255,255,.6) 100%),linear-gradient(235deg,#001AFF 37.73%,#4F95FF 118.69%)}.unread-count.has-unread.s-t-aAqwnpGxxz{font-weight:600;font-size:14px;display:flex;align-items:center}.unread-count.has-unread.s-t-aAqwnpGxxz:before{content:"â€¢";color:#0724ff;font-weight:700;font-size:28px;line-height:14px;padding:0 4px}.partner-link.s-6qPDKcEBUYaG.s-6qPDKcEBUYaG{margin-top:25px;padding:10px 0;border-top:1px #eee solid}.partner-link.s-6qPDKcEBUYaG .link-button.s-6qPDKcEBUYaG{cursor:pointer}


 /*//]]&gt;*/</style>
<script xmlns="http://www.w3.org/1999/xhtml" type="module" crossorigin="">//&lt;![CDATA[

var Wd=Object.defineProperty;var Zd=(n,t,e)=&gt;t in n?Wd(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var k=(n,t,e)=&gt;(Zd(n,typeof t!="symbol"?t+"":t,e),e),Da=(n,t,e)=&gt;{if(!t.has(n))throw TypeError("Cannot "+e)};var d=(n,t,e)=&gt;(Da(n,t,"read from private field"),e?e.call(n):t.get(n)),S=(n,t,e)=&gt;{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},w=(n,t,e,s)=&gt;(Da(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e);var mi=(n,t,e,s)=&gt;({set _(r){w(n,t,r,e)},get _(){return d(n,t,s)}}),D=(n,t,e)=&gt;(Da(n,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&amp;&amp;t.supports&amp;&amp;t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=&gt;{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&amp;&amp;o.rel==="modulepreload"&amp;&amp;s(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&amp;&amp;(i.integrity=r.integrity),r.referrerPolicy&amp;&amp;(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function nt(){}function Xd(n,t){for(const e in t)n[e]=t[e];return n}function y(n,t,e,s,r){n.__svelte_meta={loc:{file:t,line:e,column:s,char:r}}}function Df(n){return n()}function Vl(){return Object.create(null)}function Vs(n){n.forEach(Df)}function Mf(n){return typeof n=="function"}function Bt(n,t){return n!=n?t==t:n!==t||n&amp;&amp;typeof n=="object"||typeof n=="function"}let vo;function Qe(n,t){return n===t?!0:(vo||(vo=document.createElement("a")),vo.href=t,n===vo.href)}function qd(n){return Object.keys(n).length===0}function Hf(n,t,e,s){if(n){const r=Gf(n,t,e,s);return n[0](r)}}function Gf(n,t,e,s){return n[1]&amp;&amp;s?Xd(e.ctx.slice(),n[1](s(t))):e.ctx}function jf(n,t,e,s){if(n[2]&amp;&amp;s){const r=n[2](s(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a&lt;o;a+=1)i[a]=t.dirty[a]|r[a];return i}return t.dirty|r}return t.dirty}function Qf(n,t,e,s,r,i){if(r){const o=Gf(t,e,s,i);n.p(o,r)}}function Vf(n){if(n.ctx.length&gt;32){const t=[],e=n.ctx.length/32;for(let s=0;s&lt;e;s++)t[s]=-1;return t}return-1}function qo(n){return n??""}const li=typeof window&lt;"u"?window:typeof globalThis&lt;"u"?globalThis:global;function $d(n,t){n.appendChild(t)}function zf(n,t,e){n.insertBefore(t,e||null)}function wl(n){n.parentNode&amp;&amp;n.parentNode.removeChild(n)}function ho(n,t){for(let e=0;e&lt;n.length;e+=1)n[e]&amp;&amp;n[e].d(t)}function b(n){return document.createElement(n)}function Le(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Z(n){return document.createTextNode(n)}function T(){return Z(" ")}function zs(){return Z("")}function tp(n,t,e,s){return n.addEventListener(t,e,s),()=&gt;n.removeEventListener(t,e,s)}function ep(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&amp;&amp;n.setAttribute(t,e)}function np(n){return Array.from(n.childNodes)}function zl(n,t){n.value=t??""}function M(n,t,e,s){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,s?"important":"")}function sp(n,t,{bubbles:e=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:s})}class rp{constructor(t=!1){k(this,"is_svg",!1);k(this,"e");k(this,"n");k(this,"t");k(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,s=null){this.e||(this.is_svg?this.e=Le(e.nodeName):this.e=b(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(s)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e&lt;this.n.length;e+=1)zf(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(wl)}}let Li;function xi(n){Li=n}function Jf(){if(!Li)throw new Error("Function called outside component initialization");return Li}function as(n){Jf().$$.on_mount.push(n)}function Jl(n){Jf().$$.on_destroy.push(n)}const rr=[],Kl=[];let dr=[];const Yl=[],ip=Promise.resolve();let ec=!1;function op(){ec||(ec=!0,ip.then(Kf))}function nc(n){dr.push(n)}const Ma=new Set;let Ws=0;function Kf(){if(Ws!==0)return;const n=Li;do{try{for(;Ws&lt;rr.length;){const t=rr[Ws];Ws++,xi(t),ap(t.$$)}}catch(t){throw rr.length=0,Ws=0,t}for(xi(null),rr.length=0,Ws=0;Kl.length;)Kl.pop()();for(let t=0;t&lt;dr.length;t+=1){const e=dr[t];Ma.has(e)||(Ma.add(e),e())}dr.length=0}while(rr.length);for(;Yl.length;)Yl.pop()();ec=!1,Ma.clear(),xi(n)}function ap(n){if(n.fragment!==null){n.update(),Vs(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&amp;&amp;n.fragment.p(n.ctx,t),n.after_update.forEach(nc)}}function cp(n){const t=[],e=[];dr.forEach(s=&gt;n.indexOf(s)===-1?t.push(s):e.push(s)),e.forEach(s=&gt;s()),dr=t}const Do=new Set;let ms;function Ht(){ms={r:0,c:[],p:ms}}function Gt(){ms.r||Vs(ms.c),ms=ms.p}function L(n,t){n&amp;&amp;n.i&amp;&amp;(Do.delete(n),n.i(t))}function F(n,t,e,s){if(n&amp;&amp;n.o){if(Do.has(n))return;Do.add(n),ms.c.push(()=&gt;{Do.delete(n),s&amp;&amp;(e&amp;&amp;n.d(1),s())}),n.o(t)}else s&amp;&amp;s()}function lp(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function pt(n){n&amp;&amp;n.c()}function ut(n,t,e){const{fragment:s,after_update:r}=n.$$;s&amp;&amp;s.m(t,e),nc(()=&gt;{const i=n.$$.on_mount.map(Df).filter(Mf);n.$$.on_destroy?n.$$.on_destroy.push(...i):Vs(i),n.$$.on_mount=[]}),r.forEach(nc)}function ft(n,t){const e=n.$$;e.fragment!==null&amp;&amp;(cp(e.after_update),Vs(e.on_destroy),e.fragment&amp;&amp;e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function up(n,t){n.$$.dirty[0]===-1&amp;&amp;(rr.push(n),op(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1&lt;&lt;t%31}function Ot(n,t,e,s,r,i,o=null,a=[-1]){const c=Li;xi(n);const l=n.$$={fragment:null,ctx:[],props:i,update:nt,not_equal:r,bound:Vl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Vl(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};o&amp;&amp;o(l.root);let u=!1;if(l.ctx=e?e(n,t.props||{},(f,h,...p)=&gt;{const m=p.length?p[0]:h;return l.ctx&amp;&amp;r(l.ctx[f],l.ctx[f]=m)&amp;&amp;(!l.skip_bound&amp;&amp;l.bound[f]&amp;&amp;l.bound[f](m),u&amp;&amp;up(n,f)),h}):[],l.update(),u=!0,Vs(l.before_update),l.fragment=s?s(l.ctx):!1,t.target){if(t.hydrate){const f=np(t.target);l.fragment&amp;&amp;l.fragment.l(f),f.forEach(wl)}else l.fragment&amp;&amp;l.fragment.c();t.intro&amp;&amp;L(n.$$.fragment),ut(n,t.target,t.anchor),Kf()}xi(c)}class fp{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){ft(this,1),this.$destroy=nt}$on(t,e){if(!Mf(e))return nt;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=&gt;{const r=s.indexOf(e);r!==-1&amp;&amp;s.splice(r,1)}}$set(t){this.$$set&amp;&amp;!qd(t)&amp;&amp;(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const hp="4.2.1",dp="4";function R(n,t){document.dispatchEvent(sp(n,{version:hp,...t},{bubbles:!0}))}function g(n,t){R("SvelteDOMInsert",{target:n,node:t}),$d(n,t)}function Q(n,t,e){R("SvelteDOMInsert",{target:n,node:t,anchor:e}),zf(n,t,e)}function V(n){R("SvelteDOMRemove",{node:n}),wl(n)}function $t(n,t,e,s,r,i,o){const a=s===!0?["capture"]:s?Array.from(Object.keys(s)):[];r&amp;&amp;a.push("preventDefault"),i&amp;&amp;a.push("stopPropagation"),o&amp;&amp;a.push("stopImmediatePropagation"),R("SvelteDOMAddEventListener",{node:n,event:t,handler:e,modifiers:a});const c=tp(n,t,e,s);return()=&gt;{R("SvelteDOMRemoveEventListener",{node:n,event:t,handler:e,modifiers:a}),c()}}function v(n,t,e){ep(n,t,e),e==null?R("SvelteDOMRemoveAttribute",{node:n,attribute:t}):R("SvelteDOMSetAttribute",{node:n,attribute:t,value:e})}function sc(n,t,e){n[t]=e,R("SvelteDOMSetProperty",{node:n,property:t,value:e})}function Ct(n,t){t=""+t,n.data!==t&amp;&amp;(R("SvelteDOMSetData",{node:n,data:t}),n.data=t)}function an(n){if(typeof n!="string"&amp;&amp;!(n&amp;&amp;typeof n=="object"&amp;&amp;"length"in n)&amp;&amp;!(typeof Symbol=="function"&amp;&amp;n&amp;&amp;Symbol.iterator in n))throw new Error("{#each} only works with iterable values.");return lp(n)}function Lt(n,t,e){for(const s of Object.keys(t))~e.indexOf(s)||console.warn(`&lt;${n}&gt; received an unexpected slot "${s}".`)}function Wl(n,t){const e="this={...} of &lt;svelte:component&gt; should specify a Svelte component.";try{const s=new n(t);if(!s.$$||!s.$set||!s.$on||!s.$destroy)throw new Error(e);return s}catch(s){const{message:r}=s;throw typeof r=="string"&amp;&amp;r.indexOf("is not a constructor")!==-1?new Error(e):s}}class Rt extends fp{constructor(e){if(!e||!e.target&amp;&amp;!e.$$inline)throw new Error("'target' is a required option");super();k(this,"$$prop_def");k(this,"$$events_def");k(this,"$$slot_def")}$destroy(){super.$destroy(),this.$destroy=()=&gt;{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}typeof window&lt;"u"&amp;&amp;(window.__svelte||(window.__svelte={v:new Set})).v.add(dp);const Zs=[];function pp(n,t=nt){let e;const s=new Set;function r(a){if(Bt(n,a)&amp;&amp;(n=a,e)){const c=!Zs.length;for(const l of s)l[1](),Zs.push(l,n);if(c){for(let l=0;l&lt;Zs.length;l+=2)Zs[l][0](Zs[l+1]);Zs.length=0}}}function i(a){r(a(n))}function o(a,c=nt){const l=[a,c];return s.add(l),s.size===1&amp;&amp;(e=t(r,i)||nt),a(n),()=&gt;{s.delete(l),s.size===0&amp;&amp;e&amp;&amp;(e(),e=null)}}return{set:r,update:i,subscribe:o}}const Yf=class Wf{constructor(t){this.tokenContext=t,this.challengeExp=null,this.challengeText=null,this.challengeSig=null}async getNewMessages(){return await this.requestWithAuth(`/message-count/${this.tokenContext.tokenId}`,"get")}async getMessageHistory(t){return await this.requestWithAuth(`/message-history/${this.tokenContext.tokenId}/${t}`,"get")}async sendMessage(t,e){return await this.requestWithAuth(`/send-message/${this.tokenContext.tokenId}/${e}`,"post",{message:t})}async requestWithAuth(t,e,s){(!this.challengeText||this.challengeExp&lt;Date.now())&amp;&amp;await this.fetchAndSignChallenge();try{return await this.request(t,e,s)}catch(r){if(r.message==="Authorisation failed")return this.challengeText=null,await this.fetchAndSignChallenge(),await this.request(t,e,s);throw r}}async fetchAndSignChallenge(){const t=await this.request("/challenge","get"),e=new Promise((s,r)=&gt;{web3.personal.sign({data:t.text},function(i,o){i!=null?r(i):(s(o),console.log(o))})});try{this.challengeSig=await e,this.challengeExp=t.expiry,this.challengeText=t.text}catch(s){throw console.error("Authentication failed: ",s),new Error(s)}}async request(t,e,s){const r={"Content-type":"application/json",Accept:"application/json"};this.challengeSig&amp;&amp;(r["X-SmartCat-Auth"]=this.challengeText+":"+this.challengeSig);const i=await fetch(Wf.BASE_URL+t,{method:e,headers:r,body:s?JSON.stringify(s):void 0});let o;try{o=await i.json()}catch{}if(i.status&gt;299||i.status&lt;200)throw i.status===403?new Error("Authorisation failed"):new Error("HTTP Request failed:"+((o==null?void 0:o.message)??i.statusText));return o}};Yf.BASE_URL="https://chat.tokenscript.org/api";let gp=Yf,Eo=null;const $o=pp({token:null});function mp(n){$o.set({...$o,token:n})}async function wp(){return Eo||new Promise((n,t)=&gt;{$o.subscribe(e=&gt;{Eo=new gp(e.token),n(Eo)})})}const kt={data:$o,setToken:mp,getMessageClient:wp};const Zl="src/components/CatImage.svelte";function rc(n){let t,e,s,r,i;const o=n[2].default,a=Hf(o,n,n[1],null),c={c:function(){t=b("div"),e=b("img"),r=T(),a&amp;&amp;a.c(),v(e,"alt","your cat"),M(e,"width","100%"),M(e,"position","relative"),Qe(e.src,s=n[0])||v(e,"src",s),v(e,"class","s-kzXpl4qGewhp"),y(e,Zl,21,1,315),v(t,"class","cat-image-container s-kzXpl4qGewhp"),y(t,Zl,20,0,280)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){Q(u,t,f),g(t,e),g(t,r),a&amp;&amp;a.m(t,null),i=!0},p:function(u,[f]){(!i||f&amp;1&amp;&amp;!Qe(e.src,s=u[0]))&amp;&amp;v(e,"src",s),a&amp;&amp;a.p&amp;&amp;(!i||f&amp;2)&amp;&amp;Qf(a,o,u,u[1],i?jf(o,u[1],f,null):Vf(u[1]),null)},i:function(u){i||(L(a,u),i=!0)},o:function(u){F(a,u),i=!1},d:function(u){u&amp;&amp;V(t),a&amp;&amp;a.d(u)}};return R("SvelteRegisterBlock",{block:c,id:rc.name,type:"component",source:"",ctx:n}),c}function yp(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("CatImage",s,["default"]);let{imageUrl:i}=t;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("imageUrl"in t||n.$$.bound[n.$$.props.imageUrl])&amp;&amp;console.warn("&lt;CatImage&gt; was created without expected prop 'imageUrl'")});const o=["imageUrl"];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;CatImage&gt; was created with unknown prop '${a}'`)}),n.$$set=a=&gt;{"imageUrl"in a&amp;&amp;e(0,i=a.imageUrl),"$$scope"in a&amp;&amp;e(1,r=a.$$scope)},n.$capture_state=()=&gt;({imageUrl:i}),n.$inject_state=a=&gt;{"imageUrl"in a&amp;&amp;e(0,i=a.imageUrl)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,r,s]}class Tn extends Rt{constructor(t){super(t),Ot(this,t,yp,rc,Bt,{imageUrl:0}),R("SvelteRegisterComponent",{component:this,tagName:"CatImage",options:t,id:rc.name})}get imageUrl(){throw new Error("&lt;CatImage&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set imageUrl(t){throw new Error("&lt;CatImage&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Xs="src/routes/Adopt.svelte";function ic(n){let t,e,s,r,i,o,a,c,l,u,f,h,p;u=new Tn({props:{imageUrl:n[0].image_preview_url},$$inline:!0});const m={c:function(){t=b("div"),e=b("img"),r=T(),i=b("h3"),i.textContent="Once upon a time...",o=T(),a=b("p"),a.textContent=`There was a cat that was pretty cool, but it also wanted to be smart.
		So it went to Smart Layer Labs and got a TokenScript Microchip to boost its mind.`,c=T(),l=b("div"),pt(u.$$.fragment),f=T(),h=b("p"),h.textContent=`Now this cat needs someone to adopt it and help to train its skills. Let's give the cat an initial feed to win it over.
		It's free to adopt and play but you'll need some MATIC to pay for transaction fees on the Polygon network.
		Transactions are generally 0.01 MATIC, starting off with 0.5 MATIC is recommended.`,v(e,"alt","smartcat gameboy"),Qe(e.src,s="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Gameboy.png")||v(e,"src",s),M(e,"width","200px"),y(e,Xs,12,1,245),y(i,Xs,13,1,384),y(a,Xs,14,1,414),M(l,"position","relative"),M(l,"margin","0 auto"),M(l,"width","100%"),M(l,"max-width","300px"),y(l,Xs,18,1,581),y(h,Xs,21,1,730),M(t,"text-align","center"),M(t,"padding","10px"),y(t,Xs,11,0,195)},l:function(C){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(C,I){Q(C,t,I),g(t,e),g(t,r),g(t,i),g(t,o),g(t,a),g(t,c),g(t,l),ut(u,l,null),g(t,f),g(t,h),p=!0},p:function(C,[I]){const x={};I&amp;1&amp;&amp;(x.imageUrl=C[0].image_preview_url),u.$set(x)},i:function(C){p||(L(u.$$.fragment,C),p=!0)},o:function(C){F(u.$$.fragment,C),p=!1},d:function(C){C&amp;&amp;V(t),ft(u)}};return R("SvelteRegisterBlock",{block:m,id:ic.name,type:"component",source:"",ctx:n}),m}function Ap(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Adopt",s,[]);let i;kt.data.subscribe(a=&gt;{e(0,i=a.token)});const o=[];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Adopt&gt; was created with unknown prop '${a}'`)}),n.$capture_state=()=&gt;({context:kt,CatImage:Tn,token:i}),n.$inject_state=a=&gt;{"token"in a&amp;&amp;e(0,i=a.token)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class Xl extends Rt{constructor(t){super(t),Ot(this,t,Ap,ic,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Adopt",options:t,id:ic.name})}}const qs="src/components/Header.svelte";function oc(n){let t,e,s,r,i,o,a=n[0].name+"",c,l,u,f,h,p=n[0].tokenId+"",m,A;s=new Tn({props:{imageUrl:n[0].image_preview_url},$$inline:!0});const C={c:function(){t=b("div"),e=b("div"),pt(s.$$.fragment),r=T(),i=b("div"),o=b("h2"),c=Z(a),l=T(),u=b("div"),f=b("div"),h=Z("Microchip ID: "),m=Z(p),v(e,"class","cat-icon s-c1MG4BWNDc59"),y(e,qs,35,1,451),v(o,"class","s-c1MG4BWNDc59"),y(o,qs,39,2,561),y(f,qs,41,3,612),v(u,"class","cat-stats"),y(u,qs,40,2,585),v(i,"class","cat-details s-c1MG4BWNDc59"),y(i,qs,38,1,533),v(t,"class","cat-header s-c1MG4BWNDc59"),y(t,qs,34,0,425)},l:function(x){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(x,P){Q(x,t,P),g(t,e),ut(s,e,null),g(t,r),g(t,i),g(i,o),g(o,c),g(i,l),g(i,u),g(u,f),g(f,h),g(f,m),A=!0},p:function(x,[P]){const B={};P&amp;1&amp;&amp;(B.imageUrl=x[0].image_preview_url),s.$set(B),(!A||P&amp;1)&amp;&amp;a!==(a=x[0].name+"")&amp;&amp;Ct(c,a),(!A||P&amp;1)&amp;&amp;p!==(p=x[0].tokenId+"")&amp;&amp;Ct(m,p)},i:function(x){A||(L(s.$$.fragment,x),A=!0)},o:function(x){F(s.$$.fragment,x),A=!1},d:function(x){x&amp;&amp;V(t),ft(s)}};return R("SvelteRegisterBlock",{block:C,id:oc.name,type:"component",source:"",ctx:n}),C}function bp(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Header",s,[]);let i;kt.data.subscribe(a=&gt;{e(0,i=a.token)});const o=[];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Header&gt; was created with unknown prop '${a}'`)}),n.$capture_state=()=&gt;({context:kt,CatImage:Tn,token:i}),n.$inject_state=a=&gt;{"token"in a&amp;&amp;e(0,i=a.token)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class Zf extends Rt{constructor(t){super(t),Ot(this,t,bp,oc,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Header",options:t,id:oc.name})}}const vp="6.7.1";function Ep(n,t,e){const s=t.split("|").map(i=&gt;i.trim());for(let i=0;i&lt;s.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const r=new Error(`invalid value for type ${t}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${e}`,r.value=n,r}async function ee(n){const t=Object.keys(n);return(await Promise.all(t.map(s=&gt;Promise.resolve(n[s])))).reduce((s,r,i)=&gt;(s[t[i]]=r,s),{})}function $(n,t,e){for(let s in t){let r=t[s];const i=e?e[s]:null;i&amp;&amp;Ep(r,i,s),Object.defineProperty(n,s,{enumerable:!0,value:r,writable:!1})}}function ar(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(ar).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let s=0;s&lt;n.length;s++)e+=t[n[s]&gt;&gt;4],e+=t[n[s]&amp;15];return e}if(typeof n=="object"&amp;&amp;typeof n.toJSON=="function")return ar(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(e=&gt;`${ar(e)}: ${ar(n[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Te(n,t){return n&amp;&amp;n.code===t}function yl(n){return Te(n,"CALL_EXCEPTION")}function Mt(n,t,e){{const r=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${ar(e)}`);for(const i in e){const o=e[i];r.push(i+"="+ar(o))}}r.push(`code=${t}`),r.push(`version=${vp}`),r.length&amp;&amp;(n+=" ("+r.join(", ")+")")}let s;switch(t){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return $(s,{code:t}),e&amp;&amp;Object.assign(s,e),s}function _(n,t,e,s){if(!n)throw Mt(t,e,s)}function E(n,t,e,s){_(n,t,"INVALID_ARGUMENT",{argument:e,value:s})}function Xf(n,t,e){e==null&amp;&amp;(e=""),e&amp;&amp;(e=": "+e),_(n&gt;=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:n,expectedCount:t}),_(n&lt;=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:t})}const kp=["NFD","NFC","NFKD","NFKC"].reduce((n,t)=&gt;{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),s=String.fromCharCode(101,769);if(e!==s)throw new Error("broken")}n.push(t)}catch{}return n},[]);function Cp(n){_(kp.indexOf(n)&gt;=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function ka(n,t,e){if(e==null&amp;&amp;(e=""),n!==t){let s=e,r="new";e&amp;&amp;(s+=".",r+=" "+e),_(!1,`private constructor; use ${s}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function qf(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&amp;&amp;n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const s=new Uint8Array((n.length-2)/2);let r=2;for(let i=0;i&lt;s.length;i++)s[i]=parseInt(n.substring(r,r+2),16),r+=2;return s}E(!1,"invalid BytesLike value",t||"value",n)}function gt(n,t){return qf(n,t,!1)}function ue(n,t){return qf(n,t,!0)}function St(n,t){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&amp;&amp;n.length!==2+2*t||t===!0&amp;&amp;n.length%2!==0)}function Pp(n){return St(n,!0)||n instanceof Uint8Array}const ql="0123456789abcdef";function z(n){const t=gt(n);let e="0x";for(let s=0;s&lt;t.length;s++){const r=t[s];e+=ql[(r&amp;240)&gt;&gt;4]+ql[r&amp;15]}return e}function Ft(n){return"0x"+n.map(t=&gt;z(t).substring(2)).join("")}function pr(n){return St(n,!0)?(n.length-2)/2:gt(n).length}function _t(n,t,e){const s=gt(n);return e!=null&amp;&amp;e&gt;s.length&amp;&amp;_(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:e}),z(s.slice(t??0,e??s.length))}function $f(n,t,e){const s=gt(n);_(t&gt;=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:t,offset:t+1});const r=new Uint8Array(t);return r.fill(0),e?r.set(s,t-s.length):r.set(s,0),z(r)}function Ms(n,t){return $f(n,t,!0)}function Ip(n,t){return $f(n,t,!1)}const Ca=BigInt(0),Ge=BigInt(1),cr=9007199254740991;function xp(n,t){const e=Pa(n,"value"),s=BigInt(ct(t,"width"));if(_(e&gt;&gt;s===Ca,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e&gt;&gt;s-Ge){const r=(Ge&lt;&lt;s)-Ge;return-((~e&amp;r)+Ge)}return e}function th(n,t){let e=W(n,"value");const s=BigInt(ct(t,"width")),r=Ge&lt;&lt;s-Ge;if(e&lt;Ca){e=-e,_(e&lt;=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(Ge&lt;&lt;s)-Ge;return(~e&amp;i)+Ge}else _(e&lt;r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return e}function vi(n,t){const e=Pa(n,"value"),s=BigInt(ct(t,"bits"));return e&amp;(Ge&lt;&lt;s)-Ge}function W(n,t){switch(typeof n){case"bigint":return n;case"number":return E(Number.isInteger(n),"underflow",t||"value",n),E(n&gt;=-cr&amp;&amp;n&lt;=cr,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&amp;&amp;n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){E(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}E(!1,"invalid BigNumberish value",t||"value",n)}function Pa(n,t){const e=W(n,t);return _(e&gt;=Ca,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const $l="0123456789abcdef";function Al(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=$l[e&gt;&gt;4],t+=$l[e&amp;15];return BigInt(t)}return W(n)}function ct(n,t){switch(typeof n){case"bigint":return E(n&gt;=-cr&amp;&amp;n&lt;=cr,"overflow",t||"value",n),Number(n);case"number":return E(Number.isInteger(n),"underflow",t||"value",n),E(n&gt;=-cr&amp;&amp;n&lt;=cr,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return ct(BigInt(n),t)}catch(e){E(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}E(!1,"invalid numeric value",t||"value",n)}function Np(n){return ct(Al(n))}function cs(n,t){let s=Pa(n,"value").toString(16);if(t==null)s.length%2&amp;&amp;(s="0"+s);else{const r=ct(t,"width");for(_(r*2&gt;=s.length,`value exceeds width (${r} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});s.length&lt;r*2;)s="0"+s}return"0x"+s}function be(n){const t=Pa(n,"value");if(t===Ca)return new Uint8Array([]);let e=t.toString(16);e.length%2&amp;&amp;(e="0"+e);const s=new Uint8Array(e.length/2);for(let r=0;r&lt;s.length;r++){const i=r*2;s[r]=parseInt(e.substring(i,i+2),16)}return s}function lr(n){let t=z(Pp(n)?n:be(n)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&amp;&amp;(t="0"),"0x"+t}const Sp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const tu=BigInt(58);function Bp(n){let t=Al(gt(n)),e="";for(;t;)e=Sp[Number(t%tu)]+e,t/=tu;return e}function Tp(n){n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e&lt;n.length;e++)t[e]=n.charCodeAt(e);return gt(t)}function _p(n){const t=gt(n);let e="";for(let s=0;s&lt;t.length;s++)e+=String.fromCharCode(t[s]);return btoa(e)}var Ar;class eh{constructor(t,e,s){k(this,"filter");k(this,"emitter");S(this,Ar,void 0);w(this,Ar,e),$(this,{emitter:t,filter:s})}async removeListener(){d(this,Ar)!=null&amp;&amp;await this.emitter.off(this.filter,d(this,Ar))}}Ar=new WeakMap;function Op(n,t,e,s,r){E(!1,`invalid codepoint at offset ${t}; ${n}`,"bytes",e)}function nh(n,t,e,s,r){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o&lt;e.length&amp;&amp;e[o]&gt;&gt;6===2;o++)i++;return i}return n==="OVERRUN"?e.length-t-1:0}function Lp(n,t,e,s,r){return n==="OVERLONG"?(E(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),s.push(r),0):(s.push(65533),nh(n,t,e))}const Rp=Object.freeze({error:Op,ignore:nh,replace:Lp});function Up(n,t){t==null&amp;&amp;(t=Rp.error);const e=gt(n,"bytes"),s=[];let r=0;for(;r&lt;e.length;){const i=e[r++];if(!(i&gt;&gt;7)){s.push(i);continue}let o=null,a=null;if((i&amp;224)===192)o=1,a=127;else if((i&amp;240)===224)o=2,a=2047;else if((i&amp;248)===240)o=3,a=65535;else{(i&amp;192)===128?r+=t("UNEXPECTED_CONTINUE",r-1,e,s):r+=t("BAD_PREFIX",r-1,e,s);continue}if(r-1+o&gt;=e.length){r+=t("OVERRUN",r-1,e,s);continue}let c=i&amp;(1&lt;&lt;8-o-1)-1;for(let l=0;l&lt;o;l++){let u=e[r];if((u&amp;192)!=128){r+=t("MISSING_CONTINUE",r,e,s),c=null;break}c=c&lt;&lt;6|u&amp;63,r++}if(c!==null){if(c&gt;1114111){r+=t("OUT_OF_RANGE",r-1-o,e,s,c);continue}if(c&gt;=55296&amp;&amp;c&lt;=57343){r+=t("UTF16_SURROGATE",r-1-o,e,s,c);continue}if(c&lt;=a){r+=t("OVERLONG",r-1-o,e,s,c);continue}s.push(c)}}return s}function xn(n,t){t!=null&amp;&amp;(Cp(t),n=n.normalize(t));let e=[];for(let s=0;s&lt;n.length;s++){const r=n.charCodeAt(s);if(r&lt;128)e.push(r);else if(r&lt;2048)e.push(r&gt;&gt;6|192),e.push(r&amp;63|128);else if((r&amp;64512)==55296){s++;const i=n.charCodeAt(s);E(s&lt;n.length&amp;&amp;(i&amp;64512)===56320,"invalid surrogate pair","str",n);const o=65536+((r&amp;1023)&lt;&lt;10)+(i&amp;1023);e.push(o&gt;&gt;18|240),e.push(o&gt;&gt;12&amp;63|128),e.push(o&gt;&gt;6&amp;63|128),e.push(o&amp;63|128)}else e.push(r&gt;&gt;12|224),e.push(r&gt;&gt;6&amp;63|128),e.push(r&amp;63|128)}return new Uint8Array(e)}function Fp(n){return n.map(t=&gt;t&lt;=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t&gt;&gt;10&amp;1023)+55296,(t&amp;1023)+56320))).join("")}function bl(n,t){return Fp(Up(n,t))}async function Dp(n,t){const e=n.url.split(":")[0].toLowerCase();_(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),_(e==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(t){const l=new AbortController;s=l.signal,t.addListener(()=&gt;{l.abort()})}const r={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s},i=await fetch(n.url,r),o={};i.headers.forEach((l,u)=&gt;{o[u.toLowerCase()]=l});const a=await i.arrayBuffer(),c=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:c}}const Mp=12,Hp=250;let eu=Dp;const Gp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),jp=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ha=!1;async function sh(n,t){try{const e=n.match(Gp);if(!e)throw new Error("invalid data");return new is(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?Tp(e[3]):Vp(e[3]))}catch{return new is(599,"BAD REQUEST (invalid data: URI)",{},null,new Sn(n))}}function rh(n){async function t(e,s){try{const r=e.match(jp);if(!r)throw new Error("invalid link");return new Sn(`${n}${r[2]}`)}catch{return new is(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Sn(e))}}return t}const ko={data:sh,ipfs:rh("https://gateway.ipfs.io/ipfs/")},ih=new WeakMap;var ys,Qn;class Qp{constructor(t){S(this,ys,void 0);S(this,Qn,void 0);w(this,ys,[]),w(this,Qn,!1),ih.set(t,()=&gt;{if(!d(this,Qn)){w(this,Qn,!0);for(const e of d(this,ys))setTimeout(()=&gt;{e()},0);w(this,ys,[])}})}addListener(t){_(!d(this,Qn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,ys).push(t)}get cancelled(){return d(this,Qn)}checkSignal(){_(!this.cancelled,"cancelled","CANCELLED",{})}}ys=new WeakMap,Qn=new WeakMap;function Co(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var br,vr,Fe,hn,Er,kr,Qt,me,dn,As,bs,vs,Ze,pn,Es,Ei;const ga=class ga{constructor(t){S(this,Es);S(this,br,void 0);S(this,vr,void 0);S(this,Fe,void 0);S(this,hn,void 0);S(this,Er,void 0);S(this,kr,void 0);S(this,Qt,void 0);S(this,me,void 0);S(this,dn,void 0);S(this,As,void 0);S(this,bs,void 0);S(this,vs,void 0);S(this,Ze,void 0);S(this,pn,void 0);w(this,kr,String(t)),w(this,br,!1),w(this,vr,!0),w(this,Fe,{}),w(this,hn,""),w(this,Er,3e5),w(this,pn,{slotInterval:Hp,maxAttempts:Mp})}get url(){return d(this,kr)}set url(t){w(this,kr,String(t))}get body(){return d(this,Qt)==null?null:new Uint8Array(d(this,Qt))}set body(t){if(t==null)w(this,Qt,void 0),w(this,me,void 0);else if(typeof t=="string")w(this,Qt,xn(t)),w(this,me,"text/plain");else if(t instanceof Uint8Array)w(this,Qt,t),w(this,me,"application/octet-stream");else if(typeof t=="object")w(this,Qt,xn(JSON.stringify(t))),w(this,me,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,Qt)!=null}get method(){return d(this,hn)?d(this,hn):this.hasBody()?"POST":"GET"}set method(t){t==null&amp;&amp;(t=""),w(this,hn,String(t).toUpperCase())}get headers(){const t=Object.assign({},d(this,Fe));return d(this,dn)&amp;&amp;(t.authorization=`Basic ${_p(xn(d(this,dn)))}`),this.allowGzip&amp;&amp;(t["accept-encoding"]="gzip"),t["content-type"]==null&amp;&amp;d(this,me)&amp;&amp;(t["content-type"]=d(this,me)),this.body&amp;&amp;(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){d(this,Fe)[String(t).toLowerCase()]=String(e)}clearHeaders(){w(this,Fe,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let s=0;return{next:()=&gt;{if(s&lt;e.length){const r=e[s++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,dn)||null}setCredentials(t,e){E(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,dn,`${t}:${e}`)}get allowGzip(){return d(this,vr)}set allowGzip(t){w(this,vr,!!t)}get allowInsecureAuthentication(){return!!d(this,br)}set allowInsecureAuthentication(t){w(this,br,!!t)}get timeout(){return d(this,Er)}set timeout(t){E(t&gt;=0,"timeout must be non-zero","timeout",t),w(this,Er,t)}get preflightFunc(){return d(this,As)||null}set preflightFunc(t){w(this,As,t)}get processFunc(){return d(this,bs)||null}set processFunc(t){w(this,bs,t)}get retryFunc(){return d(this,vs)||null}set retryFunc(t){w(this,vs,t)}toString(){return`&lt;FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,Qt)?z(d(this,Qt)):"null"}&gt;`}setThrottleParams(t){t.slotInterval!=null&amp;&amp;(d(this,pn).slotInterval=t.slotInterval),t.maxAttempts!=null&amp;&amp;(d(this,pn).maxAttempts=t.maxAttempts)}send(){return _(d(this,Ze)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,Ze,new Qp(this)),D(this,Es,Ei).call(this,0,nu()+this.timeout,0,this,new is(0,"",{},null,this))}cancel(){_(d(this,Ze)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=ih.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),s=t.split(":")[0].toLowerCase();_(this.method==="GET"&amp;&amp;(e!=="https"||s!=="http")&amp;&amp;t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} =&gt; ${JSON.stringify(t)})`});const r=new ga(t);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,w(r,Fe,Object.assign({},d(this,Fe))),d(this,Qt)&amp;&amp;w(r,Qt,new Uint8Array(d(this,Qt))),w(r,me,d(this,me)),r}clone(){const t=new ga(this.url);return w(t,hn,d(this,hn)),d(this,Qt)&amp;&amp;w(t,Qt,d(this,Qt)),w(t,me,d(this,me)),w(t,Fe,Object.assign({},d(this,Fe))),w(t,dn,d(this,dn)),this.allowGzip&amp;&amp;(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&amp;&amp;(t.allowInsecureAuthentication=!0),w(t,As,d(this,As)),w(t,bs,d(this,bs)),w(t,vs,d(this,vs)),t}static lockConfig(){Ha=!0}static getGateway(t){return ko[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Ha)throw new Error("gateways locked");ko[t]=e}static registerGetUrl(t){if(Ha)throw new Error("gateways locked");eu=t}static createDataGateway(){return sh}static createIpfsGatewayFunc(t){return rh(t)}};br=new WeakMap,vr=new WeakMap,Fe=new WeakMap,hn=new WeakMap,Er=new WeakMap,kr=new WeakMap,Qt=new WeakMap,me=new WeakMap,dn=new WeakMap,As=new WeakMap,bs=new WeakMap,vs=new WeakMap,Ze=new WeakMap,pn=new WeakMap,Es=new WeakSet,Ei=async function(t,e,s,r,i){var u,f,h;if(t&gt;=d(this,pn).maxAttempts)return i.makeServerError("exceeded maximum retry limit");_(nu()&lt;=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),s&gt;0&amp;&amp;await zp(s);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in ko){const p=await ko[a](o.url,Co(d(r,Ze)));if(p instanceof is){let m=p;if(this.processFunc){Co(d(r,Ze));try{m=await this.processFunc(o,m)}catch(A){(A.throttle==null||typeof A.stall!="number")&amp;&amp;m.makeServerError("error in post-processing function",A).assertOk()}}return m}o=p}this.preflightFunc&amp;&amp;(o=await this.preflightFunc(o));const c=await eu(o,Co(d(r,Ze)));let l=new is(c.statusCode,c.statusMessage,c.headers,c.body,r);if(l.statusCode===301||l.statusCode===302){try{const p=l.headers.location||"";return D(u=o.redirect(p),Es,Ei).call(u,t+1,e,0,r,l)}catch{}return l}else if(l.statusCode===429&amp;&amp;(this.retryFunc==null||await this.retryFunc(o,l,t))){const p=l.headers["retry-after"];let m=d(this,pn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof p=="string"&amp;&amp;p.match(/^[1-9][0-9]*$/)&amp;&amp;(m=parseInt(p)),D(f=o.clone(),Es,Ei).call(f,t+1,e,m,r,l)}if(this.processFunc){Co(d(r,Ze));try{l=await this.processFunc(o,l)}catch(p){(p.throttle==null||typeof p.stall!="number")&amp;&amp;l.makeServerError("error in post-processing function",p).assertOk();let m=d(this,pn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return p.stall&gt;=0&amp;&amp;(m=p.stall),D(h=o.clone(),Es,Ei).call(h,t+1,e,m,r,l)}}return l};let Sn=ga;var Wi,Zi,Xi,De,Cr,ks;const Rl=class Rl{constructor(t,e,s,r,i){S(this,Wi,void 0);S(this,Zi,void 0);S(this,Xi,void 0);S(this,De,void 0);S(this,Cr,void 0);S(this,ks,void 0);w(this,Wi,t),w(this,Zi,e),w(this,Xi,Object.keys(s).reduce((o,a)=&gt;(o[a.toLowerCase()]=String(s[a]),o),{})),w(this,De,r==null?null:new Uint8Array(r)),w(this,Cr,i||null),w(this,ks,{message:""})}toString(){return`&lt;FetchResponse status=${this.statusCode} body=${d(this,De)?z(d(this,De)):"null"}&gt;`}get statusCode(){return d(this,Wi)}get statusMessage(){return d(this,Zi)}get headers(){return Object.assign({},d(this,Xi))}get body(){return d(this,De)==null?null:new Uint8Array(d(this,De))}get bodyText(){try{return d(this,De)==null?"":bl(d(this,De))}catch{_(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{_(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let s=0;return{next:()=&gt;{if(s&lt;e.length){const r=e[s++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let s;t?s=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,s=`CLIENT ESCALATED SERVER ERROR (${t})`);const r=new Rl(599,s,this.headers,this.body,d(this,Cr)||void 0);return w(r,ks,{message:t,error:e}),r}throwThrottleError(t,e){e==null?e=-1:E(Number.isInteger(e)&amp;&amp;e&gt;=0,"invalid stall timeout","stall",e);const s=new Error(t||"throttling requests");throw $(s,{stall:e,throttle:!0}),s}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return d(this,De)!=null}get request(){return d(this,Cr)}ok(){return d(this,ks).message===""&amp;&amp;this.statusCode&gt;=200&amp;&amp;this.statusCode&lt;300}assertOk(){if(this.ok())return;let{message:t,error:e}=d(this,ks);t===""&amp;&amp;(t=`server response ${this.statusCode} ${this.statusMessage}`),_(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};Wi=new WeakMap,Zi=new WeakMap,Xi=new WeakMap,De=new WeakMap,Cr=new WeakMap,ks=new WeakMap;let is=Rl;function nu(){return new Date().getTime()}function Vp(n){return xn(n.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=&gt;String.fromCharCode(parseInt(e,16))))}function zp(n){return new Promise(t=&gt;setTimeout(t,n))}function Jp(n){let t=n.toString(16);for(;t.length&lt;2;)t="0"+t;return"0x"+t}function su(n,t,e){let s=0;for(let r=0;r&lt;e;r++)s=s*256+n[t+r];return s}function ru(n,t,e,s){const r=[];for(;e&lt;t+1+s;){const i=oh(n,e);r.push(i.result),e+=i.consumed,_(e&lt;=t+1+s,"child data too short","BUFFER_OVERRUN",{buffer:n,length:s,offset:t})}return{consumed:1+s,result:r}}function oh(n,t){_(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const e=s=&gt;{_(s&lt;=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:s})};if(n[t]&gt;=248){const s=n[t]-247;e(t+1+s);const r=su(n,t+1,s);return e(t+1+s+r),ru(n,t,t+1+s,s+r)}else if(n[t]&gt;=192){const s=n[t]-192;return e(t+1+s),ru(n,t,t+1,s)}else if(n[t]&gt;=184){const s=n[t]-183;e(t+1+s);const r=su(n,t+1,s);e(t+1+s+r);const i=z(n.slice(t+1+s,t+1+s+r));return{consumed:1+s+r,result:i}}else if(n[t]&gt;=128){const s=n[t]-128;e(t+1+s);const r=z(n.slice(t+1,t+1+s));return{consumed:1+s,result:r}}return{consumed:1,result:Jp(n[t])}}function vl(n){const t=gt(n,"data"),e=oh(t,0);return E(e.consumed===t.length,"unexpected junk after rlp payload","data",n),e.result}function iu(n){const t=[];for(;n;)t.unshift(n&amp;255),n&gt;&gt;=8;return t}function ah(n){if(Array.isArray(n)){let s=[];if(n.forEach(function(i){s=s.concat(ah(i))}),s.length&lt;=55)return s.unshift(192+s.length),s;const r=iu(s.length);return r.unshift(247+r.length),r.concat(s)}const t=Array.prototype.slice.call(gt(n,"object"));if(t.length===1&amp;&amp;t[0]&lt;=127)return t;if(t.length&lt;=55)return t.unshift(128+t.length),t;const e=iu(t.length);return e.unshift(183+e.length),e.concat(t)}const ou="0123456789abcdef";function Ri(n){let t="0x";for(const e of ah(n))t+=ou[e&gt;&gt;4],t+=ou[e&amp;15];return t}const se=32,ac=new Uint8Array(se),Kp=["then"],Po={};function wi(n,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw e.error=t,e}var Vn;const _i=class _i extends Array{constructor(...e){const s=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;s!==Po&amp;&amp;(r=e,i=[],o=!1);super(r.length);S(this,Vn,void 0);r.forEach((c,l)=&gt;{this[l]=c});const a=i.reduce((c,l)=&gt;(typeof l=="string"&amp;&amp;c.set(l,(c.get(l)||0)+1),c),new Map);if(w(this,Vn,Object.freeze(r.map((c,l)=&gt;{const u=i[l];return u!=null&amp;&amp;a.get(u)===1?u:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(c,l,u)=&gt;{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const h=ct(l,"%index");if(h&lt;0||h&gt;=this.length)throw new RangeError("out of result range");const p=c[h];return p instanceof Error&amp;&amp;wi(`index ${h}`,p),p}if(Kp.indexOf(l)&gt;=0)return Reflect.get(c,l,u);const f=c[l];if(f instanceof Function)return function(...h){return f.apply(this===u?c:this,h)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}})}toArray(){const e=[];return this.forEach((s,r)=&gt;{s instanceof Error&amp;&amp;wi(`index ${r}`,s),e.push(s)}),e}toObject(){return d(this,Vn).reduce((e,s,r)=&gt;(_(s!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),s in e||(e[s]=this.getValue(s)),e),{})}slice(e,s){e==null&amp;&amp;(e=0),e&lt;0&amp;&amp;(e+=this.length,e&lt;0&amp;&amp;(e=0)),s==null&amp;&amp;(s=this.length),s&lt;0&amp;&amp;(s+=this.length,s&lt;0&amp;&amp;(s=0)),s&gt;this.length&amp;&amp;(s=this.length);const r=[],i=[];for(let o=e;o&lt;s;o++)r.push(this[o]),i.push(d(this,Vn)[o]);return new _i(Po,r,i)}filter(e,s){const r=[],i=[];for(let o=0;o&lt;this.length;o++){const a=this[o];a instanceof Error&amp;&amp;wi(`index ${o}`,a),e.call(s,a,o,this)&amp;&amp;(r.push(a),i.push(d(this,Vn)[o]))}return new _i(Po,r,i)}map(e,s){const r=[];for(let i=0;i&lt;this.length;i++){const o=this[i];o instanceof Error&amp;&amp;wi(`index ${i}`,o),r.push(e.call(s,o,i,this))}return r}getValue(e){const s=d(this,Vn).indexOf(e);if(s===-1)return;const r=this[s];return r instanceof Error&amp;&amp;wi(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,s){return new _i(Po,e,s)}};Vn=new WeakMap;let ta=_i;function au(n){let t=be(n);return _(t.length&lt;=se,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:se,offset:t.length}),t.length!==se&amp;&amp;(t=ue(Ft([ac.slice(t.length%se),t]))),t}class _n{constructor(t,e,s,r){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");$(this,{name:t,type:e,localName:s,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){E(!1,t,this.localName,e)}}var gn,Cs,Pr,Mo;class cc{constructor(){S(this,Pr);S(this,gn,void 0);S(this,Cs,void 0);w(this,gn,[]),w(this,Cs,0)}get data(){return Ft(d(this,gn))}get length(){return d(this,Cs)}appendWriter(t){return D(this,Pr,Mo).call(this,ue(t.data))}writeBytes(t){let e=ue(t);const s=e.length%se;return s&amp;&amp;(e=ue(Ft([e,ac.slice(s)]))),D(this,Pr,Mo).call(this,e)}writeValue(t){return D(this,Pr,Mo).call(this,au(t))}writeUpdatableValue(){const t=d(this,gn).length;return d(this,gn).push(ac),w(this,Cs,d(this,Cs)+se),e=&gt;{d(this,gn)[t]=au(e)}}}gn=new WeakMap,Cs=new WeakMap,Pr=new WeakSet,Mo=function(t){return d(this,gn).push(t),w(this,Cs,d(this,Cs)+t.length),t.length};var we,xe,ma,ch;const Ul=class Ul{constructor(t,e){S(this,ma);k(this,"allowLoose");S(this,we,void 0);S(this,xe,void 0);$(this,{allowLoose:!!e}),w(this,we,ue(t)),w(this,xe,0)}get data(){return z(d(this,we))}get dataLength(){return d(this,we).length}get consumed(){return d(this,xe)}get bytes(){return new Uint8Array(d(this,we))}subReader(t){return new Ul(d(this,we).slice(d(this,xe)+t),this.allowLoose)}readBytes(t,e){let s=D(this,ma,ch).call(this,0,t,!!e);return w(this,xe,d(this,xe)+s.length),s.slice(0,t)}readValue(){return Al(this.readBytes(se))}readIndex(){return Np(this.readBytes(se))}};we=new WeakMap,xe=new WeakMap,ma=new WeakSet,ch=function(t,e,s){let r=Math.ceil(e/se)*se;return d(this,xe)+r&gt;d(this,we).length&amp;&amp;(this.allowLoose&amp;&amp;s&amp;&amp;d(this,xe)+e&lt;=d(this,we).length?r=e:_(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ue(d(this,we)),length:d(this,we).length,offset:d(this,xe)+r})),d(this,we).slice(d(this,xe),d(this,xe)+r)};let lc=Ul;function uc(n){if(!Number.isSafeInteger(n)||n&lt;0)throw new Error(`Wrong positive integer: ${n}`)}function Yp(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function lh(n,...t){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length&gt;0&amp;&amp;!t.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function Wp(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");uc(n.outputLen),uc(n.blockLen)}function Zp(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&amp;&amp;n.finished)throw new Error("Hash#digest() has already been called")}function Xp(n,t){lh(n);const e=t.outputLen;if(n.length&lt;e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Ae={number:uc,bool:Yp,bytes:lh,hash:Wp,exists:Zp,output:Xp};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qp=n=&gt;new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Ga=n=&gt;new DataView(n.buffer,n.byteOffset,n.byteLength),We=(n,t)=&gt;n&lt;&lt;32-t|n&gt;&gt;&gt;t,$p=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$p)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(n,t)=&gt;t.toString(16).padStart(2,"0"));function tg(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function po(n){if(typeof n=="string"&amp;&amp;(n=tg(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}class ea{clone(){return this._cloneInto()}}function go(n){const t=s=&gt;n().update(po(s)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=&gt;n(),t}function eg(n){const t=(s,r)=&gt;n(r).update(po(s)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=s=&gt;n(s),t}class uh extends ea{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ae.hash(t);const s=po(e);if(this.iHash=t.create(),!(this.iHash instanceof ea))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(r);i.set(s.length&gt;this.iHash.blockLen?t.create().update(s).digest():s);for(let o=0;o&lt;i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o&lt;i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ae.exists(this),this.iHash.update(t),this}digestInto(t){Ae.exists(this),Ae.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:s,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fh=(n,t,e)=&gt;new uh(n,t).update(e).digest();fh.create=(n,t)=&gt;new uh(n,t);function ng(n,t,e,s){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,s);const r=BigInt(32),i=BigInt(4294967295),o=Number(e&gt;&gt;r&amp;i),a=Number(e&amp;i),c=s?4:0,l=s?0:4;n.setUint32(t+c,o,s),n.setUint32(t+l,a,s)}class hh extends ea{constructor(t,e,s,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ga(this.buffer)}update(t){Ae.exists(this);const{view:e,buffer:s,blockLen:r}=this;t=po(t);const i=t.length;for(let o=0;o&lt;i;){const a=Math.min(r-this.pos,i-o);if(a===r){const c=Ga(t);for(;r&lt;=i-o;o+=r)this.process(c,o);continue}s.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&amp;&amp;(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ae.exists(this),Ae.output(t,this),this.finished=!0;const{buffer:e,view:s,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset&gt;r-o&amp;&amp;(this.process(s,0),o=0);for(let c=o;c&lt;r;c++)e[c]=0;ng(s,r-8,BigInt(this.length*8),i),this.process(s,0);const a=Ga(t);this.get().forEach((c,l)=&gt;a.setUint32(4*l,c,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const s=t.slice(0,e);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:s,length:r,finished:i,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=i,t.destroyed=o,r%e&amp;&amp;t.buffer.set(s),t}}const sg=(n,t,e)=&gt;n&amp;t^~n&amp;e,rg=(n,t,e)=&gt;n&amp;t^n&amp;e^t&amp;e,ig=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=new Uint32Array(64);class og extends hh{constructor(){super(64,32,8,!1),this.A=Fn[0]|0,this.B=Fn[1]|0,this.C=Fn[2]|0,this.D=Fn[3]|0,this.E=Fn[4]|0,this.F=Fn[5]|0,this.G=Fn[6]|0,this.H=Fn[7]|0}get(){const{A:t,B:e,C:s,D:r,E:i,F:o,G:a,H:c}=this;return[t,e,s,r,i,o,a,c]}set(t,e,s,r,i,o,a,c){this.A=t|0,this.B=e|0,this.C=s|0,this.D=r|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let f=0;f&lt;16;f++,e+=4)Dn[f]=t.getUint32(e,!1);for(let f=16;f&lt;64;f++){const h=Dn[f-15],p=Dn[f-2],m=We(h,7)^We(h,18)^h&gt;&gt;&gt;3,A=We(p,17)^We(p,19)^p&gt;&gt;&gt;10;Dn[f]=A+Dn[f-7]+m+Dn[f-16]|0}let{A:s,B:r,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f&lt;64;f++){const h=We(a,6)^We(a,11)^We(a,25),p=u+h+sg(a,c,l)+ig[f]+Dn[f]|0,A=(We(s,2)^We(s,13)^We(s,22))+rg(s,r,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=r,r=s,s=p+A|0}s=s+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(s,r,i,o,a,c,l,u)}roundClean(){Dn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ag=go(()=&gt;new og),Io=BigInt(2**32-1),fc=BigInt(32);function dh(n,t=!1){return t?{h:Number(n&amp;Io),l:Number(n&gt;&gt;fc&amp;Io)}:{h:Number(n&gt;&gt;fc&amp;Io)|0,l:Number(n&amp;Io)|0}}function cg(n,t=!1){let e=new Uint32Array(n.length),s=new Uint32Array(n.length);for(let r=0;r&lt;n.length;r++){const{h:i,l:o}=dh(n[r],t);[e[r],s[r]]=[i,o]}return[e,s]}const lg=(n,t)=&gt;BigInt(n&gt;&gt;&gt;0)&lt;&lt;fc|BigInt(t&gt;&gt;&gt;0),ug=(n,t,e)=&gt;n&gt;&gt;&gt;e,fg=(n,t,e)=&gt;n&lt;&lt;32-e|t&gt;&gt;&gt;e,hg=(n,t,e)=&gt;n&gt;&gt;&gt;e|t&lt;&lt;32-e,dg=(n,t,e)=&gt;n&lt;&lt;32-e|t&gt;&gt;&gt;e,pg=(n,t,e)=&gt;n&lt;&lt;64-e|t&gt;&gt;&gt;e-32,gg=(n,t,e)=&gt;n&gt;&gt;&gt;e-32|t&lt;&lt;64-e,mg=(n,t)=&gt;t,wg=(n,t)=&gt;n,yg=(n,t,e)=&gt;n&lt;&lt;e|t&gt;&gt;&gt;32-e,Ag=(n,t,e)=&gt;t&lt;&lt;e|n&gt;&gt;&gt;32-e,bg=(n,t,e)=&gt;t&lt;&lt;e-32|n&gt;&gt;&gt;64-e,vg=(n,t,e)=&gt;n&lt;&lt;e-32|t&gt;&gt;&gt;64-e;function Eg(n,t,e,s){const r=(t&gt;&gt;&gt;0)+(s&gt;&gt;&gt;0);return{h:n+e+(r/2**32|0)|0,l:r|0}}const kg=(n,t,e)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0),Cg=(n,t,e,s)=&gt;t+e+s+(n/2**32|0)|0,Pg=(n,t,e,s)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(s&gt;&gt;&gt;0),Ig=(n,t,e,s,r)=&gt;t+e+s+r+(n/2**32|0)|0,xg=(n,t,e,s,r)=&gt;(n&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)+(e&gt;&gt;&gt;0)+(s&gt;&gt;&gt;0)+(r&gt;&gt;&gt;0),Ng=(n,t,e,s,r,i)=&gt;t+e+s+r+i+(n/2**32|0)|0,tt={fromBig:dh,split:cg,toBig:lg,shrSH:ug,shrSL:fg,rotrSH:hg,rotrSL:dg,rotrBH:pg,rotrBL:gg,rotr32H:mg,rotr32L:wg,rotlSH:yg,rotlSL:Ag,rotlBH:bg,rotlBL:vg,add:Eg,add3L:kg,add3H:Cg,add4L:Pg,add4H:Ig,add5H:Ng,add5L:xg},[Sg,Bg]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=&gt;BigInt(n))),Mn=new Uint32Array(80),Hn=new Uint32Array(80);class El extends hh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:s,Bl:r,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:p,Gl:m,Hh:A,Hl:C}=this;return[t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C]}set(t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C){this.Ah=t|0,this.Al=e|0,this.Bh=s|0,this.Bl=r|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=m|0,this.Hh=A|0,this.Hl=C|0}process(t,e){for(let P=0;P&lt;16;P++,e+=4)Mn[P]=t.getUint32(e),Hn[P]=t.getUint32(e+=4);for(let P=16;P&lt;80;P++){const B=Mn[P-15]|0,N=Hn[P-15]|0,O=tt.rotrSH(B,N,1)^tt.rotrSH(B,N,8)^tt.shrSH(B,N,7),H=tt.rotrSL(B,N,1)^tt.rotrSL(B,N,8)^tt.shrSL(B,N,7),J=Mn[P-2]|0,X=Hn[P-2]|0,U=tt.rotrSH(J,X,19)^tt.rotrBH(J,X,61)^tt.shrSH(J,X,6),st=tt.rotrSL(J,X,19)^tt.rotrBL(J,X,61)^tt.shrSL(J,X,6),ot=tt.add4L(H,st,Hn[P-7],Hn[P-16]),at=tt.add4H(ot,O,U,Mn[P-7],Mn[P-16]);Mn[P]=at|0,Hn[P]=ot|0}let{Ah:s,Al:r,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:p,Fl:m,Gh:A,Gl:C,Hh:I,Hl:x}=this;for(let P=0;P&lt;80;P++){const B=tt.rotrSH(f,h,14)^tt.rotrSH(f,h,18)^tt.rotrBH(f,h,41),N=tt.rotrSL(f,h,14)^tt.rotrSL(f,h,18)^tt.rotrBL(f,h,41),O=f&amp;p^~f&amp;A,H=h&amp;m^~h&amp;C,J=tt.add5L(x,N,H,Bg[P],Hn[P]),X=tt.add5H(J,I,B,O,Sg[P],Mn[P]),U=J|0,st=tt.rotrSH(s,r,28)^tt.rotrBH(s,r,34)^tt.rotrBH(s,r,39),ot=tt.rotrSL(s,r,28)^tt.rotrBL(s,r,34)^tt.rotrBL(s,r,39),at=s&amp;i^s&amp;a^i&amp;a,lt=r&amp;o^r&amp;c^o&amp;c;I=A|0,x=C|0,A=p|0,C=m|0,p=f|0,m=h|0,{h:f,l:h}=tt.add(l|0,u|0,X|0,U|0),l=a|0,u=c|0,a=i|0,c=o|0,i=s|0,o=r|0;const rt=tt.add3L(U,ot,lt);s=tt.add3H(rt,X,st,at),r=rt|0}({h:s,l:r}=tt.add(this.Ah|0,this.Al|0,s|0,r|0)),{h:i,l:o}=tt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=tt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=tt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=tt.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:m}=tt.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:A,l:C}=tt.add(this.Gh|0,this.Gl|0,A|0,C|0),{h:I,l:x}=tt.add(this.Hh|0,this.Hl|0,I|0,x|0),this.set(s,r,i,o,a,c,l,u,f,h,p,m,A,C,I,x)}roundClean(){Mn.fill(0),Hn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Tg extends El{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class _g extends El{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Og=go(()=&gt;new El);go(()=&gt;new Tg);go(()=&gt;new _g);function Lg(){if(typeof self&lt;"u")return self;if(typeof window&lt;"u")return window;if(typeof global&lt;"u")return global;throw new Error("unable to locate global object")}const cu=Lg();cu.crypto||cu.msCrypto;function Rg(n,t){const e={sha256:ag,sha512:Og}[n];return E(e!=null,"invalid hmac algorithm","algorithm",n),fh.create(e,t)}let ph=!1;const gh=function(n,t,e){return Rg(n,t).update(e).digest()};let mh=gh;function mo(n,t,e){const s=gt(t,"key"),r=gt(e,"data");return z(mh(n,s,r))}mo._=gh;mo.lock=function(){ph=!0};mo.register=function(n){if(ph)throw new Error("computeHmac is locked");mh=n};Object.freeze(mo);const[wh,yh,Ah]=[[],[],[]],Ug=BigInt(0),yi=BigInt(1),Fg=BigInt(2),Dg=BigInt(7),Mg=BigInt(256),Hg=BigInt(113);for(let n=0,t=yi,e=1,s=0;n&lt;24;n++){[e,s]=[s,(2*e+3*s)%5],wh.push(2*(5*s+e)),yh.push((n+1)*(n+2)/2%64);let r=Ug;for(let i=0;i&lt;7;i++)t=(t&lt;&lt;yi^(t&gt;&gt;Dg)*Hg)%Mg,t&amp;Fg&amp;&amp;(r^=yi&lt;&lt;(yi&lt;&lt;BigInt(i))-yi);Ah.push(r)}const[Gg,jg]=tt.split(Ah,!0),lu=(n,t,e)=&gt;e&gt;32?tt.rotlBH(n,t,e):tt.rotlSH(n,t,e),uu=(n,t,e)=&gt;e&gt;32?tt.rotlBL(n,t,e):tt.rotlSL(n,t,e);function Qg(n,t=24){const e=new Uint32Array(10);for(let s=24-t;s&lt;24;s++){for(let o=0;o&lt;10;o++)e[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o&lt;10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=e[c],u=e[c+1],f=lu(l,u,1)^e[a],h=uu(l,u,1)^e[a+1];for(let p=0;p&lt;50;p+=10)n[o+p]^=f,n[o+p+1]^=h}let r=n[2],i=n[3];for(let o=0;o&lt;24;o++){const a=yh[o],c=lu(r,i,a),l=uu(r,i,a),u=wh[o];r=n[u],i=n[u+1],n[u]=c,n[u+1]=l}for(let o=0;o&lt;50;o+=10){for(let a=0;a&lt;10;a++)e[a]=n[o+a];for(let a=0;a&lt;10;a++)n[o+a]^=~e[(a+2)%10]&amp;e[(a+4)%10]}n[0]^=Gg[s],n[1]^=jg[s]}e.fill(0)}class Ia extends ea{constructor(t,e,s,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=s,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ae.number(s),0&gt;=this.blockLen||this.blockLen&gt;=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=qp(this.state)}keccak(){Qg(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ae.exists(this);const{blockLen:e,state:s}=this;t=po(t);const r=t.length;for(let i=0;i&lt;r;){const o=Math.min(e-this.pos,r-i);for(let a=0;a&lt;o;a++)s[this.pos++]^=t[i++];this.pos===e&amp;&amp;this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:s,blockLen:r}=this;t[s]^=e,e&amp;128&amp;&amp;s===r-1&amp;&amp;this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){Ae.exists(this,!1),Ae.bytes(t),this.finish();const e=this.state,{blockLen:s}=this;for(let r=0,i=t.length;r&lt;i;){this.posOut&gt;=s&amp;&amp;this.keccak();const o=Math.min(s-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ae.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ae.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:s,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new Ia(e,s,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=s,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const us=(n,t,e)=&gt;go(()=&gt;new Ia(t,n,e));us(6,144,224/8);us(6,136,256/8);us(6,104,384/8);us(6,72,512/8);us(1,144,224/8);const Vg=us(1,136,256/8);us(1,104,384/8);us(1,72,512/8);const bh=(n,t,e)=&gt;eg((s={})=&gt;new Ia(t,n,s.dkLen===void 0?e:s.dkLen,!0));bh(31,168,128/8);bh(31,136,256/8);let vh=!1;const Eh=function(n){return Vg(n)};let kh=Eh;function Nt(n){const t=gt(n,"data");return z(kh(t))}Nt._=Eh;Nt.lock=function(){vh=!0};Nt.register=function(n){if(vh)throw new TypeError("keccak256 is locked");kh=n};Object.freeze(Nt);const zg=new Proxy({},{get(n,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),Jg=Object.freeze(Object.defineProperty({__proto__:null,default:zg},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const dt=BigInt(0),Pt=BigInt(1),ss=BigInt(2),Ni=BigInt(3),fu=BigInt(8),Ut=Object.freeze({a:dt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Pt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),hu=(n,t)=&gt;(n+t/ss)/t,xo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(n){const{n:t}=Ut,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Pt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=hu(i*n,t),c=hu(-s*n,t);let l=j(n-a*e-c*r,t),u=j(-a*s-c*i,t);const f=l&gt;o,h=u&gt;o;if(f&amp;&amp;(l=t-l),h&amp;&amp;(u=t-u),l&gt;o||u&gt;o)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:f,k1:l,k2neg:h,k2:u}}},je=32,ri=32,Kg=32,na=je+1,sa=2*je+1;function du(n){const{a:t,b:e}=Ut,s=j(n*n),r=j(s*n);return j(r+t*n+e)}const No=Ut.a===dt;class Ch extends Error{constructor(t){super(t)}}function pu(n){if(!(n instanceof yt))throw new TypeError("JacobianPoint expected")}class yt{constructor(t,e,s){this.x=t,this.y=e,this.z=s}static fromAffine(t){if(!(t instanceof bt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(bt.ZERO)?yt.ZERO:new yt(t.x,t.y,Pt)}static toAffineBatch(t){const e=qg(t.map(s=&gt;s.z));return t.map((s,r)=&gt;s.toAffine(e[r]))}static normalizeZ(t){return yt.toAffineBatch(t).map(yt.fromAffine)}equals(t){pu(t);const{x:e,y:s,z:r}=this,{x:i,y:o,z:a}=t,c=j(r*r),l=j(a*a),u=j(e*l),f=j(i*c),h=j(j(s*a)*l),p=j(j(o*r)*c);return u===f&amp;&amp;h===p}negate(){return new yt(this.x,j(-this.y),this.z)}double(){const{x:t,y:e,z:s}=this,r=j(t*t),i=j(e*e),o=j(i*i),a=t+i,c=j(ss*(j(a*a)-r-o)),l=j(Ni*r),u=j(l*l),f=j(u-ss*c),h=j(l*(c-f)-fu*o),p=j(ss*e*s);return new yt(f,h,p)}add(t){pu(t);const{x:e,y:s,z:r}=this,{x:i,y:o,z:a}=t;if(i===dt||o===dt)return this;if(e===dt||s===dt)return t;const c=j(r*r),l=j(a*a),u=j(e*l),f=j(i*c),h=j(j(s*a)*l),p=j(j(o*r)*c),m=j(f-u),A=j(p-h);if(m===dt)return A===dt?this.double():yt.ZERO;const C=j(m*m),I=j(m*C),x=j(u*C),P=j(A*A-I-ss*x),B=j(A*(x-P)-h*I),N=j(r*a*m);return new yt(P,B,N)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=yt.ZERO;if(typeof t=="bigint"&amp;&amp;t===dt)return e;let s=wu(t);if(s===Pt)return this;if(!No){let f=e,h=this;for(;s&gt;dt;)s&amp;Pt&amp;&amp;(f=f.add(h)),h=h.double(),s&gt;&gt;=Pt;return f}let{k1neg:r,k1:i,k2neg:o,k2:a}=xo.splitScalar(s),c=e,l=e,u=this;for(;i&gt;dt||a&gt;dt;)i&amp;Pt&amp;&amp;(c=c.add(u)),a&amp;Pt&amp;&amp;(l=l.add(u)),u=u.double(),i&gt;&gt;=Pt,a&gt;&gt;=Pt;return r&amp;&amp;(c=c.negate()),o&amp;&amp;(l=l.negate()),l=new yt(j(l.x*xo.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const e=No?128/t+1:256/t+1,s=[];let r=this,i=r;for(let o=0;o&lt;e;o++){i=r,s.push(i);for(let a=1;a&lt;2**(t-1);a++)i=i.add(r),s.push(i);r=i.double()}return s}wNAF(t,e){!e&amp;&amp;this.equals(yt.BASE)&amp;&amp;(e=bt.BASE);const s=e&amp;&amp;e._WINDOW_SIZE||1;if(256%s)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&amp;&amp;hc.get(e);r||(r=this.precomputeWindow(s),e&amp;&amp;s!==1&amp;&amp;(r=yt.normalizeZ(r),hc.set(e,r)));let i=yt.ZERO,o=yt.BASE;const a=1+(No?128/s:256/s),c=2**(s-1),l=BigInt(2**s-1),u=2**s,f=BigInt(s);for(let h=0;h&lt;a;h++){const p=h*c;let m=Number(t&amp;l);t&gt;&gt;=f,m&gt;c&amp;&amp;(m-=u,t+=Pt);const A=p,C=p+Math.abs(m)-1,I=h%2!==0,x=m&lt;0;m===0?o=o.add(So(I,r[A])):i=i.add(So(x,r[C]))}return{p:i,f:o}}multiply(t,e){let s=wu(t),r,i;if(No){const{k1neg:o,k1:a,k2neg:c,k2:l}=xo.splitScalar(s);let{p:u,f}=this.wNAF(a,e),{p:h,f:p}=this.wNAF(l,e);u=So(o,u),h=So(c,h),h=new yt(j(h.x*xo.beta),h.y,h.z),r=u.add(h),i=f.add(p)}else{const{p:o,f:a}=this.wNAF(s,e);r=o,i=a}return yt.normalizeZ([r,i])[0]}toAffine(t){const{x:e,y:s,z:r}=this,i=this.equals(yt.ZERO);t==null&amp;&amp;(t=i?fu:wo(r));const o=t,a=j(o*o),c=j(a*o),l=j(e*a),u=j(s*c),f=j(r*o);if(i)return bt.ZERO;if(f!==Pt)throw new Error("invZ was invalid");return new bt(l,u)}}yt.BASE=new yt(Ut.Gx,Ut.Gy,Pt);yt.ZERO=new yt(dt,Pt,dt);function So(n,t){const e=t.negate();return n?e:t}const hc=new WeakMap;class bt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,hc.delete(this)}hasEvenY(){return this.y%ss===dt}static fromCompressedHex(t){const e=t.length===32,s=os(e?t:t.subarray(1));if(!ja(s))throw new Error("Point is not on curve");const r=du(s);let i=Xg(r);const o=(i&amp;Pt)===Pt;e?o&amp;&amp;(i=j(-i)):(t[0]&amp;1)===1!==o&amp;&amp;(i=j(-i));const a=new bt(s,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=os(t.subarray(1,je+1)),s=os(t.subarray(je+1,je*2+1)),r=new bt(e,s);return r.assertValidity(),r}static fromHex(t){const e=Ui(t),s=e.length,r=e[0];if(s===je)return this.fromCompressedHex(e);if(s===na&amp;&amp;(r===2||r===3))return this.fromCompressedHex(e);if(s===sa&amp;&amp;r===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${na} compressed bytes or ${sa} uncompressed bytes, not ${s}`)}static fromPrivateKey(t){return bt.BASE.multiply(Di(t))}static fromSignature(t,e,s){const{r,s:i}=sm(e);if(![0,1,2,3].includes(s))throw new Error("Cannot recover: invalid recovery bit");const o=Ph(Ui(t)),{n:a}=Ut,c=s===2||s===3?r+a:r,l=wo(c,a),u=j(-o*l,a),f=j(i*l,a),h=s&amp;1?"03":"02",p=bt.fromHex(h+mr(c)),m=bt.BASE.multiplyAndAddUnsafe(p,u,f);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(t=!1){return Fs(this.toHex(t))}toHex(t=!1){const e=mr(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${mr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:s}=this;if(!ja(e)||!ja(s))throw new Error(t);const r=j(s*s),i=du(e);if(j(r-i)!==dt)throw new Error(t)}equals(t){return this.x===t.x&amp;&amp;this.y===t.y}negate(){return new bt(this.x,j(-this.y))}double(){return yt.fromAffine(this).double().toAffine()}add(t){return yt.fromAffine(this).add(yt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return yt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,s){const r=yt.fromAffine(this),i=e===dt||e===Pt||this!==bt.BASE?r.multiplyUnsafe(e):r.multiply(e),o=yt.fromAffine(t).multiplyUnsafe(s),a=i.add(o);return a.equals(yt.ZERO)?void 0:a.toAffine()}}bt.BASE=new bt(Ut.Gx,Ut.Gy);bt.ZERO=new bt(dt,dt);function gu(n){return Number.parseInt(n[0],16)&gt;=8?"00"+n:n}function mu(n){if(n.length&lt;2||n[0]!==2)throw new Error(`Invalid signature integer tag: ${ii(n)}`);const t=n[1],e=n.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&amp;&amp;e[1]&lt;=127)throw new Error("Invalid signature integer: trailing length");return{data:os(e),left:n.subarray(t+2)}}function Yg(n){if(n.length&lt;2||n[0]!=48)throw new Error(`Invalid signature tag: ${ii(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=mu(n.subarray(2)),{data:s,left:r}=mu(e);if(r.length)throw new Error(`Invalid signature: left bytes after parsing: ${ii(r)}`);return{r:t,s}}let gr=class Ho{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,s="Signature.fromCompact";if(typeof t!="string"&amp;&amp;!e)throw new TypeError(`${s}: Expected string or Uint8Array`);const r=e?ii(t):t;if(r.length!==128)throw new Error(`${s}: Expected 64-byte hex`);return new Ho(ra(r.slice(0,64)),ra(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&amp;&amp;!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:s,s:r}=Yg(e?t:Fs(t));return new Ho(s,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Fi(t))throw new Error("Invalid Signature: r must be 0 &lt; r &lt; n");if(!Fi(e))throw new Error("Invalid Signature: s must be 0 &lt; s &lt; n")}hasHighS(){const t=Ut.n&gt;&gt;Pt;return this.s&gt;t}normalizeS(){return this.hasHighS()?new Ho(this.r,j(-this.s,Ut.n)):this}toDERRawBytes(){return Fs(this.toDERHex())}toDERHex(){const t=gu(Ai(this.s)),e=gu(Ai(this.r)),s=t.length/2,r=e.length/2,i=Ai(s),o=Ai(r);return`30${Ai(r+s+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Fs(this.toCompactHex())}toCompactHex(){return mr(this.r)+mr(this.s)}};function jn(...n){if(!n.every(s=&gt;s instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const t=n.reduce((s,r)=&gt;s+r.length,0),e=new Uint8Array(t);for(let s=0,r=0;s&lt;n.length;s++){const i=n[s];e.set(i,r),r+=i.length}return e}const Wg=Array.from({length:256},(n,t)=&gt;t.toString(16).padStart(2,"0"));function ii(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e&lt;n.length;e++)t+=Wg[n[e]];return t}const Zg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function mr(n){if(typeof n!="bigint")throw new Error("Expected bigint");if(!(dt&lt;=n&amp;&amp;n&lt;Zg))throw new Error("Expected number 0 &lt;= n &lt; 2^256");return n.toString(16).padStart(64,"0")}function dc(n){const t=Fs(mr(n));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Ai(n){const t=n.toString(16);return t.length&amp;1?`0${t}`:t}function ra(n){if(typeof n!="string")throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function Fs(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const t=new Uint8Array(n.length/2);for(let e=0;e&lt;t.length;e++){const s=e*2,r=n.slice(s,s+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i&lt;0)throw new Error("Invalid byte sequence");t[e]=i}return t}function os(n){return ra(ii(n))}function Ui(n){return n instanceof Uint8Array?Uint8Array.from(n):Fs(n)}function wu(n){if(typeof n=="number"&amp;&amp;Number.isSafeInteger(n)&amp;&amp;n&gt;0)return BigInt(n);if(typeof n=="bigint"&amp;&amp;Fi(n))return n;throw new TypeError("Expected valid private scalar: 0 &lt; scalar &lt; curve.n")}function j(n,t=Ut.P){const e=n%t;return e&gt;=dt?e:t+e}function ke(n,t){const{P:e}=Ut;let s=n;for(;t-- &gt;dt;)s*=s,s%=e;return s}function Xg(n){const{P:t}=Ut,e=BigInt(6),s=BigInt(11),r=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=n*n*n%t,l=c*c*n%t,u=ke(l,Ni)*l%t,f=ke(u,Ni)*l%t,h=ke(f,ss)*c%t,p=ke(h,s)*h%t,m=ke(p,r)*p%t,A=ke(m,o)*m%t,C=ke(A,a)*A%t,I=ke(C,o)*m%t,x=ke(I,Ni)*l%t,P=ke(x,i)*p%t,B=ke(P,e)*c%t,N=ke(B,ss);if(N*N%t!==n)throw new Error("Cannot find square root");return N}function wo(n,t=Ut.P){if(n===dt||t&lt;=dt)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=j(n,t),s=t,r=dt,i=Pt;for(;e!==dt;){const a=s/e,c=s%e,l=r-i*a;s=e,e=c,r=i,i=l}if(s!==Pt)throw new Error("invert: does not exist");return j(r,t)}function qg(n,t=Ut.P){const e=new Array(n.length),s=n.reduce((i,o,a)=&gt;o===dt?i:(e[a]=i,j(i*o,t)),Pt),r=wo(s,t);return n.reduceRight((i,o,a)=&gt;o===dt?i:(e[a]=j(i*e[a],t),j(i*o,t)),r),e}function $g(n){const t=n.length*8-ri*8,e=os(n);return t&gt;0?e&gt;&gt;BigInt(t):e}function Ph(n,t=!1){const e=$g(n);if(t)return e;const{n:s}=Ut;return e&gt;=s?e-s:e}let wr,Si;class tm{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t&lt;2)throw new Error("hashLen must be a number");if(typeof e!="number"||e&lt;2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return rs.hmacSha256(this.k,...t)}hmacSync(...t){return Si(this.k,...t)}checkSync(){if(typeof Si!="function")throw new Ch("hmacSha256Sync needs to be set")}incr(){if(this.counter&gt;=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&amp;&amp;(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&amp;&amp;(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=await this.hmac(this.v);const s=this.v.slice();e.push(s),t+=this.v.length}return jn(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t&lt;this.qByteLen;){this.v=this.hmacSync(this.v);const s=this.v.slice();e.push(s),t+=this.v.length}return jn(...e)}}function Fi(n){return dt&lt;n&amp;&amp;n&lt;Ut.n}function ja(n){return dt&lt;n&amp;&amp;n&lt;Ut.P}function em(n,t,e,s=!0){const{n:r}=Ut,i=Ph(n,!0);if(!Fi(i))return;const o=wo(i,r),a=bt.BASE.multiply(i),c=j(a.x,r);if(c===dt)return;const l=j(o*j(t+e*c,r),r);if(l===dt)return;let u=new gr(c,l),f=(a.x===u.r?0:2)|Number(a.y&amp;Pt);return s&amp;&amp;u.hasHighS()&amp;&amp;(u=u.normalizeS(),f^=1),{sig:u,recovery:f}}function Di(n){let t;if(typeof n=="bigint")t=n;else if(typeof n=="number"&amp;&amp;Number.isSafeInteger(n)&amp;&amp;n&gt;0)t=BigInt(n);else if(typeof n=="string"){if(n.length!==2*ri)throw new Error("Expected 32 bytes of private key");t=ra(n)}else if(n instanceof Uint8Array){if(n.length!==ri)throw new Error("Expected 32 bytes of private key");t=os(n)}else throw new TypeError("Expected valid private key");if(!Fi(t))throw new Error("Expected private key: 0 &lt; key &lt; n");return t}function nm(n){return n instanceof bt?(n.assertValidity(),n):bt.fromHex(n)}function sm(n){if(n instanceof gr)return n.assertValidity(),n;try{return gr.fromDER(n)}catch{return gr.fromCompact(n)}}function rm(n,t=!1){return bt.fromPrivateKey(n).toRawBytes(t)}function im(n,t,e,s=!1){return bt.fromSignature(n,t,e).toRawBytes(s)}function yu(n){const t=n instanceof Uint8Array,e=typeof n=="string",s=(t||e)&amp;&amp;n.length;return t?s===na||s===sa:e?s===na*2||s===sa*2:n instanceof bt}function om(n,t,e=!1){if(yu(n))throw new TypeError("getSharedSecret: first arg must be private key");if(!yu(t))throw new TypeError("getSharedSecret: second arg must be public key");const s=nm(t);return s.assertValidity(),s.multiply(Di(n)).toRawBytes(e)}function Ih(n){const t=n.length&gt;je?n.slice(0,je):n;return os(t)}function am(n){const t=Ih(n),e=j(t,Ut.n);return xh(e&lt;dt?t:e)}function xh(n){return dc(n)}function cm(n,t,e){if(n==null)throw new Error(`sign: expected valid message hash, not "${n}"`);const s=Ui(n),r=Di(t),i=[xh(r),am(s)];if(e!=null){e===!0&amp;&amp;(e=rs.randomBytes(je));const c=Ui(e);if(c.length!==je)throw new Error(`sign: Expected ${je} bytes of extra data`);i.push(c)}const o=jn(...i),a=Ih(s);return{seed:o,m:a,d:r}}function lm(n,t){const{sig:e,recovery:s}=n,{der:r,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=r?e.toDERRawBytes():e.toCompactRawBytes();return i?[o,s]:o}function um(n,t,e={}){const{seed:s,m:r,d:i}=cm(n,t,e.extraEntropy),o=new tm(Kg,ri);o.reseedSync(s);let a;for(;!(a=em(o.generateSync(),r,i,e.canonical));)o.reseedSync();return lm(a,e)}bt.BASE._setWindowSize(8);const pe={node:Jg,web:typeof self=="object"&amp;&amp;"crypto"in self?self.crypto:void 0},Bo={},rs={bytesToHex:ii,hexToBytes:Fs,concatBytes:jn,mod:j,invert:wo,isValidPrivateKey(n){try{return Di(n),!0}catch{return!1}},_bigintTo32Bytes:dc,_normalizePrivateKey:Di,hashToPrivateKey:n=&gt;{n=Ui(n);const t=ri+8;if(n.length&lt;t||n.length&gt;1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=j(os(n),Ut.n-Pt)+Pt;return dc(e)},randomBytes:(n=32)=&gt;{if(pe.web)return pe.web.getRandomValues(new Uint8Array(n));if(pe.node){const{randomBytes:t}=pe.node;return Uint8Array.from(t(n))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=&gt;rs.hashToPrivateKey(rs.randomBytes(ri+8)),precompute(n=8,t=bt.BASE){const e=t===bt.BASE?t:new bt(t.x,t.y);return e._setWindowSize(n),e.multiply(Ni),e},sha256:async(...n)=&gt;{if(pe.web){const t=await pe.web.subtle.digest("SHA-256",jn(...n));return new Uint8Array(t)}else if(pe.node){const{createHash:t}=pe.node,e=t("sha256");return n.forEach(s=&gt;e.update(s)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...t)=&gt;{if(pe.web){const e=await pe.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=jn(...t),r=await pe.web.subtle.sign("HMAC",e,s);return new Uint8Array(r)}else if(pe.node){const{createHmac:e}=pe.node,s=e("sha256",n);return t.forEach(r=&gt;s.update(r)),Uint8Array.from(s.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...t)=&gt;{let e=Bo[n];if(e===void 0){const s=await rs.sha256(Uint8Array.from(n,r=&gt;r.charCodeAt(0)));e=jn(s,s),Bo[n]=e}return rs.sha256(e,...t)},taggedHashSync:(n,...t)=&gt;{if(typeof wr!="function")throw new Ch("sha256Sync is undefined, you need to set it");let e=Bo[n];if(e===void 0){const s=wr(Uint8Array.from(n,r=&gt;r.charCodeAt(0)));e=jn(s,s),Bo[n]=e}return wr(e,...t)},_JacobianPoint:yt};Object.defineProperties(rs,{sha256Sync:{configurable:!1,get(){return wr},set(n){wr||(wr=n)}},hmacSha256Sync:{configurable:!1,get(){return Si},set(n){Si||(Si=n)}}});const pc="0x0000000000000000000000000000000000000000",Au="0x0000000000000000000000000000000000000000000000000000000000000000",bu=BigInt(0),vu=BigInt(1),Eu=BigInt(2),ku=BigInt(27),Cu=BigInt(28),To=BigInt(35),$s={};function Pu(n){return Ms(be(n),32)}var Ir,xr,Nr,Ps;const Re=class Re{constructor(t,e,s,r){S(this,Ir,void 0);S(this,xr,void 0);S(this,Nr,void 0);S(this,Ps,void 0);ka(t,$s,"Signature"),w(this,Ir,e),w(this,xr,s),w(this,Nr,r),w(this,Ps,null)}get r(){return d(this,Ir)}set r(t){E(pr(t)===32,"invalid r","value",t),w(this,Ir,z(t))}get s(){return d(this,xr)}set s(t){E(pr(t)===32,"invalid s","value",t);const e=z(t);E(parseInt(e.substring(0,3))&lt;8,"non-canonical s","value",e),w(this,xr,e)}get v(){return d(this,Nr)}set v(t){const e=ct(t,"value");E(e===27||e===28,"invalid v","v",t),w(this,Nr,e)}get networkV(){return d(this,Ps)}get legacyChainId(){const t=this.networkV;return t==null?null:Re.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=gt(this.s);return this.yParity&amp;&amp;(t[0]|=128),z(t)}get compactSerialized(){return Ft([this.r,this.yParityAndS])}get serialized(){return Ft([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Re($s,this.r,this.s,this.v);return this.networkV&amp;&amp;w(t,Ps,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=W(t,"v");return e==ku||e==Cu?bu:(E(e&gt;=To,"invalid EIP-155 v","v",t),(e-To)/Eu)}static getChainIdV(t,e){return W(t)*Eu+BigInt(35+e-27)}static getNormalizedV(t){const e=W(t);return e===bu||e===ku?27:e===vu||e===Cu?28:(E(e&gt;=To,"invalid v","v",t),e&amp;vu?27:28)}static from(t){function e(l,u){E(l,u,"signature",t)}if(t==null)return new Re($s,Au,Au,27);if(typeof t=="string"){const l=gt(t,"signature");if(l.length===64){const u=z(l.slice(0,32)),f=l.slice(32,64),h=f[0]&amp;128?28:27;return f[0]&amp;=127,new Re($s,u,z(f),h)}if(l.length===65){const u=z(l.slice(0,32)),f=l.slice(32,64);e((f[0]&amp;128)===0,"non-canonical s");const h=Re.getNormalizedV(l[64]);return new Re($s,u,z(f),h)}e(!1,"invalid raw signature length")}if(t instanceof Re)return t.clone();const s=t.r;e(s!=null,"missing r");const r=Pu(s),i=function(l,u){if(l!=null)return Pu(l);if(u!=null){e(St(u,32),"invalid yParityAndS");const f=gt(u);return f[0]&amp;=127,z(f)}e(!1,"missing s")}(t.s,t.yParityAndS);e((gt(i)[0]&amp;128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,f){if(l!=null){const h=W(l);return{networkV:h&gt;=To?h:void 0,v:Re.getNormalizedV(h)}}if(u!=null)return e(St(u,32),"invalid yParityAndS"),{v:gt(u)[0]&amp;128?28:27};if(f!=null){switch(ct(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),c=new Re($s,r,i,a);return o&amp;&amp;w(c,Ps,o),e(t.yParity==null||ct(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Ir=new WeakMap,xr=new WeakMap,Nr=new WeakMap,Ps=new WeakMap;let Ve=Re;rs.hmacSha256Sync=function(n,...t){return gt(mo("sha256",n,Ft(t)))};var mn;const gs=class gs{constructor(t){S(this,mn,void 0);E(pr(t)===32,"invalid private key","privateKey","[REDACTED]"),w(this,mn,z(t))}get privateKey(){return d(this,mn)}get publicKey(){return gs.computePublicKey(d(this,mn))}get compressedPublicKey(){return gs.computePublicKey(d(this,mn),!0)}sign(t){E(pr(t)===32,"invalid digest length","digest",t);const[e,s]=um(ue(t),ue(d(this,mn)),{recovered:!0,canonical:!0}),r=gr.fromHex(e);return Ve.from({r:cs("0x"+r.r.toString(16),32),s:cs("0x"+r.s.toString(16),32),v:s?28:27})}computeSharedSecret(t){const e=gs.computePublicKey(t);return z(om(ue(d(this,mn)),gt(e)))}static computePublicKey(t,e){let s=gt(t,"key");if(s.length===32){const i=rm(s,!!e);return z(i)}if(s.length===64){const i=new Uint8Array(65);i[0]=4,i.set(s,1),s=i}const r=bt.fromHex(s);return z(r.toRawBytes(e))}static recoverPublicKey(t,e){E(pr(t)===32,"invalid digest length","digest",t);const s=Ve.from(e),r=gr.fromCompact(ue(Ft([s.r,s.s]))).toDERRawBytes(),i=im(ue(t),r,s.yParity);return E(i!=null,"invalid signature for digest","signature",e),z(i)}static addPoints(t,e,s){const r=bt.fromHex(gs.computePublicKey(t).substring(2)),i=bt.fromHex(gs.computePublicKey(e).substring(2));return"0x"+r.add(i).toHex(!!s)}};mn=new WeakMap;let Mi=gs;const fm=BigInt(0),hm=BigInt(36);function Iu(n){n=n.toLowerCase();const t=n.substring(2).split(""),e=new Uint8Array(40);for(let r=0;r&lt;40;r++)e[r]=t[r].charCodeAt(0);const s=gt(Nt(e));for(let r=0;r&lt;40;r+=2)s[r&gt;&gt;1]&gt;&gt;4&gt;=8&amp;&amp;(t[r]=t[r].toUpperCase()),(s[r&gt;&gt;1]&amp;15)&gt;=8&amp;&amp;(t[r+1]=t[r+1].toUpperCase());return"0x"+t.join("")}const kl={};for(let n=0;n&lt;10;n++)kl[String(n)]=String(n);for(let n=0;n&lt;26;n++)kl[String.fromCharCode(65+n)]=String(10+n);const xu=15;function dm(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let t=n.split("").map(s=&gt;kl[s]).join("");for(;t.length&gt;=xu;){let s=t.substring(0,xu);t=parseInt(s,10)%97+t.substring(s.length)}let e=String(98-parseInt(t,10)%97);for(;e.length&lt;2;)e="0"+e;return e}const pm=function(){const n={};for(let t=0;t&lt;36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];n[e]=BigInt(t)}return n}();function gm(n){n=n.toLowerCase();let t=fm;for(let e=0;e&lt;n.length;e++)t=t*hm+pm[n[e]];return t}function At(n){if(E(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const t=Iu(n);return E(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===n,"bad address checksum","address",n),t}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){E(n.substring(2,4)===dm(n),"bad icap checksum","address",n);let t=gm(n.substring(4)).toString(16);for(;t.length&lt;40;)t="0"+t;return Iu("0x"+t)}E(!1,"invalid address","address",n)}function mm(n){const t=At(n.from);let s=W(n.nonce,"tx.nonce").toString(16);return s==="0"?s="0x":s.length%2?s="0x0"+s:s="0x"+s,At(_t(Nt(Ri([t,s])),12))}function Nh(n){return n&amp;&amp;typeof n.getAddress=="function"}async function Qa(n,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&amp;&amp;(_(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),E(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),At(e)}function fe(n,t){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?At(n):(_(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Qa(n,t.resolveName(n)));if(Nh(n))return Qa(n,n.getAddress());if(n&amp;&amp;typeof n.then=="function")return Qa(n,n);E(!1,"unsupported addressable value","target",n)}const ln={};function G(n,t){let e=!1;return t&lt;0&amp;&amp;(e=!0,t*=-1),new te(ln,`${e?"":"u"}int${t}`,n,{signed:e,width:t})}function wt(n,t){return new te(ln,`bytes${t||""}`,n,{size:t})}const Nu=Symbol.for("_ethers_typed");var Is;const un=class un{constructor(t,e,s,r){k(this,"type");k(this,"value");S(this,Is,void 0);k(this,"_typedSymbol");r==null&amp;&amp;(r=null),ka(ln,t,"Typed"),$(this,{_typedSymbol:Nu,type:e,value:s}),w(this,Is,r),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=&gt;t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,Is)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,Is)===!0?-1:d(this,Is)===!1?this.value.length:null}static from(t,e){return new un(ln,t,e)}static uint8(t){return G(t,8)}static uint16(t){return G(t,16)}static uint24(t){return G(t,24)}static uint32(t){return G(t,32)}static uint40(t){return G(t,40)}static uint48(t){return G(t,48)}static uint56(t){return G(t,56)}static uint64(t){return G(t,64)}static uint72(t){return G(t,72)}static uint80(t){return G(t,80)}static uint88(t){return G(t,88)}static uint96(t){return G(t,96)}static uint104(t){return G(t,104)}static uint112(t){return G(t,112)}static uint120(t){return G(t,120)}static uint128(t){return G(t,128)}static uint136(t){return G(t,136)}static uint144(t){return G(t,144)}static uint152(t){return G(t,152)}static uint160(t){return G(t,160)}static uint168(t){return G(t,168)}static uint176(t){return G(t,176)}static uint184(t){return G(t,184)}static uint192(t){return G(t,192)}static uint200(t){return G(t,200)}static uint208(t){return G(t,208)}static uint216(t){return G(t,216)}static uint224(t){return G(t,224)}static uint232(t){return G(t,232)}static uint240(t){return G(t,240)}static uint248(t){return G(t,248)}static uint256(t){return G(t,256)}static uint(t){return G(t,256)}static int8(t){return G(t,-8)}static int16(t){return G(t,-16)}static int24(t){return G(t,-24)}static int32(t){return G(t,-32)}static int40(t){return G(t,-40)}static int48(t){return G(t,-48)}static int56(t){return G(t,-56)}static int64(t){return G(t,-64)}static int72(t){return G(t,-72)}static int80(t){return G(t,-80)}static int88(t){return G(t,-88)}static int96(t){return G(t,-96)}static int104(t){return G(t,-104)}static int112(t){return G(t,-112)}static int120(t){return G(t,-120)}static int128(t){return G(t,-128)}static int136(t){return G(t,-136)}static int144(t){return G(t,-144)}static int152(t){return G(t,-152)}static int160(t){return G(t,-160)}static int168(t){return G(t,-168)}static int176(t){return G(t,-176)}static int184(t){return G(t,-184)}static int192(t){return G(t,-192)}static int200(t){return G(t,-200)}static int208(t){return G(t,-208)}static int216(t){return G(t,-216)}static int224(t){return G(t,-224)}static int232(t){return G(t,-232)}static int240(t){return G(t,-240)}static int248(t){return G(t,-248)}static int256(t){return G(t,-256)}static int(t){return G(t,-256)}static bytes1(t){return wt(t,1)}static bytes2(t){return wt(t,2)}static bytes3(t){return wt(t,3)}static bytes4(t){return wt(t,4)}static bytes5(t){return wt(t,5)}static bytes6(t){return wt(t,6)}static bytes7(t){return wt(t,7)}static bytes8(t){return wt(t,8)}static bytes9(t){return wt(t,9)}static bytes10(t){return wt(t,10)}static bytes11(t){return wt(t,11)}static bytes12(t){return wt(t,12)}static bytes13(t){return wt(t,13)}static bytes14(t){return wt(t,14)}static bytes15(t){return wt(t,15)}static bytes16(t){return wt(t,16)}static bytes17(t){return wt(t,17)}static bytes18(t){return wt(t,18)}static bytes19(t){return wt(t,19)}static bytes20(t){return wt(t,20)}static bytes21(t){return wt(t,21)}static bytes22(t){return wt(t,22)}static bytes23(t){return wt(t,23)}static bytes24(t){return wt(t,24)}static bytes25(t){return wt(t,25)}static bytes26(t){return wt(t,26)}static bytes27(t){return wt(t,27)}static bytes28(t){return wt(t,28)}static bytes29(t){return wt(t,29)}static bytes30(t){return wt(t,30)}static bytes31(t){return wt(t,31)}static bytes32(t){return wt(t,32)}static address(t){return new un(ln,"address",t)}static bool(t){return new un(ln,"bool",!!t)}static bytes(t){return new un(ln,"bytes",t)}static string(t){return new un(ln,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new un(ln,"overrides",Object.assign({},t))}static isTyped(t){return t&amp;&amp;typeof t=="object"&amp;&amp;"_typedSymbol"in t&amp;&amp;t._typedSymbol===Nu}static dereference(t,e){if(un.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};Is=new WeakMap;let te=un;class wm extends _n{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let s=te.dereference(e,"string");try{s=At(s)}catch(r){return this._throwError(r.message,e)}return t.writeValue(s)}decode(t){return At(cs(t.readValue(),20))}}class ym extends _n{constructor(e){super(e.name,e.type,"_",e.dynamic);k(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,s){return this.coder.encode(e,s)}decode(e){return this.coder.decode(e)}}function Sh(n,t,e){let s=[];if(Array.isArray(e))s=e;else if(e&amp;&amp;typeof e=="object"){let c={};s=t.map(l=&gt;{const u=l.localName;return _(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),_(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),c[u]=!0,e[u]})}else E(!1,"invalid tuple value","tuple",e);E(t.length===s.length,"types/value length mismatch","tuple",e);let r=new cc,i=new cc,o=[];t.forEach((c,l)=&gt;{let u=s[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=r.writeUpdatableValue();o.push(p=&gt;{h(p+f)})}else c.encode(r,u)}),o.forEach(c=&gt;{c(r.length)});let a=n.appendWriter(r);return a+=n.appendWriter(i),a}function Bh(n,t){let e=[],s=[],r=n.subReader(0);return t.forEach(i=&gt;{let o=null;if(i.dynamic){let a=n.readIndex(),c=r.subReader(a);try{o=i.decode(c)}catch(l){if(Te(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(Te(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),s.push(i.localName||null)}),ta.fromItems(e,s)}class Am extends _n{constructor(e,s,r){const i=e.type+"["+(s&gt;=0?s:"")+"]",o=s===-1||e.dynamic;super("array",i,r,o);k(this,"coder");k(this,"length");$(this,{coder:e,length:s})}defaultValue(){const e=this.coder.defaultValue(),s=[];for(let r=0;r&lt;this.length;r++)s.push(e);return s}encode(e,s){const r=te.dereference(s,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&amp;&amp;(i=r.length,e.writeValue(r.length)),Xf(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a&lt;r.length;a++)o.push(this.coder);return Sh(e,o,r)}decode(e){let s=this.length;s===-1&amp;&amp;(s=e.readIndex(),_(s*se&lt;=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:s*se,length:e.dataLength}));let r=[];for(let i=0;i&lt;s;i++)r.push(new ym(this.coder));return Bh(e,r)}}class bm extends _n{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const s=te.dereference(e,"bool");return t.writeValue(s?1:0)}decode(t){return!!t.readValue()}}class Th extends _n{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=ue(e);let s=t.writeValue(e.length);return s+=t.writeBytes(e),s}decode(t){return t.readBytes(t.readIndex(),!0)}}class vm extends Th{constructor(t){super("bytes",t)}decode(t){return z(super.decode(t))}}class Em extends _n{constructor(e,s){let r="bytes"+String(e);super(r,r,s,!1);k(this,"size");$(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,s){let r=ue(te.dereference(s,this.type));return r.length!==this.size&amp;&amp;this._throwError("incorrect data length",s),e.writeBytes(r)}decode(e){return z(e.readBytes(this.size))}}const km=new Uint8Array([]);class Cm extends _n{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&amp;&amp;this._throwError("not null",e),t.writeBytes(km)}decode(t){return t.readBytes(0),null}}const Pm=BigInt(0),Im=BigInt(1),xm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Nm extends _n{constructor(e,s,r){const i=(s?"int":"uint")+e*8;super(i,i,r,!1);k(this,"size");k(this,"signed");$(this,{size:e,signed:s},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,s){let r=W(te.dereference(s,this.type)),i=vi(xm,se*8);if(this.signed){let o=vi(i,this.size*8-1);(r&gt;o||r&lt;-(o+Im))&amp;&amp;this._throwError("value out-of-bounds",s),r=th(r,8*se)}else(r&lt;Pm||r&gt;vi(i,this.size*8))&amp;&amp;this._throwError("value out-of-bounds",s);return e.writeValue(r)}decode(e){let s=vi(e.readValue(),this.size*8);return this.signed&amp;&amp;(s=xp(s,this.size*8)),s}}class Sm extends Th{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,xn(te.dereference(e,"string")))}decode(t){return bl(super.decode(t))}}class _o extends _n{constructor(e,s){let r=!1;const i=[];e.forEach(a=&gt;{a.dynamic&amp;&amp;(r=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,s,r);k(this,"coders");$(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=&gt;{e.push(r.defaultValue())});const s=this.coders.reduce((r,i)=&gt;{const o=i.localName;return o&amp;&amp;(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=&gt;{let o=r.localName;!o||s[o]!==1||(o==="length"&amp;&amp;(o="_length"),e[o]==null&amp;&amp;(e[o]=e[i]))}),Object.freeze(e)}encode(e,s){const r=te.dereference(s,"tuple");return Sh(e,this.coders,r)}decode(e){return Bh(e,this.coders)}}function Hs(n){return Nt(xn(n))}function Bm(n){let t=0;function e(){return n[t++]&lt;&lt;8|n[t++]}let s=e(),r=1,i=[0,1];for(let N=1;N&lt;s;N++)i.push(r+=e());let o=e(),a=t;t+=o;let c=0,l=0;function u(){return c==0&amp;&amp;(l=l&lt;&lt;8|n[t++],c=8),l&gt;&gt;--c&amp;1}const f=31,h=2**f,p=h&gt;&gt;&gt;1,m=p&gt;&gt;1,A=h-1;let C=0;for(let N=0;N&lt;f;N++)C=C&lt;&lt;1|u();let I=[],x=0,P=h;for(;;){let N=Math.floor(((C-x+1)*r-1)/P),O=0,H=s;for(;H-O&gt;1;){let U=O+H&gt;&gt;&gt;1;N&lt;i[U]?H=U:O=U}if(O==0)break;I.push(O);let J=x+Math.floor(P*i[O]/r),X=x+Math.floor(P*i[O+1]/r)-1;for(;!((J^X)&amp;p);)C=C&lt;&lt;1&amp;A|u(),J=J&lt;&lt;1&amp;A,X=X&lt;&lt;1&amp;A|1;for(;J&amp;~X&amp;m;)C=C&amp;p|C&lt;&lt;1&amp;A&gt;&gt;&gt;1|u(),J=J&lt;&lt;1^p,X=(X^p)&lt;&lt;1|p|1;x=J,P=1+X-J}let B=s-4;return I.map(N=&gt;{switch(N-B){case 3:return B+65792+(n[a++]&lt;&lt;16|n[a++]&lt;&lt;8|n[a++]);case 2:return B+256+(n[a++]&lt;&lt;8|n[a++]);case 1:return B+n[a++];default:return N-1}})}function Tm(n){let t=0;return()=&gt;n[t++]}function _h(n){return Tm(Bm(_m(n)))}function _m(n){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,i)=&gt;t[r.charCodeAt(0)]=i);let e=n.length,s=new Uint8Array(6*e&gt;&gt;3);for(let r=0,i=0,o=0,a=0;r&lt;e;r++)a=a&lt;&lt;6|t[n.charCodeAt(r)],o+=6,o&gt;=8&amp;&amp;(s[i++]=a&gt;&gt;(o-=8));return s}function Om(n){return n&amp;1?~n&gt;&gt;1:n&gt;&gt;1}function Lm(n,t){let e=Array(n);for(let s=0,r=0;s&lt;n;s++)e[s]=r+=Om(t());return e}function ls(n,t=0){let e=[];for(;;){let s=n(),r=n();if(!r)break;t+=s;for(let i=0;i&lt;r;i++)e.push(t+i);t+=r+1}return e}function Oh(n){return Hi(()=&gt;{let t=ls(n);if(t.length)return t})}function Lh(n){let t=[];for(;;){let e=n();if(e==0)break;t.push(Rm(e,n))}for(;;){let e=n()-1;if(e&lt;0)break;t.push(Um(e,n))}return t.flat()}function Hi(n){let t=[];for(;;){let e=n(t.length);if(!e)break;t.push(e)}return t}function Rh(n,t,e){let s=Array(n).fill().map(()=&gt;[]);for(let r=0;r&lt;t;r++)Lm(n,e).forEach((i,o)=&gt;s[o].push(i));return s}function Rm(n,t){let e=1+t(),s=t(),r=Hi(t);return Rh(r.length,1+n,t).flatMap((o,a)=&gt;{let[c,...l]=o;return Array(r[a]).fill().map((u,f)=&gt;{let h=f*s;return[c+f*e,l.map(p=&gt;p+h)]})})}function Um(n,t){let e=1+t();return Rh(e,1+n,t).map(r=&gt;[r[0],r.slice(1)])}var ve=_h("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");const Su=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Bu=4;function Fm(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Uh(n){return`{${Fm(n)}}`}function Dm(n){let t=[];for(let e=0,s=n.length;e&lt;s;){let r=n.codePointAt(e);e+=r&lt;65536?1:2,t.push(r)}return t}function Gi(n){let e=n.length;if(e&lt;4096)return String.fromCodePoint(...n);let s=[];for(let r=0;r&lt;e;)s.push(String.fromCodePoint(...n.slice(r,r+=4096)));return s.join("")}var Cl=_h("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");function ki(n){return n&gt;&gt;24&amp;255}function Fh(n){return n&amp;16777215}const Mm=new Map(Oh(Cl).flatMap((n,t)=&gt;n.map(e=&gt;[e,t+1&lt;&lt;24]))),Hm=new Set(ls(Cl)),Dh=new Map,gc=new Map;for(let[n,t]of Lh(Cl)){if(!Hm.has(n)&amp;&amp;t.length==2){let[e,s]=t,r=gc.get(e);r||(r=new Map,gc.set(e,r)),r.set(s,n)}Dh.set(n,t.reverse())}const ji=44032,ia=4352,oa=4449,aa=4519,Mh=19,Hh=21,oi=28,ca=Hh*oi,Gm=Mh*ca,jm=ji+Gm,Qm=ia+Mh,Vm=oa+Hh,zm=aa+oi;function Gh(n){return n&gt;=ji&amp;&amp;n&lt;jm}function Jm(n,t){if(n&gt;=ia&amp;&amp;n&lt;Qm&amp;&amp;t&gt;=oa&amp;&amp;t&lt;Vm)return ji+(n-ia)*ca+(t-oa)*oi;if(Gh(n)&amp;&amp;t&gt;aa&amp;&amp;t&lt;zm&amp;&amp;(n-ji)%oi==0)return n+(t-aa);{let e=gc.get(n);return e&amp;&amp;(e=e.get(t),e)?e:-1}}function jh(n){let t=[],e=[],s=!1;function r(i){let o=Mm.get(i);o&amp;&amp;(s=!0,i|=o),t.push(i)}for(let i of n)for(;;){if(i&lt;128)t.push(i);else if(Gh(i)){let o=i-ji,a=o/ca|0,c=o%ca/oi|0,l=o%oi;r(ia+a),r(oa+c),l&gt;0&amp;&amp;r(aa+l)}else{let o=Dh.get(i);o?e.push(...o):r(i)}if(!e.length)break;i=e.pop()}if(s&amp;&amp;t.length&gt;1){let i=ki(t[0]);for(let o=1;o&lt;t.length;o++){let a=ki(t[o]);if(a==0||i&lt;=a){i=a;continue}let c=o-1;for(;;){let l=t[c+1];if(t[c+1]=t[c],t[c]=l,!c||(i=ki(t[--c]),i&lt;=a))break}i=ki(t[o])}}return t}function Km(n){let t=[],e=[],s=-1,r=0;for(let i of n){let o=ki(i),a=Fh(i);if(s==-1)o==0?s=a:t.push(a);else if(r&gt;0&amp;&amp;r&gt;=o)o==0?(t.push(s,...e),e.length=0,s=a):e.push(a),r=o;else{let c=Jm(s,a);c&gt;=0?s=c:r==0&amp;&amp;o==0?(t.push(s),s=a):(e.push(a),r=o)}}return s&gt;=0&amp;&amp;t.push(s,...e),t}function Qh(n){return jh(n).map(Fh)}function Ym(n){return Km(jh(n))}const mc=65039,Vh=".",zh=1,Tu=45;function ui(){return new Set(ls(ve))}const Wm=new Map(Lh(ve)),Zm=ui(),la=ui(),_u=new Set(ls(ve).map(function(n){return this[n]},[...la])),Xm=ui();ui();const qm=Oh(ve);function Ou(){return new Set([ls(ve).map(n=&gt;qm[n]),ls(ve)].flat(2))}const $m=ve(),Qi=Hi(n=&gt;{let t=Hi(ve).map(e=&gt;e+96);if(t.length){let e=n&gt;=$m;t[0]-=32,t=Gi(t),e&amp;&amp;(t=`Restricted[${t}]`);let s=Ou(),r=Ou(),i=[...s,...r].sort((a,c)=&gt;a-c),o=!ve();return{N:t,P:s,M:o,R:e,V:new Set(i)}}}),Lu=ui(),Vi=new Map;[...Lu,...ui()].sort((n,t)=&gt;n-t).map((n,t,e)=&gt;{let s=ve(),r=e[t]=s?e[t-s]:{V:[],M:new Map};r.V.push(n),Lu.has(n)||Vi.set(n,r)});for(let{V:n,M:t}of new Set(Vi.values())){let e=[];for(let r of n){let i=Qi.filter(a=&gt;a.V.has(r)),o=e.find(({G:a})=&gt;i.some(c=&gt;a.has(c)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(r),i.forEach(a=&gt;o.G.add(a))}let s=e.flatMap(({G:r})=&gt;[...r]);for(let{G:r,V:i}of e){let o=new Set(s.filter(a=&gt;!r.has(a)));for(let a of i)t.set(a,o)}}let zi=new Set,Jh=new Set;for(let n of Qi)for(let t of n.V)(zi.has(t)?Jh:zi).add(t);for(let n of zi)!Vi.has(n)&amp;&amp;!Jh.has(n)&amp;&amp;Vi.set(n,zh);const t0=new Set([...zi,...Qh(zi)]),e0=ls(ve),n0=Kh([]);function Kh(n){let t=Hi(()=&gt;{let a=ls(ve).map(c=&gt;e0[c]);if(a.length)return Kh(a)}).sort((a,c)=&gt;c.Q.size-a.Q.size),e=ve(),s=e%3;e=e/3|0;let r=e&amp;1;e&gt;&gt;=1;let i=e&amp;1,o=e&amp;2;return{B:t,V:s,F:r,S:i,C:o,Q:new Set(n)}}class s0 extends Array{get is_emoji(){return!0}}function xa(n,t=Uh){let e=[];o0(n[0])&amp;&amp;e.push("â—Œ");let s=0,r=n.length;for(let i=0;i&lt;r;i++){let o=n[i];Yh(o)&amp;&amp;(e.push(Gi(n.slice(s,i))),e.push(t(o)),s=i+1)}return e.push(Gi(n.slice(s,r))),e.join("")}function Pl(n){return(Yh(n)?"":`${Il(xa([n]))} `)+Uh(n)}function Il(n){return`"${n}"â€Ž`}function r0(n){if(n.length&gt;=4&amp;&amp;n[2]==Tu&amp;&amp;n[3]==Tu)throw new Error("invalid label extension")}function Ru(n){for(let e=n.lastIndexOf(95);e&gt;0;)if(n[--e]!==95)throw new Error("underscore allowed only at start")}function i0(n){let t=n[0],e=Su.get(t);if(e)throw Bi(`leading ${e}`);let s=n.length,r=-1;for(let i=1;i&lt;s;i++){t=n[i];let o=Su.get(t);if(o){if(r==i)throw Bi(`${e} + ${o}`);r=i+1,e=o}}if(r==s)throw Bi(`trailing ${e}`)}function o0(n){return la.has(n)}function Yh(n){return Xm.has(n)}function a0(n){return f0(c0(n))}function c0(n,t){let e=0;return n.split(Vh).map(s=&gt;{let r=Dm(s),i={input:r,offset:e};e+=r.length+1;let o;try{let a=i.tokens=d0(r,Ym),c=a.length,l;if(c){let u=a[0],f=c&gt;1||u.is_emoji;if(!f&amp;&amp;u.every(h=&gt;h&lt;128))o=u,Ru(o),r0(o),l="ASCII";else if(f&amp;&amp;(i.emoji=!0,u=a.flatMap(h=&gt;h.is_emoji?[]:h)),o=a.flatMap(h=&gt;!t&amp;&amp;h.is_emoji?p0(h):h),Ru(o),!u.length)l="Emoji";else{if(la.has(o[0]))throw Bi("leading combining mark");for(let m=1;m&lt;c;m++){let A=a[m];if(!A.is_emoji&amp;&amp;la.has(A[0]))throw Bi(`emoji + combining mark: "${Gi(a[m-1])} + ${xa([A[0]])}"`)}i0(o);let h=[...new Set(u)],[p]=u0(h);h0(p,u),l0(p,h),l=p.N}}else throw new Error("empty label");i.type=l}catch(a){i.error=a}return i.output=o,i})}function l0(n,t){let e,s=[];for(let r of t){let i=Vi.get(r);if(i===zh)return;if(i){let o=i.M.get(r);if(e=e?e.filter(a=&gt;o.has(a)):[...o],!e.length)return}else s.push(r)}if(e){for(let r of e)if(s.every(i=&gt;r.V.has(i)))throw new Error(`whole-script confusable: ${n.N}/${r.N}`)}}function u0(n){let t=Qi;for(let e of n){let s=t.filter(r=&gt;r.V.has(e));if(!s.length)throw t===Qi?Wh(e):Zh(t[0],e);if(t=s,s.length==1)break}return t}function f0(n){return n.map(({input:t,error:e,output:s})=&gt;{if(e){let r=e.message;throw new Error(n.length==1?r:`Invalid label ${Il(xa(t))}: ${r}`)}return Gi(s)}).join(Vh)}function Wh(n){return new Error(`disallowed character: ${Pl(n)}`)}function Zh(n,t){let e=Pl(t),s=Qi.find(r=&gt;r.P.has(t));return s&amp;&amp;(e=`${s.N} ${e}`),new Error(`illegal mixture: ${n.N} + ${e}`)}function Bi(n){return new Error(`illegal placement: ${n}`)}function h0(n,t){let{V:e,M:s}=n;for(let r of t)if(!e.has(r))throw Zh(n,r);if(s){let r=Qh(t);for(let i=1,o=r.length;i&lt;o;i++)if(_u.has(r[i])){let a=i+1;for(let c;a&lt;o&amp;&amp;_u.has(c=r[a]);a++)for(let l=i;l&lt;a;l++)if(r[l]==c)throw new Error(`non-spacing marks: repeated ${Pl(c)}`);if(a-i&gt;Bu)throw new Error(`non-spacing marks: too many ${Il(xa(r.slice(i-1,a)))} (${a-i}/${Bu})`);i=a}}}function d0(n,t){let e=[],s=[];for(n=n.slice().reverse();n.length;){let r=g0(n);if(r)s.length&amp;&amp;(e.push(t(s)),s=[]),e.push(r);else{let i=n.pop();if(t0.has(i))s.push(i);else{let o=Wm.get(i);if(o)s.push(...o);else if(!Zm.has(i))throw Wh(i)}}}return s.length&amp;&amp;e.push(t(s)),e}function p0(n){return n.filter(t=&gt;t!=mc)}function g0(n,t){let e=n0,s,r,i=[],o=n.length;for(t&amp;&amp;(t.length=0);o;){let a=n[--o];if(e=e.B.find(c=&gt;c.Q.has(a)),!e)break;if(e.S)r=a;else if(e.C&amp;&amp;a===r)break;i.push(a),e.F&amp;&amp;(i.push(mc),o&gt;0&amp;&amp;n[o-1]==mc&amp;&amp;o--),e.V&amp;&amp;(s=m0(i,e),t&amp;&amp;t.push(...n.slice(o).reverse()),n.length=o)}return s}function m0(n,t){let e=s0.from(n);return t.V==2&amp;&amp;e.splice(1,1),e}const Xh=new Uint8Array(32);Xh.fill(0);function Uu(n){return E(n.length!==0,"invalid ENS name; empty component","comp",n),n}function qh(n){const t=xn(w0(n)),e=[];if(n.length===0)return e;let s=0;for(let r=0;r&lt;t.length;r++)t[r]===46&amp;&amp;(e.push(Uu(t.slice(s,r))),s=r+1);return E(s&lt;t.length,"invalid ENS name; empty component","name",n),e.push(Uu(t.slice(s))),e}function w0(n){try{return a0(n)}catch(t){E(!1,`invalid ENS name (${t.message})`,"name",n)}}function wc(n){E(typeof n=="string","invalid ENS name; not a string","name",n);let t=Xh;const e=qh(n);for(;e.length;)t=Nt(Ft([t,Nt(e.pop())]));return z(t)}function y0(n){return z(Ft(qh(n).map(t=&gt;{if(t.length&gt;63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function Va(n,t){return{address:At(n),storageKeys:t.map((e,s)=&gt;(E(St(e,32),"invalid slot",`storageKeys[${s}]`,e),e.toLowerCase()))}}function Js(n){if(Array.isArray(n))return n.map((e,s)=&gt;Array.isArray(e)?(E(e.length===2,"invalid slot set",`value[${s}]`,e),Va(e[0],e[1])):(E(e!=null&amp;&amp;typeof e=="object","invalid address-slot set","value",n),Va(e.address,e.storageKeys)));E(n!=null&amp;&amp;typeof n=="object","invalid access list","value",n);const t=Object.keys(n).map(e=&gt;{const s=n[e].reduce((r,i)=&gt;(r[i]=!0,r),{});return Va(e,Object.keys(s).sort())});return t.sort((e,s)=&gt;e.address.localeCompare(s.address)),t}function A0(n){let t;return typeof n=="string"?t=Mi.computePublicKey(n,!1):t=n.publicKey,At(Nt("0x"+t.substring(4)).substring(26))}function b0(n,t){return A0(Mi.recoverPublicKey(n,t))}const ae=BigInt(0),v0=BigInt(2),E0=BigInt(27),k0=BigInt(28),C0=BigInt(35),P0=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function xl(n){return n==="0x"?null:At(n)}function $h(n,t){try{return Js(n)}catch(e){E(!1,e.message,t,n)}}function Na(n,t){return n==="0x"?0:ct(n,t)}function ne(n,t){if(n==="0x")return ae;const e=W(n,t);return E(e&lt;=P0,"value exceeds uint size",t,e),e}function zt(n,t){const e=W(n,"value"),s=be(e);return E(s.length&lt;=32,"value too large",`tx.${t}`,e),s}function td(n){return Js(n).map(t=&gt;[t.address,t.storageKeys])}function I0(n){const t=vl(n);E(Array.isArray(t)&amp;&amp;(t.length===9||t.length===6),"invalid field count for legacy transaction","data",n);const e={type:0,nonce:Na(t[0],"nonce"),gasPrice:ne(t[1],"gasPrice"),gasLimit:ne(t[2],"gasLimit"),to:xl(t[3]),value:ne(t[4],"value"),data:z(t[5]),chainId:ae};if(t.length===6)return e;const s=ne(t[6],"v"),r=ne(t[7],"r"),i=ne(t[8],"s");if(r===ae&amp;&amp;i===ae)e.chainId=s;else{let o=(s-C0)/v0;o&lt;ae&amp;&amp;(o=ae),e.chainId=o,E(o!==ae||s===E0||s===k0,"non-canonical legacy v","v",t[6]),e.signature=Ve.from({r:Ms(t[7],32),s:Ms(t[8],32),v:s}),e.hash=Nt(n)}return e}function Fu(n,t){const e=[zt(n.nonce||0,"nonce"),zt(n.gasPrice||0,"gasPrice"),zt(n.gasLimit||0,"gasLimit"),n.to!=null?At(n.to):"0x",zt(n.value||0,"value"),n.data||"0x"];let s=ae;if(n.chainId!=ae)s=W(n.chainId,"tx.chainId"),E(!t||t.networkV==null||t.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",t);else if(n.signature){const i=n.signature.legacyChainId;i!=null&amp;&amp;(s=i)}if(!t)return s!==ae&amp;&amp;(e.push(be(s)),e.push("0x"),e.push("0x")),Ri(e);let r=BigInt(27+t.yParity);return s!==ae?r=Ve.getChainIdV(s,t.v):BigInt(t.v)!==r&amp;&amp;E(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(be(r)),e.push(be(t.r)),e.push(be(t.s)),Ri(e)}function ed(n,t){let e;try{if(e=Na(t[0],"yParity"),e!==0&amp;&amp;e!==1)throw new Error("bad yParity")}catch{E(!1,"invalid yParity","yParity",t[0])}const s=Ms(t[1],32),r=Ms(t[2],32),i=Ve.from({r:s,s:r,yParity:e});n.signature=i}function x0(n){const t=vl(gt(n).slice(1));E(Array.isArray(t)&amp;&amp;(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",z(n));const e=ne(t[2],"maxPriorityFeePerGas"),s=ne(t[3],"maxFeePerGas"),r={type:2,chainId:ne(t[0],"chainId"),nonce:Na(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:s,gasPrice:null,gasLimit:ne(t[4],"gasLimit"),to:xl(t[5]),value:ne(t[6],"value"),data:z(t[7]),accessList:$h(t[8],"accessList")};return t.length===9||(r.hash=Nt(n),ed(r,t.slice(9))),r}function Du(n,t){const e=[zt(n.chainId||0,"chainId"),zt(n.nonce||0,"nonce"),zt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),zt(n.maxFeePerGas||0,"maxFeePerGas"),zt(n.gasLimit||0,"gasLimit"),n.to!=null?At(n.to):"0x",zt(n.value||0,"value"),n.data||"0x",td(n.accessList||[])];return t&amp;&amp;(e.push(zt(t.yParity,"yParity")),e.push(be(t.r)),e.push(be(t.s))),Ft(["0x02",Ri(e)])}function N0(n){const t=vl(gt(n).slice(1));E(Array.isArray(t)&amp;&amp;(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",z(n));const e={type:1,chainId:ne(t[0],"chainId"),nonce:Na(t[1],"nonce"),gasPrice:ne(t[2],"gasPrice"),gasLimit:ne(t[3],"gasLimit"),to:xl(t[4]),value:ne(t[5],"value"),data:z(t[6]),accessList:$h(t[7],"accessList")};return t.length===8||(e.hash=Nt(n),ed(e,t.slice(8))),e}function Mu(n,t){const e=[zt(n.chainId||0,"chainId"),zt(n.nonce||0,"nonce"),zt(n.gasPrice||0,"gasPrice"),zt(n.gasLimit||0,"gasLimit"),n.to!=null?At(n.to):"0x",zt(n.value||0,"value"),n.data||"0x",td(n.accessList||[])];return t&amp;&amp;(e.push(zt(t.yParity,"recoveryParam")),e.push(be(t.r)),e.push(be(t.s))),Ft(["0x01",Ri(e)])}var wn,Sr,Br,Tr,_r,Or,Lr,Rr,Ur,Fr,Dr,Mr;const Gn=class Gn{constructor(){S(this,wn,void 0);S(this,Sr,void 0);S(this,Br,void 0);S(this,Tr,void 0);S(this,_r,void 0);S(this,Or,void 0);S(this,Lr,void 0);S(this,Rr,void 0);S(this,Ur,void 0);S(this,Fr,void 0);S(this,Dr,void 0);S(this,Mr,void 0);w(this,wn,null),w(this,Sr,null),w(this,Tr,0),w(this,_r,BigInt(0)),w(this,Or,null),w(this,Lr,null),w(this,Rr,null),w(this,Br,"0x"),w(this,Ur,BigInt(0)),w(this,Fr,BigInt(0)),w(this,Dr,null),w(this,Mr,null)}get type(){return d(this,wn)}set type(t){switch(t){case null:w(this,wn,null);break;case 0:case"legacy":w(this,wn,0);break;case 1:case"berlin":case"eip-2930":w(this,wn,1);break;case 2:case"london":case"eip-1559":w(this,wn,2);break;default:E(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return d(this,Sr)}set to(t){w(this,Sr,t==null?null:At(t))}get nonce(){return d(this,Tr)}set nonce(t){w(this,Tr,ct(t,"value"))}get gasLimit(){return d(this,_r)}set gasLimit(t){w(this,_r,W(t))}get gasPrice(){const t=d(this,Or);return t==null&amp;&amp;(this.type===0||this.type===1)?ae:t}set gasPrice(t){w(this,Or,t==null?null:W(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=d(this,Lr);return t??(this.type===2?ae:null)}set maxPriorityFeePerGas(t){w(this,Lr,t==null?null:W(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=d(this,Rr);return t??(this.type===2?ae:null)}set maxFeePerGas(t){w(this,Rr,t==null?null:W(t,"maxFeePerGas"))}get data(){return d(this,Br)}set data(t){w(this,Br,z(t))}get value(){return d(this,Ur)}set value(t){w(this,Ur,W(t,"value"))}get chainId(){return d(this,Fr)}set chainId(t){w(this,Fr,W(t))}get signature(){return d(this,Dr)||null}set signature(t){w(this,Dr,t==null?null:Ve.from(t))}get accessList(){const t=d(this,Mr)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){w(this,Mr,t==null?null:Js(t))}get hash(){return this.signature==null?null:Nt(this.serialized)}get unsignedHash(){return Nt(this.unsignedSerialized)}get from(){return this.signature==null?null:b0(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Mi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(_(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return Fu(this,this.signature);case 1:return Mu(this,this.signature);case 2:return Du(this,this.signature)}_(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return Fu(this);case 1:return Mu(this);case 2:return Du(this)}_(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,s=this.accessList!=null;this.maxFeePerGas!=null&amp;&amp;this.maxPriorityFeePerGas!=null&amp;&amp;_(this.maxFeePerGas&gt;=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),_(!e||this.type!==0&amp;&amp;this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),_(this.type!==0||!s,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):e?r.push(2):t?(r.push(1),s||r.push(0)):s?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return Gn.from(this)}toJSON(){const t=e=&gt;e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Gn;if(typeof t=="string"){const s=gt(t);if(s[0]&gt;=127)return Gn.from(I0(s));switch(s[0]){case 1:return Gn.from(N0(s));case 2:return Gn.from(x0(s))}_(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Gn;return t.type!=null&amp;&amp;(e.type=t.type),t.to!=null&amp;&amp;(e.to=t.to),t.nonce!=null&amp;&amp;(e.nonce=t.nonce),t.gasLimit!=null&amp;&amp;(e.gasLimit=t.gasLimit),t.gasPrice!=null&amp;&amp;(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&amp;&amp;(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&amp;&amp;(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&amp;&amp;(e.data=t.data),t.value!=null&amp;&amp;(e.value=t.value),t.chainId!=null&amp;&amp;(e.chainId=t.chainId),t.signature!=null&amp;&amp;(e.signature=Ve.from(t.signature)),t.accessList!=null&amp;&amp;(e.accessList=t.accessList),t.hash!=null&amp;&amp;(E(e.isSigned(),"unsigned transaction cannot define hash","tx",t),E(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&amp;&amp;(E(e.isSigned(),"unsigned transaction cannot define from","tx",t),E(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};wn=new WeakMap,Sr=new WeakMap,Br=new WeakMap,Tr=new WeakMap,_r=new WeakMap,Or=new WeakMap,Lr=new WeakMap,Rr=new WeakMap,Ur=new WeakMap,Fr=new WeakMap,Dr=new WeakMap,Mr=new WeakMap;let ua=Gn;const nd=new Uint8Array(32);nd.fill(0);const S0=BigInt(-1),sd=BigInt(0),rd=BigInt(1),B0=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function T0(n){const t=gt(n),e=t.length%32;return e?Ft([t,nd.slice(e)]):z(t)}const _0=cs(rd,32),O0=cs(sd,32),Hu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},za=["name","version","chainId","verifyingContract","salt"];function Gu(n){return function(t){return E(typeof t=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,t),t}}const L0={name:Gu("name"),version:Gu("version"),chainId:function(n){const t=W(n,"domain.chainId");return E(t&gt;=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(t)?Number(t):lr(t)},verifyingContract:function(n){try{return At(n).toLowerCase()}catch{}E(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const t=gt(n,"domain.salt");return E(t.length===32,'invalid domain value "salt"',"domain.salt",n),z(t)}};function Ja(n){{const t=n.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",s=parseInt(t[2]||"256");E(s%8===0&amp;&amp;s!==0&amp;&amp;s&lt;=256&amp;&amp;(t[2]==null||t[2]===String(s)),"invalid numeric width","type",n);const r=vi(B0,e?s-1:s),i=e?(r+rd)*S0:sd;return function(o){const a=W(o,"value");return E(a&gt;=i&amp;&amp;a&lt;=r,`value out-of-bounds for ${n}`,"value",a),cs(e?th(a,256):a,32)}}}{const t=n.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return E(e!==0&amp;&amp;e&lt;=32&amp;&amp;t[1]===String(e),"invalid bytes width","type",n),function(s){const r=gt(s);return E(r.length===e,`invalid length for ${n}`,"value",s),T0(s)}}}switch(n){case"address":return function(t){return Ms(At(t),32)};case"bool":return function(t){return t?_0:O0};case"bytes":return function(t){return Nt(t)};case"string":return function(t){return Hs(t)}}return null}function ju(n,t){return`${n}(${t.map(({name:e,type:s})=&gt;s+" "+e).join(",")})`}var qi,yn,Hr,wa,id;const Pe=class Pe{constructor(t){S(this,wa);k(this,"primaryType");S(this,qi,void 0);S(this,yn,void 0);S(this,Hr,void 0);w(this,qi,JSON.stringify(t)),w(this,yn,new Map),w(this,Hr,new Map);const e=new Map,s=new Map,r=new Map;Object.keys(t).forEach(a=&gt;{e.set(a,new Set),s.set(a,[]),r.set(a,new Set)});for(const a in t){const c=new Set;for(const l of t[a]){E(!c.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",t),c.add(l.name);const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;E(u!==a,`circular type reference to ${JSON.stringify(u)}`,"types",t),!Ja(u)&amp;&amp;(E(s.has(u),`unknown type ${JSON.stringify(u)}`,"types",t),s.get(u).push(a),e.get(a).add(u))}}const i=Array.from(s.keys()).filter(a=&gt;s.get(a).length===0);E(i.length!==0,"missing primary type","types",t),E(i.length===1,`ambiguous primary types or unused types: ${i.map(a=&gt;JSON.stringify(a)).join(", ")}`,"types",t),$(this,{primaryType:i[0]});function o(a,c){E(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),c.add(a);for(const l of e.get(a))if(s.has(l)){o(l,c);for(const u of c)r.get(u).add(l)}c.delete(a)}o(this.primaryType,new Set);for(const[a,c]of r){const l=Array.from(c);l.sort(),d(this,yn).set(a,ju(a,t[a])+l.map(u=&gt;ju(u,t[u])).join(""))}}get types(){return JSON.parse(d(this,qi))}getEncoder(t){let e=d(this,Hr).get(t);return e||(e=D(this,wa,id).call(this,t),d(this,Hr).set(t,e)),e}encodeType(t){const e=d(this,yn).get(t);return E(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Nt(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,s){if(Ja(t))return s(t,e);const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r)return E(!r[3]||parseInt(r[3])===e.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",e),e.map(o=&gt;this._visit(r[1],o,s));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:c})=&gt;(o[a]=this._visit(c,e[a],s),o),{});E(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Pe(t)}static getPrimaryType(t){return Pe.from(t).primaryType}static hashStruct(t,e,s){return Pe.from(e).hashStruct(t,s)}static hashDomain(t){const e=[];for(const s in t){if(t[s]==null)continue;const r=Hu[s];E(r,`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",t),e.push({name:s,type:r})}return e.sort((s,r)=&gt;za.indexOf(s.name)-za.indexOf(r.name)),Pe.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,s){return Ft(["0x1901",Pe.hashDomain(t),Pe.from(e).hash(s)])}static hash(t,e,s){return Nt(Pe.encode(t,e,s))}static async resolveNames(t,e,s,r){t=Object.assign({},t);for(const a in t)t[a]==null&amp;&amp;delete t[a];const i={};t.verifyingContract&amp;&amp;!St(t.verifyingContract,20)&amp;&amp;(i[t.verifyingContract]="0x");const o=Pe.from(e);o.visit(s,(a,c)=&gt;(a==="address"&amp;&amp;!St(c,20)&amp;&amp;(i[c]="0x"),c));for(const a in i)i[a]=await r(a);return t.verifyingContract&amp;&amp;i[t.verifyingContract]&amp;&amp;(t.verifyingContract=i[t.verifyingContract]),s=o.visit(s,(a,c)=&gt;a==="address"&amp;&amp;i[c]?i[c]:c),{domain:t,value:s}}static getPayload(t,e,s){Pe.hashDomain(t);const r={},i=[];za.forEach(c=&gt;{const l=t[c];l!=null&amp;&amp;(r[c]=L0[c](l),i.push({name:c,type:Hu[c]}))});const o=Pe.from(e),a=Object.assign({},e);return E(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(s),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(s,(c,l)=&gt;{if(c.match(/^bytes(\d*)/))return z(gt(l));if(c.match(/^u?int/))return W(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return E(typeof l=="string","invalid string","value",l),l}E(!1,"unsupported type","type",c)})}}};qi=new WeakMap,yn=new WeakMap,Hr=new WeakMap,wa=new WeakSet,id=function(t){{const r=Ja(t);if(r)return r}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const r=e[1],i=this.getEncoder(r);return o=&gt;{E(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return d(this,yn).has(r)&amp;&amp;(a=a.map(Nt)),Nt(Ft(a))}}const s=this.types[t];if(s){const r=Hs(d(this,yn).get(t));return i=&gt;{const o=s.map(({name:a,type:c})=&gt;{const l=this.getEncoder(c)(i[a]);return d(this,yn).has(c)?Nt(l):l});return o.unshift(r),Ft(o)}}E(!1,`unknown type: ${t}`,"type",t)};let fa=Pe;function re(n){const t=new Set;return n.forEach(e=&gt;t.add(e)),Object.freeze(t)}const R0="external public payable",U0=re(R0.split(" ")),od="constant external internal payable private public pure view",F0=re(od.split(" ")),ad="constructor error event fallback function receive struct",cd=re(ad.split(" ")),ld="calldata memory storage payable indexed",D0=re(ld.split(" ")),M0="tuple returns",H0=[ad,ld,M0,od].join(" "),G0=re(H0.split(" ")),j0={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Q0=new RegExp("^(\\s*)"),V0=new RegExp("^([0-9]+)"),z0=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ud=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),fd=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Vt,Me,$i,yc;const ya=class ya{constructor(t){S(this,$i);S(this,Vt,void 0);S(this,Me,void 0);w(this,Vt,0),w(this,Me,t.slice())}get offset(){return d(this,Vt)}get length(){return d(this,Me).length-d(this,Vt)}clone(){return new ya(d(this,Me))}reset(){w(this,Vt,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=D(this,$i,yc).call(this,d(this,Vt)+1,t.match+1);return w(this,Vt,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;d(this,Vt)&lt;t.match-1;){const s=this.peek().linkNext;e.push(D(this,$i,yc).call(this,d(this,Vt)+1,s)),w(this,Vt,s)}return w(this,Vt,t.match+1),e}peek(){if(d(this,Vt)&gt;=d(this,Me).length)throw new Error("out-of-bounds");return d(this,Me)[d(this,Vt)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&amp;&amp;t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return mi(this,Vt)._++,t}toString(){const t=[];for(let e=d(this,Vt);e&lt;d(this,Me).length;e++){const s=d(this,Me)[e];t.push(`${s.type}:${s.text}`)}return`&lt;TokenString ${t.join(" ")}&gt;`}};Vt=new WeakMap,Me=new WeakMap,$i=new WeakSet,yc=function(t=0,e=0){return new ya(d(this,Me).slice(t,e).map(s=&gt;Object.freeze(Object.assign({},s,{match:s.match-t,linkBack:s.linkBack-t,linkNext:s.linkNext-t}))))};let ze=ya;function fs(n){const t=[],e=o=&gt;{const a=i&lt;n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let s=[],r=[],i=0;for(;i&lt;n.length;){let o=n.substring(i),a=o.match(Q0);a&amp;&amp;(i+=a[1].length,o=n.substring(i));const c={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let l=j0[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")s.push(t.length-1),r.push(t.length-1);else if(l=="CLOSE_PAREN")s.length===0&amp;&amp;e("no matching open bracket"),c.match=s.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=r.pop(),t[c.linkBack].linkNext=t.length-1;else if(l==="COMMA")c.linkBack=r.pop(),t[c.linkBack].linkNext=t.length-1,r.push(t.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length&gt;0&amp;&amp;t[t.length-1].type==="NUMBER"){const f=t.pop().text;u=f+u,t[t.length-1].value=ct(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(a=o.match(z0),a){if(c.text=a[1],i+=c.text.length,G0.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(fd)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(V0),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ze(t.map(o=&gt;Object.freeze(o)))}function Qu(n,t){let e=[];for(const s in t.keys())n.has(s)&amp;&amp;e.push(s);if(e.length&gt;1)throw new Error(`conflicting types: ${e.join(", ")}`)}function Sa(n,t){if(t.peekKeyword(cd)){const e=t.pop().text;if(e!==n)throw new Error(`expected ${n}, got ${e}`)}return t.popType("ID")}function Bn(n,t){const e=new Set;for(;;){const s=n.peekType("KEYWORD");if(s==null||t&amp;&amp;!t.has(s))break;if(n.pop(),e.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);e.add(s)}return Object.freeze(e)}function hd(n){let t=Bn(n,F0);return Qu(t,re("constant payable nonpayable".split(" "))),Qu(t,re("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Nn(n,t){return n.popParams().map(e=&gt;Jt.from(e,t))}function dd(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return W(n.pop().text);throw new Error("invalid gas")}return null}function Gs(n){if(n.length)throw new Error(`unexpected tokens: ${n.toString()}`)}const J0=new RegExp(/^(.*)\[([0-9]*)\]$/);function Vu(n){const t=n.match(fd);if(E(t,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(t[2]){const e=parseInt(t[2]);E(e!==0&amp;&amp;e&lt;=32,"invalid bytes length","type",n)}else if(t[3]){const e=parseInt(t[3]);E(e!==0&amp;&amp;e&lt;=256&amp;&amp;e%8===0,"invalid numeric width","type",n)}return n}const xt={},he=Symbol.for("_ethers_internal"),zu="_ParamTypeInternal",Ju="_ErrorInternal",Ku="_EventInternal",Yu="_ConstructorInternal",Wu="_FallbackInternal",Zu="_FunctionInternal",Xu="_StructInternal";var Gr,Go;const Ie=class Ie{constructor(t,e,s,r,i,o,a,c){S(this,Gr);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(ka(t,xt,"ParamType"),Object.defineProperty(this,he,{value:zu}),o&amp;&amp;(o=Object.freeze(o.slice())),r==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(r==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");$(this,{name:e,type:s,baseType:r,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json"){const s=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=s,i.type+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const r={type:this.baseType==="tuple"?"tuple":this.type,name:s};return typeof this.indexed=="boolean"&amp;&amp;(r.indexed=this.indexed),this.isTuple()&amp;&amp;(r.components=this.components.map(i=&gt;JSON.parse(i.format(t)))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength&lt;0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&amp;&amp;(e+=this.type),e+="("+this.components.map(s=&gt;s.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&amp;&amp;(this.indexed===!0&amp;&amp;(e+=" indexed"),t==="full"&amp;&amp;this.name&amp;&amp;(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this;return t.map(r=&gt;s.arrayChildren.walk(r,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const s=this;return t.map((r,i)=&gt;s.components[i].walk(r,e))}return e(this.type,t)}async walkAsync(t,e){const s=[],r=[t];return D(this,Gr,Go).call(this,s,t,e,i=&gt;{r[0]=i}),s.length&amp;&amp;await Promise.all(s),r[0]}static from(t,e){if(Ie.isParamType(t))return t;if(typeof t=="string")try{return Ie.from(fs(t),e)}catch{E(!1,"invalid param type","obj",t)}else if(t instanceof ze){let a="",c="",l=null;Bn(t,re(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",l=t.popParams().map(A=&gt;Ie.from(A)),a=`tuple(${l.map(A=&gt;A.format()).join(",")})`):(a=Vu(t.popType("TYPE")),c=a);let u=null,f=null;for(;t.length&amp;&amp;t.peekType("BRACKET");){const A=t.pop();u=new Ie(xt,"",a,c,null,l,f,u),f=A.value,a+=A.text,c="array",l=null}let h=null;if(Bn(t,D0).has("indexed")){if(!e)throw new Error("");h=!0}const m=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Ie(xt,m,a,c,h,l,f,u)}const s=t.name;E(!s||typeof s=="string"&amp;&amp;s.match(ud),"invalid name","obj.name",s);let r=t.indexed;r!=null&amp;&amp;(E(e,"parameter cannot be indexed","obj.indexed",t.indexed),r=!!r);let i=t.type,o=i.match(J0);if(o){const a=parseInt(o[2]||"-1"),c=Ie.from({type:o[1],components:t.components});return new Ie(xt,s||"",i,"array",r,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=t.components!=null?t.components.map(l=&gt;Ie.from(l)):null;return new Ie(xt,s||"",i,"tuple",r,a,null,null)}return i=Vu(t.type),new Ie(xt,s||"",i,i,r,null,null,null)}static isParamType(t){return t&amp;&amp;t[he]===zu}};Gr=new WeakSet,Go=function(t,e,s,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&amp;&amp;e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((c,l)=&gt;{var u;D(u=o,Gr,Go).call(u,t,c,s,f=&gt;{a[l]=f})}),r(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(c=&gt;{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in e))throw new Error(`missing value for component ${c.name}`);return e[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=&gt;{var u;D(u=o[l],Gr,Go).call(u,t,c,s,f=&gt;{a[l]=f})}),r(a);return}const i=s(this.type,e);i.then?t.push(async function(){r(await i)}()):r(i)};let Jt=Ie;class js{constructor(t,e,s){k(this,"type");k(this,"inputs");ka(t,xt,"Fragment"),s=Object.freeze(s.slice()),$(this,{type:e,inputs:s})}static from(t){if(typeof t=="string"){try{js.from(JSON.parse(t))}catch{}return js.from(fs(t))}if(t instanceof ze)switch(t.peekKeyword(cd)){case"constructor":return In.from(t);case"error":return ce.from(t);case"event":return sn.from(t);case"fallback":case"receive":return fn.from(t);case"function":return rn.from(t);case"struct":return Ds.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return In.from(t);case"error":return ce.from(t);case"event":return sn.from(t);case"fallback":case"receive":return fn.from(t);case"function":return rn.from(t);case"struct":return Ds.from(t)}_(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}E(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return In.isFragment(t)}static isError(t){return ce.isFragment(t)}static isEvent(t){return sn.isFragment(t)}static isFunction(t){return rn.isFragment(t)}static isStruct(t){return Ds.isFragment(t)}}class Ba extends js{constructor(e,s,r,i){super(e,s,i);k(this,"name");E(typeof r=="string"&amp;&amp;r.match(ud),"invalid identifier","name",r),i=Object.freeze(i.slice()),$(this,{name:r})}}function Ji(n,t){return"("+t.map(e=&gt;e.format(n)).join(n==="full"?", ":",")+")"}class ce extends Ba{constructor(t,e,s){super(t,"error",e,s),Object.defineProperty(this,he,{value:Ju})}get selector(){return Hs(this.format("sighash")).substring(0,10)}format(t){if(t==null&amp;&amp;(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=&gt;JSON.parse(s.format(t)))});const e=[];return t!=="sighash"&amp;&amp;e.push("error"),e.push(this.name+Ji(t,this.inputs)),e.join(" ")}static from(t){if(ce.isFragment(t))return t;if(typeof t=="string")return ce.from(fs(t));if(t instanceof ze){const e=Sa("error",t),s=Nn(t);return Gs(t),new ce(xt,e,s)}return new ce(xt,t.name,t.inputs?t.inputs.map(Jt.from):[])}static isFragment(t){return t&amp;&amp;t[he]===Ju}}class sn extends Ba{constructor(e,s,r,i){super(e,"event",s,r);k(this,"anonymous");Object.defineProperty(this,he,{value:Ku}),$(this,{anonymous:i})}get topicHash(){return Hs(this.format("sighash"))}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const s=[];return e!=="sighash"&amp;&amp;s.push("event"),s.push(this.name+Ji(e,this.inputs)),e!=="sighash"&amp;&amp;this.anonymous&amp;&amp;s.push("anonymous"),s.join(" ")}static getTopicHash(e,s){return s=(s||[]).map(i=&gt;Jt.from(i)),new sn(xt,e,s,!1).topicHash}static from(e){if(sn.isFragment(e))return e;if(typeof e=="string")try{return sn.from(fs(e))}catch{E(!1,"invalid event fragment","obj",e)}else if(e instanceof ze){const s=Sa("event",e),r=Nn(e,!0),i=!!Bn(e,re(["anonymous"])).has("anonymous");return Gs(e),new sn(xt,s,r,i)}return new sn(xt,e.name,e.inputs?e.inputs.map(s=&gt;Jt.from(s,!0)):[],!!e.anonymous)}static isFragment(e){return e&amp;&amp;e[he]===Ku}}class In extends js{constructor(e,s,r,i,o){super(e,s,r);k(this,"payable");k(this,"gas");Object.defineProperty(this,he,{value:Yu}),$(this,{payable:i,gas:o})}format(e){if(_(e!=null&amp;&amp;e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e)))});const s=[`constructor${Ji(e,this.inputs)}`];return s.push(this.payable?"payable":"nonpayable"),this.gas!=null&amp;&amp;s.push(`@${this.gas.toString()}`),s.join(" ")}static from(e){if(In.isFragment(e))return e;if(typeof e=="string")try{return In.from(fs(e))}catch{E(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ze){Bn(e,re(["constructor"]));const s=Nn(e),r=!!Bn(e,U0).has("payable"),i=dd(e);return Gs(e),new In(xt,"constructor",s,r,i)}return new In(xt,"constructor",e.inputs?e.inputs.map(Jt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[he]===Yu}}class fn extends js{constructor(e,s,r){super(e,"fallback",s);k(this,"payable");Object.defineProperty(this,he,{value:Wu}),$(this,{payable:r})}format(e){const s=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:s,stateMutability:r})}return`${s}()${this.payable?" payable":""}`}static from(e){if(fn.isFragment(e))return e;if(typeof e=="string")try{return fn.from(fs(e))}catch{E(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ze){const s=e.toString(),r=e.peekKeyword(re(["fallback","receive"]));if(E(r,"type must be fallback or receive","obj",s),e.popKeyword(re(["fallback","receive"]))==="receive"){const c=Nn(e);return E(c.length===0,"receive cannot have arguments","obj.inputs",c),Bn(e,re(["payable"])),Gs(e),new fn(xt,[],!0)}let o=Nn(e);o.length?E(o.length===1&amp;&amp;o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=&gt;c.format("minimal")).join(", ")):o=[Jt.from("bytes")];const a=hd(e);if(E(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Bn(e,re(["returns"])).has("returns")){const c=Nn(e);E(c.length===1&amp;&amp;c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=&gt;l.format("minimal")).join(", "))}return Gs(e),new fn(xt,o,a==="payable")}if(e.type==="receive")return new fn(xt,[],!0);if(e.type==="fallback"){const s=[Jt.from("bytes")],r=e.stateMutability==="payable";return new fn(xt,s,r)}E(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&amp;&amp;e[he]===Wu}}class rn extends Ba{constructor(e,s,r,i,o,a){super(e,"function",s,i);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,he,{value:Zu}),o=Object.freeze(o.slice()),$(this,{constant:r==="view"||r==="pure",gas:a,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return Hs(this.format("sighash")).substring(0,10)}format(e){if(e==null&amp;&amp;(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=&gt;JSON.parse(r.format(e))),outputs:this.outputs.map(r=&gt;JSON.parse(r.format(e)))});const s=[];return e!=="sighash"&amp;&amp;s.push("function"),s.push(this.name+Ji(e,this.inputs)),e!=="sighash"&amp;&amp;(this.stateMutability!=="nonpayable"&amp;&amp;s.push(this.stateMutability),this.outputs&amp;&amp;this.outputs.length&amp;&amp;(s.push("returns"),s.push(Ji(e,this.outputs))),this.gas!=null&amp;&amp;s.push(`@${this.gas.toString()}`)),s.join(" ")}static getSelector(e,s){return s=(s||[]).map(i=&gt;Jt.from(i)),new rn(xt,e,"view",s,[],null).selector}static from(e){if(rn.isFragment(e))return e;if(typeof e=="string")try{return rn.from(fs(e))}catch{E(!1,"invalid function fragment","obj",e)}else if(e instanceof ze){const r=Sa("function",e),i=Nn(e),o=hd(e);let a=[];Bn(e,re(["returns"])).has("returns")&amp;&amp;(a=Nn(e));const c=dd(e);return Gs(e),new rn(xt,r,o,i,a,c)}let s=e.stateMutability;return s==null&amp;&amp;(s="payable",typeof e.constant=="boolean"?(s="view",e.constant||(s="payable",typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(s="nonpayable"))):typeof e.payable=="boolean"&amp;&amp;!e.payable&amp;&amp;(s="nonpayable")),new rn(xt,e.name,s,e.inputs?e.inputs.map(Jt.from):[],e.outputs?e.outputs.map(Jt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&amp;&amp;e[he]===Zu}}class Ds extends Ba{constructor(t,e,s){super(t,"struct",e,s),Object.defineProperty(this,he,{value:Xu})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Ds.from(fs(t))}catch{E(!1,"invalid struct fragment","obj",t)}else if(t instanceof ze){const e=Sa("struct",t),s=Nn(t);return Gs(t),new Ds(xt,e,s)}return new Ds(xt,t.name,t.inputs?t.inputs.map(Jt.from):[])}static isFragment(t){return t&amp;&amp;t[he]===Xu}}const Ke=new Map;Ke.set(0,"GENERIC_PANIC");Ke.set(1,"ASSERT_FALSE");Ke.set(17,"OVERFLOW");Ke.set(18,"DIVIDE_BY_ZERO");Ke.set(33,"ENUM_RANGE_ERROR");Ke.set(34,"BAD_STORAGE_DATA");Ke.set(49,"STACK_UNDERFLOW");Ke.set(50,"ARRAY_RANGE_ERROR");Ke.set(65,"OUT_OF_MEMORY");Ke.set(81,"UNINITIALIZED_FUNCTION_CALL");const K0=new RegExp(/^bytes([0-9]*)$/),Y0=new RegExp(/^(u?int)([0-9]*)$/);let Ka=null;function W0(n,t,e,s){let r="missing revert data",i=null;const o=null;let a=null;if(e){r="execution reverted";const l=gt(e);if(e=z(e),l.length===0)r+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(z(l.slice(0,4))==="0x08c379a0")try{i=s.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},r+=`: ${JSON.stringify(i)}`}catch{r+=" (could not decode reason; invalid string data)"}else if(z(l.slice(0,4))==="0x4e487b71")try{const u=Number(s.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Ke.get(u)||"UNKNOWN"}(${u})`,r+=`: ${i}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}const c={to:t.to?At(t.to):null,data:t.data||"0x"};return t.from&amp;&amp;(c.from=At(t.from)),Mt(r,"CALL_EXCEPTION",{action:n,data:e,reason:i,transaction:c,invocation:o,revert:a})}var zn,ir;const Aa=class Aa{constructor(){S(this,zn)}getDefaultValue(t){const e=t.map(r=&gt;D(this,zn,ir).call(this,Jt.from(r)));return new _o(e,"_").defaultValue()}encode(t,e){Xf(e.length,t.length,"types/values length mismatch");const s=t.map(o=&gt;D(this,zn,ir).call(this,Jt.from(o))),r=new _o(s,"_"),i=new cc;return r.encode(i,e),i.data}decode(t,e,s){const r=t.map(o=&gt;D(this,zn,ir).call(this,Jt.from(o)));return new _o(r,"_").decode(new lc(e,s))}static defaultAbiCoder(){return Ka==null&amp;&amp;(Ka=new Aa),Ka}static getBuiltinCallException(t,e,s){return W0(t,e,s,Aa.defaultAbiCoder())}};zn=new WeakSet,ir=function(t){if(t.isArray())return new Am(D(this,zn,ir).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new _o(t.components.map(s=&gt;D(this,zn,ir).call(this,s)),t.name);switch(t.baseType){case"address":return new wm(t.name);case"bool":return new bm(t.name);case"string":return new Sm(t.name);case"bytes":return new vm(t.name);case"":return new Cm(t.name)}let e=t.type.match(Y0);if(e){let s=parseInt(e[2]||"256");return E(s!==0&amp;&amp;s&lt;=256&amp;&amp;s%8===0,"invalid "+e[1]+" bit length","param",t),new Nm(s/8,e[1]==="int",t.name)}if(e=t.type.match(K0),e){let s=parseInt(e[1]);return E(s!==0&amp;&amp;s&lt;=32,"invalid bytes length","param",t),new Em(s,t.name)}E(!1,"invalid type","type",t.type)};let Ki=Aa;class Z0{constructor(t,e,s){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const r=t.name,i=t.format();$(this,{fragment:t,name:r,signature:i,topic:e,args:s})}}class X0{constructor(t,e,s,r){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const i=t.name,o=t.format();$(this,{fragment:t,name:i,args:s,signature:o,selector:e,value:r})}}class q0{constructor(t,e,s){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const r=t.name,i=t.format();$(this,{fragment:t,name:r,args:s,signature:i,selector:e})}}class qu{constructor(t){k(this,"hash");k(this,"_isIndexed");$(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&amp;&amp;t._isIndexed)}}const $u={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},tf={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=&gt;`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=&gt;{let t="unknown panic code";return n&gt;=0&amp;&amp;n&lt;=255&amp;&amp;$u[n.toString()]&amp;&amp;(t=$u[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${t})`}}};var Xe,qe,$e,Yt,jr,jo,Qr,Qo;const ur=class ur{constructor(t){S(this,jr);S(this,Qr);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");S(this,Xe,void 0);S(this,qe,void 0);S(this,$e,void 0);S(this,Yt,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,w(this,$e,new Map),w(this,Xe,new Map),w(this,qe,new Map);const s=[];for(const o of e)try{s.push(js.from(o))}catch(a){console.log("EE",a)}$(this,{fragments:Object.freeze(s)});let r=null,i=!1;w(this,Yt,this.getAbiCoder()),this.fragments.forEach((o,a)=&gt;{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}$(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(E(!r||o.payable!==r.payable,"conflicting fallback fragments",`fragments[${a}]`,o),r=o,i=r.payable);return;case"function":c=d(this,$e);break;case"event":c=d(this,qe);break;case"error":c=d(this,Xe);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||$(this,{deploy:In.from("constructor()")}),$(this,{fallback:r,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(r=&gt;r.format(e))}formatJson(){const t=this.fragments.map(e=&gt;e.format("json"));return JSON.stringify(t.map(e=&gt;JSON.parse(e)))}getAbiCoder(){return Ki.defaultAbiCoder()}getFunctionName(t){const e=D(this,jr,jo).call(this,t,null,!1);return E(e,"no matching function","key",t),e.name}hasFunction(t){return!!D(this,jr,jo).call(this,t,null,!1)}getFunction(t,e){return D(this,jr,jo).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(d(this,$e).keys());e.sort((s,r)=&gt;s.localeCompare(r));for(let s=0;s&lt;e.length;s++){const r=e[s];t(d(this,$e).get(r),s)}}getEventName(t){const e=D(this,Qr,Qo).call(this,t,null,!1);return E(e,"no matching event","key",t),e.name}hasEvent(t){return!!D(this,Qr,Qo).call(this,t,null,!1)}getEvent(t,e){return D(this,Qr,Qo).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(d(this,qe).keys());e.sort((s,r)=&gt;s.localeCompare(r));for(let s=0;s&lt;e.length;s++){const r=e[s];t(d(this,qe).get(r),s)}}getError(t,e){if(St(t)){const r=t.toLowerCase();if(tf[r])return ce.from(tf[r].signature);for(const i of d(this,Xe).values())if(r===i.selector)return i;return null}if(t.indexOf("(")===-1){const r=[];for(const[i,o]of d(this,Xe))i.split("(")[0]===t&amp;&amp;r.push(o);if(r.length===0)return t==="Error"?ce.from("error Error(string)"):t==="Panic"?ce.from("error Panic(uint256)"):null;if(r.length&gt;1){const i=r.map(o=&gt;JSON.stringify(o.format())).join(", ");E(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return r[0]}if(t=ce.from(t).format(),t==="Error(string)")return ce.from("error Error(string)");if(t==="Panic(uint256)")return ce.from("error Panic(uint256)");const s=d(this,Xe).get(t);return s||null}forEachError(t){const e=Array.from(d(this,Xe).keys());e.sort((s,r)=&gt;s.localeCompare(r));for(let s=0;s&lt;e.length;s++){const r=e[s];t(d(this,Xe).get(r),s)}}_decodeParams(t,e){return d(this,Yt).decode(t,e)}_encodeParams(t,e){return d(this,Yt).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const s=this.getError(t);E(s,"unknown error","fragment",t),t=s}return E(_t(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,_t(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const s=this.getError(t);E(s,"unknown error","fragment",t),t=s}return Ft([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const s=this.getFunction(t);E(s,"unknown function","fragment",t),t=s}return E(_t(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,_t(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const s=this.getFunction(t);E(s,"unknown function","fragment",t),t=s}return Ft([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);E(i,"unknown function","fragment",t),t=i}let s="invalid length for result data";const r=ue(e);if(r.length%32===0)try{return d(this,Yt).decode(t.outputs,r)}catch{s="could not decode result data"}_(!1,s,"BAD_DATA",{value:z(r),info:{method:t.name,signature:t.format()}})}makeError(t,e){const s=gt(t,"data"),r=Ki.getBuiltinCallException("call",e,s),i="execution reverted (unknown custom error)";if(r.message.startsWith(i)){const a=z(s.slice(0,4)),c=this.getError(a);if(c)try{const l=d(this,Yt).decode(c.inputs,s.slice(4));r.revert={name:c.name,signature:c.format(),args:l},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&amp;&amp;(r.invocation={method:o.name,signature:o.signature,args:o.args}),r}encodeFunctionResult(t,e){if(typeof t=="string"){const s=this.getFunction(t);E(s,"unknown function","fragment",t),t=s}return z(d(this,Yt).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);E(i,"unknown event","eventFragment",t),t=i}_(e.length&lt;=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const s=[];t.anonymous||s.push(t.topicHash);const r=(i,o)=&gt;i.type==="string"?Hs(o):i.type==="bytes"?Nt(z(o)):(i.type==="bool"&amp;&amp;typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=cs(o):i.type.match(/^bytes/)?o=Ip(o,32):i.type==="address"&amp;&amp;d(this,Yt).encode(["address"],[o]),Ms(z(o),32));for(e.forEach((i,o)=&gt;{const a=t.inputs[o];if(!a.indexed){E(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?s.push(null):a.baseType==="array"||a.baseType==="tuple"?E(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?s.push(i.map(c=&gt;r(a,c))):s.push(r(a,i))});s.length&amp;&amp;s[s.length-1]===null;)s.pop();return s}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);E(o,"unknown event","eventFragment",t),t=o}const s=[],r=[],i=[];return t.anonymous||s.push(t.topicHash),E(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=&gt;{const c=e[a];if(o.indexed)if(o.type==="string")s.push(Hs(c));else if(o.type==="bytes")s.push(Nt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");s.push(d(this,Yt).encode([o.type],[c]))}else r.push(o),i.push(c)}),{data:d(this,Yt).encode(r,i),topics:s}}decodeEventLog(t,e,s){if(typeof t=="string"){const p=this.getEvent(t);E(p,"unknown event","eventFragment",t),t=p}if(s!=null&amp;&amp;!t.anonymous){const p=t.topicHash;E(St(s[0],32)&amp;&amp;s[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",s[0]),s=s.slice(1)}const r=[],i=[],o=[];t.inputs.forEach((p,m)=&gt;{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(r.push(Jt.from({type:"bytes32",name:p.name})),o.push(!0)):(r.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=s!=null?d(this,Yt).decode(r,Ft(s)):null,c=d(this,Yt).decode(i,e,!0),l=[],u=[];let f=0,h=0;return t.inputs.forEach((p,m)=&gt;{let A=null;if(p.indexed)if(a==null)A=new qu(null);else if(o[m])A=new qu(a[h++]);else try{A=a[h++]}catch(C){A=C}else try{A=c[f++]}catch(C){A=C}l.push(A),u.push(p.name||null)}),ta.fromItems(l,u)}parseTransaction(t){const e=gt(t.data,"tx.data"),s=W(t.value!=null?t.value:0,"tx.value"),r=this.getFunction(z(e.slice(0,4)));if(!r)return null;const i=d(this,Yt).decode(r.inputs,e.slice(4));return new X0(r,r.selector,i,s)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Z0(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=z(t),s=this.getError(_t(e,0,4));if(!s)return null;const r=d(this,Yt).decode(s.inputs,_t(e,4));return new q0(s,s.selector,r)}static from(t){return t instanceof ur?t:typeof t=="string"?new ur(JSON.parse(t)):typeof t.format=="function"?new ur(t.format("json")):new ur(t)}};Xe=new WeakMap,qe=new WeakMap,$e=new WeakMap,Yt=new WeakMap,jr=new WeakSet,jo=function(t,e,s){if(St(t)){const i=t.toLowerCase();for(const o of d(this,$e).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,$e))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){const o=e.length&gt;0?e[e.length-1]:null;let a=e.length,c=!0;te.isTyped(o)&amp;&amp;o.type==="overrides"&amp;&amp;(c=!1,a--);for(let l=i.length-1;l&gt;=0;l--){const u=i[l].inputs.length;u!==a&amp;&amp;(!c||u!==a-1)&amp;&amp;i.splice(l,1)}for(let l=i.length-1;l&gt;=0;l--){const u=i[l].inputs;for(let f=0;f&lt;e.length;f++)if(te.isTyped(e[f])){if(f&gt;=u.length){if(e[f].type==="overrides")continue;i.splice(l,1);break}if(e[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&amp;&amp;e&amp;&amp;e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&amp;&amp;i.splice(0,1)}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;s){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");E(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,$e).get(rn.from(t).format());return r||null},Qr=new WeakSet,Qo=function(t,e,s){if(St(t)){const i=t.toLowerCase();for(const o of d(this,qe).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,qe))o.split("(")[0]===t&amp;&amp;i.push(a);if(e){for(let o=i.length-1;o&gt;=0;o--)i[o].inputs.length&lt;e.length&amp;&amp;i.splice(o,1);for(let o=i.length-1;o&gt;=0;o--){const a=i[o].inputs;for(let c=0;c&lt;e.length;c++)if(te.isTyped(e[c])&amp;&amp;e[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length&gt;1&amp;&amp;s){const o=i.map(a=&gt;JSON.stringify(a.format())).join(", ");E(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const r=d(this,qe).get(sn.from(t).format());return r||null};let Ac=ur;const pd=BigInt(0);function Ti(n){return n??null}function qt(n){return n==null?null:n.toString()}class ef{constructor(t,e,s){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");$(this,{gasPrice:Ti(t),maxFeePerGas:Ti(e),maxPriorityFeePerGas:Ti(s)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:s}=this;return{_type:"FeeData",gasPrice:qt(t),maxFeePerGas:qt(e),maxPriorityFeePerGas:qt(s)}}}function ha(n){const t={};n.to&amp;&amp;(t.to=n.to),n.from&amp;&amp;(t.from=n.from),n.data&amp;&amp;(t.data=z(n.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of e)!(r in n)||n[r]==null||(t[r]=W(n[r],`request.${r}`));const s="type,nonce".split(/,/);for(const r of s)!(r in n)||n[r]==null||(t[r]=ct(n[r],`request.${r}`));return n.accessList&amp;&amp;(t.accessList=Js(n.accessList)),"blockTag"in n&amp;&amp;(t.blockTag=n.blockTag),"enableCcipRead"in n&amp;&amp;(t.enableCcipRead=!!n.enableCcipRead),"customData"in n&amp;&amp;(t.customData=n.customData),t}var An;class $0{constructor(t,e){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"miner");k(this,"extraData");k(this,"baseFeePerGas");S(this,An,void 0);w(this,An,t.transactions.map(s=&gt;typeof s!="string"?new Yi(s,e):s)),$(this,{provider:e,hash:Ti(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Ti(t.baseFeePerGas)})}get transactions(){return d(this,An).map(t=&gt;typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=d(this,An).slice();return t.length===0?[]:(_(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:s,gasLimit:r,gasUsed:i,hash:o,miner:a,nonce:c,number:l,parentHash:u,timestamp:f,transactions:h}=this;return{_type:"Block",baseFeePerGas:qt(t),difficulty:qt(e),extraData:s,gasLimit:qt(r),gasUsed:qt(i),hash:o,miner:a,nonce:c,number:l,parentHash:u,timestamp:f,transactions:h}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=&gt;t&lt;this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,An).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=d(this,An)[t];else{const s=t.toLowerCase();for(const r of d(this,An))if(typeof r=="string"){if(r!==s)continue;e=r;break}else{if(r.hash===s)continue;e=r;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const s of e)if(s.hash===t)return s;E(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return tw(this)}}An=new WeakMap;class yo{constructor(t,e){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=e;const s=Object.freeze(t.topics.slice());$(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:s,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:s,data:r,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:s,data:r,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return _(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return _(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return _(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return ew(this)}}var to;class gd{constructor(t,e){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"type");k(this,"status");k(this,"root");S(this,to,void 0);w(this,to,Object.freeze(t.logs.map(r=&gt;new yo(r,e))));let s=pd;t.effectiveGasPrice!=null?s=t.effectiveGasPrice:t.gasPrice!=null&amp;&amp;(s=t.gasPrice),$(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:s,type:t.type,status:t.status,root:t.root})}get logs(){return d(this,to)}toJSON(){const{to:t,from:e,contractAddress:s,hash:r,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:s,cumulativeGasUsed:qt(this.cumulativeGasUsed),from:e,gasPrice:qt(this.gasPrice),gasUsed:qt(this.gasUsed),hash:r,index:i,logs:l,logsBloom:c,root:f,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=&gt;t&lt;this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return wd(this)}reorderedEvent(t){return _(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),md(this,t)}}to=new WeakMap;var Jn;const Fl=class Fl{constructor(t,e){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");S(this,Jn,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,w(this,Jn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:s,hash:r,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f}=this;return{_type:"TransactionReceipt",accessList:f,blockNumber:t,blockHash:e,chainId:qt(this.chainId),data:l,from:a,gasLimit:qt(this.gasLimit),gasPrice:qt(this.gasPrice),hash:r,maxFeePerGas:qt(this.maxFeePerGas),maxPriorityFeePerGas:qt(this.maxPriorityFeePerGas),nonce:c,signature:u,to:o,index:s,type:i,value:qt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const s=await this.getTransaction();s&amp;&amp;(t=s.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:s}=await ee({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:s-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const s=t??1,r=e??0;let i=d(this,Jn),o=-1,a=i===-1;const c=async()=&gt;{if(a)return null;const{blockNumber:h,nonce:p}=await ee({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p&lt;this.nonce){i=h;return}if(a)return null;const m=await this.getTransaction();if(!(m&amp;&amp;m.blockNumber!=null))for(o===-1&amp;&amp;(o=i-3,o&lt;d(this,Jn)&amp;&amp;(o=d(this,Jn)));o&lt;=h;){if(a)return null;const A=await this.provider.getBlock(o,!0);if(A==null)return;for(const C of A)if(C===this.hash)return;for(let C=0;C&lt;A.length;C++){const I=await A.getTransaction(C);if(I.from===this.from&amp;&amp;I.nonce===this.nonce){if(a)return null;const x=await this.provider.getTransactionReceipt(I.hash);if(x==null||h-x.blockNumber+1&lt;s)return;let P="replaced";I.data===this.data&amp;&amp;I.to===this.to&amp;&amp;I.value===this.value?P="repriced":I.data==="0x"&amp;&amp;I.from===I.to&amp;&amp;I.value===pd&amp;&amp;(P="cancelled"),_(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:I.replaceableTransaction(i),hash:I.hash,receipt:x})}}o++}},l=h=&gt;{if(h==null||h.status!==0)return h;_(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(s===0)return l(u);if(u){if(await u.confirmations()&gt;=s)return l(u)}else if(await c(),s===0)return null;return await new Promise((h,p)=&gt;{const m=[],A=()=&gt;{m.forEach(I=&gt;I())};if(m.push(()=&gt;{a=!0}),r&gt;0){const I=setTimeout(()=&gt;{A(),p(Mt("wait for transaction timeout","TIMEOUT"))},r);m.push(()=&gt;{clearTimeout(I)})}const C=async I=&gt;{if(await I.confirmations()&gt;=s){A();try{h(l(I))}catch(x){p(x)}}};if(m.push(()=&gt;{this.provider.off(this.hash,C)}),this.provider.on(this.hash,C),i&gt;=0){const I=async()=&gt;{try{await c()}catch(x){if(Te(x,"TRANSACTION_REPLACED")){A(),p(x);return}}a||this.provider.once("block",I)};m.push(()=&gt;{this.provider.off("block",I)}),this.provider.once("block",I)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return _(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wd(this)}reorderedEvent(t){return _(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),md(this,t)}replaceableTransaction(t){E(Number.isInteger(t)&amp;&amp;t&gt;=0,"invalid startBlock","startBlock",t);const e=new Fl(this,this.provider);return w(e,Jn,t),e}};Jn=new WeakMap;let Yi=Fl;function tw(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function md(n,t){return{orphan:"reorder-transaction",tx:n,other:t}}function wd(n){return{orphan:"drop-transaction",tx:n}}function ew(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class Nl extends yo{constructor(e,s,r){super(e,e.provider);k(this,"interface");k(this,"fragment");k(this,"args");const i=s.decodeEventLog(r,e.data,e.topics);$(this,{args:i,fragment:r,interface:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yd extends yo{constructor(e,s){super(e,e.provider);k(this,"error");$(this,{error:s})}}var Vr;class nw extends gd{constructor(e,s,r){super(r,s);S(this,Vr,void 0);w(this,Vr,e)}get logs(){return super.logs.map(e=&gt;{const s=e.topics.length?d(this,Vr).getEvent(e.topics[0]):null;if(s)try{return new Nl(e,d(this,Vr),s)}catch(r){return new yd(e,r)}return e})}}Vr=new WeakMap;var eo;class Sl extends Yi{constructor(e,s,r){super(r,s);S(this,eo,void 0);w(this,eo,e)}async wait(e){const s=await super.wait(e);return s==null?null:new nw(d(this,eo),this.provider,s)}}eo=new WeakMap;class Ad extends eh{constructor(e,s,r,i){super(e,s,r);k(this,"log");$(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class sw extends Ad{constructor(t,e,s,r,i){super(t,e,s,new Nl(i,t.interface,r));const o=t.interface.decodeEventLog(r,this.log.data,this.log.topics);$(this,{args:o,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const nf=BigInt(0);function bd(n){return n&amp;&amp;typeof n.call=="function"}function vd(n){return n&amp;&amp;typeof n.estimateGas=="function"}function Bl(n){return n&amp;&amp;typeof n.resolveName=="function"}function Ed(n){return n&amp;&amp;typeof n.sendTransaction=="function"}var no;class rw{constructor(t,e,s){S(this,no,void 0);k(this,"fragment");if($(this,{fragment:e}),e.inputs.length&lt;s.length)throw new Error("too many arguments");const r=Qs(t.runner,"resolveName"),i=Bl(r)?r:null;w(this,no,async function(){const o=await Promise.all(e.inputs.map((a,c)=&gt;s[c]==null?null:a.walkAsync(s[c],(u,f)=&gt;u==="address"?Array.isArray(f)?Promise.all(f.map(h=&gt;fe(h,i))):fe(f,i):f)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return d(this,no)}}no=new WeakMap;function Qs(n,t){return n==null?null:typeof n[t]=="function"?n:n.provider&amp;&amp;typeof n.provider[t]=="function"?n.provider:null}function ws(n){return n==null?null:n.provider||null}async function kd(n,t){const e=te.dereference(n,"overrides");E(typeof e=="object","invalid overrides parameter","overrides",n);const s=ha(e);return E(s.to==null||(t||[]).indexOf("to")&gt;=0,"cannot override to","overrides.to",s.to),E(s.data==null||(t||[]).indexOf("data")&gt;=0,"cannot override data","overrides.data",s.data),s.from&amp;&amp;(s.from=await fe(s.from)),s}async function iw(n,t,e){const s=Qs(n,"resolveName"),r=Bl(s)?s:null;return await Promise.all(t.map((i,o)=&gt;i.walkAsync(e[o],(a,c)=&gt;(c=te.dereference(c,a),a==="address"?fe(c,r):c))))}function ow(n){const t=async function(o){const a=await kd(o,["data"]);a.to=await n.getAddress();const c=n.interface,l=W(a.value||nf,"overrides.value")===nf,u=(a.data||"0x")==="0x";c.fallback&amp;&amp;!c.fallback.payable&amp;&amp;c.receive&amp;&amp;!u&amp;&amp;!l&amp;&amp;E(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),E(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&amp;&amp;c.fallback.payable;return E(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),E(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=Qs(n.runner,"call");_(bd(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(o);try{return await a.call(c)}catch(l){throw yl(l)&amp;&amp;l.data?n.interface.makeError(l.data,c):l}},s=async function(o){const a=n.runner;_(Ed(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await t(o)),l=ws(n.runner);return new Sl(n.interface,l,c)},r=async function(o){const a=Qs(n.runner,"estimateGas");return _(vd(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},i=async o=&gt;await s(o);return $(i,{_contract:n,estimateGas:r,populateTransaction:t,send:s,staticCall:e}),i}function aw(n,t){const e=function(...l){const u=n.interface.getFunction(t,l);return _(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:l}}),u},s=async function(...l){const u=e(...l);let f={};if(u.inputs.length+1===l.length&amp;&amp;(f=await kd(l.pop())),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await iw(n.runner,u.inputs,l);return Object.assign({},f,await ee({to:n.getAddress(),data:n.interface.encodeFunctionData(u,h)}))},r=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=n.runner;_(Ed(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await s(...l)),h=ws(n.runner);return new Sl(n.interface,h,f)},o=async function(...l){const u=Qs(n.runner,"estimateGas");return _(vd(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await s(...l))},a=async function(...l){const u=Qs(n.runner,"call");_(bd(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await s(...l);let h="0x";try{h=await u.call(f)}catch(m){throw yl(m)&amp;&amp;m.data?n.interface.makeError(m.data,f):m}const p=e(...l);return n.interface.decodeFunctionResult(p,h)},c=async(...l)=&gt;e(...l).constant?await r(...l):await i(...l);return $(c,{name:n.interface.getFunctionName(t),_contract:n,_key:t,getFragment:e,estimateGas:o,populateTransaction:s,send:i,staticCall:r,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const l=n.interface.getFunction(t);return _(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),l}}),c}function cw(n,t){const e=function(...r){const i=n.interface.getEvent(t,r);return _(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},s=function(...r){return new rw(n,e(...r),r)};return $(s,{name:n.interface.getEventName(t),_contract:n,_key:t,getFragment:e}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=&gt;{const r=n.interface.getEvent(t);return _(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),s}const da=Symbol.for("_ethersInternal_contract"),Cd=new WeakMap;function lw(n,t){Cd.set(n[da],t)}function ge(n){return Cd.get(n[da])}function uw(n){return n&amp;&amp;typeof n=="object"&amp;&amp;"getTopicFilter"in n&amp;&amp;typeof n.getTopicFilter=="function"&amp;&amp;n.fragment}async function Tl(n,t){let e,s=null;if(Array.isArray(t)){const i=function(o){if(St(o,32))return o;const a=n.interface.getEvent(o);return E(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=&gt;o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?St(t,32)?e=[t]:(s=n.interface.getEvent(t),E(s,"unknown fragment","event",t),e=[s.topicHash]):uw(t)?e=await t.getTopicFilter():"fragment"in t?(s=t.fragment,e=[s.topicHash]):E(!1,"unknown event name","event",t);e=e.map(i=&gt;{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=&gt;a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const r=e.map(i=&gt;i==null?"null":Array.isArray(i)?i.join("|"):i).join("&amp;");return{fragment:s,tag:r,topics:e}}async function Ci(n,t){const{subs:e}=ge(n);return e.get((await Tl(n,t)).tag)||null}async function sf(n,t,e){const s=ws(n.runner);_(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:r,tag:i,topics:o}=await Tl(n,e),{addr:a,subs:c}=ge(n);let l=c.get(i);if(!l){const f={address:a||n,topics:o},h=C=&gt;{let I=r;if(I==null)try{I=n.interface.getEvent(C.topics[0])}catch{}if(I){const x=I,P=r?n.interface.decodeEventLog(r,C.data,C.topics):[];vc(n,e,P,B=&gt;new sw(n,B,e,x,C))}else vc(n,e,[],x=&gt;new Ad(n,x,e,C))};let p=[];l={tag:i,listeners:[],start:()=&gt;{p.length||p.push(s.on(f,h))},stop:async()=&gt;{if(p.length==0)return;let C=p;p=[],await Promise.all(C),s.off(f,h)}},c.set(i,l)}return l}let bc=Promise.resolve();async function fw(n,t,e,s){await bc;const r=await Ci(n,t);if(!r)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=&gt;{const c=Array.from(e);s&amp;&amp;c.push(s(a?null:o));try{o.call(n,...c)}catch{}return!a}),r.listeners.length===0&amp;&amp;(r.stop(),ge(n).subs.delete(r.tag)),i&gt;0}async function vc(n,t,e,s){try{await bc}catch{}const r=fw(n,t,e,s);return bc=r,await r}const Oo=["then"];var Cy;const Oi=class Oi{constructor(t,e,s,r){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,Cy);k(this,"fallback");E(typeof t=="string"||Nh(t),"invalid value for Contract target","target",t),s==null&amp;&amp;(s=null);const i=Ac.from(e);$(this,{target:t,runner:s,interface:i}),Object.defineProperty(this,da,{value:{}});let o,a=null,c=null;if(r){const f=ws(s);c=new Sl(this.interface,f,r)}let l=new Map;if(typeof t=="string")if(St(t))a=t,o=Promise.resolve(t);else{const f=Qs(s,"resolveName");if(!Bl(f))throw Mt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(t).then(h=&gt;{if(h==null)throw Mt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return ge(this).addr=h,h})}else o=t.getAddress().then(f=&gt;{if(f==null)throw new Error("TODO");return ge(this).addr=f,f});lw(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,p)=&gt;{if(typeof h=="symbol"||Oo.indexOf(h)&gt;=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(m){if(!Te(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,h)=&gt;Oo.indexOf(h)&gt;=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return $(this,{filters:u}),$(this,{fallback:i.receive||i.fallback?ow(this):null}),new Proxy(this,{get:(f,h,p)=&gt;{if(typeof h=="symbol"||h in f||Oo.indexOf(h)&gt;=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(m){if(!Te(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,h)=&gt;typeof h=="symbol"||h in f||Oo.indexOf(h)&gt;=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new Oi(this.target,this.interface,t)}attach(t){return new Oi(t,this.interface,this.runner)}async getAddress(){return await ge(this).addrPromise}async getDeployedCode(){const t=ws(this.runner);_(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const s=ws(this.runner);return _(s!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,i)=&gt;{const o=async()=&gt;{try{if(await this.getDeployedCode()!=null)return r(this);s.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return ge(this).deployTx}getFunction(t){return typeof t!="string"&amp;&amp;(t=t.format()),aw(this,t)}getEvent(t){return typeof t!="string"&amp;&amp;(t=t.format()),cw(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,s){e==null&amp;&amp;(e=0),s==null&amp;&amp;(s="latest");const{addr:r,addrPromise:i}=ge(this),o=r||await i,{fragment:a,topics:c}=await Tl(this,t),l={address:o,topics:c,fromBlock:e,toBlock:s},u=ws(this.runner);return _(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=&gt;{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Nl(f,this.interface,h)}catch(p){return new yd(f,p)}return new yo(f,u)})}async on(t,e){const s=await sf(this,"on",t);return s.listeners.push({listener:e,once:!1}),s.start(),this}async once(t,e){const s=await sf(this,"once",t);return s.listeners.push({listener:e,once:!0}),s.start(),this}async emit(t,...e){return await vc(this,t,e,null)}async listenerCount(t){if(t){const r=await Ci(this,t);return r?r.listeners.length:0}const{subs:e}=ge(this);let s=0;for(const{listeners:r}of e.values())s+=r.length;return s}async listeners(t){if(t){const r=await Ci(this,t);return r?r.listeners.map(({listener:i})=&gt;i):[]}const{subs:e}=ge(this);let s=[];for(const{listeners:r}of e.values())s=s.concat(r.map(({listener:i})=&gt;i));return s}async off(t,e){const s=await Ci(this,t);if(!s)return this;if(e){const r=s.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;s.listeners.splice(r,1)}return(e==null||s.listeners.length===0)&amp;&amp;(s.stop(),ge(this).subs.delete(s.tag)),this}async removeAllListeners(t){if(t){const e=await Ci(this,t);if(!e)return this;e.stop(),ge(this).subs.delete(e.tag)}else{const{subs:e}=ge(this);for(const{tag:s,stop:r}of e.values())r(),e.delete(s)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends Oi{constructor(r,i=null){super(r,t,i)}}return e}static from(t,e,s){return s==null&amp;&amp;(s=null),new this(t,e,s)}};Cy=da;let Ec=Oi;function hw(){return Ec}class yr extends hw(){}function Ya(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):E(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class dw{constructor(t){k(this,"name");$(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Pd=new RegExp("^(ipfs)://(.*)$","i"),rf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pd,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Kn,xs,Yn,or,ba,Id;const fr=class fr{constructor(t,e,s){S(this,Yn);k(this,"provider");k(this,"address");k(this,"name");S(this,Kn,void 0);S(this,xs,void 0);$(this,{provider:t,address:e,name:s}),w(this,Kn,null),w(this,xs,new yr(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return d(this,Kn)==null&amp;&amp;w(this,Kn,(async()=&gt;{try{return await d(this,xs).supportsInterface("0x9061b923")}catch(t){if(Te(t,"CALL_EXCEPTION"))return!1;throw w(this,Kn,null),t}})()),await d(this,Kn)}async getAddress(t){if(t==null&amp;&amp;(t=60),t===60)try{const i=await D(this,Yn,or).call(this,"addr(bytes32)");return i==null||i===pc?null:i}catch(i){if(Te(i,"CALL_EXCEPTION"))return null;throw i}if(t&gt;=0&amp;&amp;t&lt;2147483648){let i=t+2147483648;const o=await D(this,Yn,or).call(this,"addr(bytes32,uint)",[i]);if(St(o,20))return At(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof dw&amp;&amp;i.supportsCoinType(t)){e=i;break}if(e==null)return null;const s=await D(this,Yn,or).call(this,"addr(bytes32,uint)",[t]);if(s==null||s==="0x")return null;const r=await e.decodeAddress(t,s);if(r!=null)return r;_(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:s}})}async getText(t){const e=await D(this,Yn,or).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await D(this,Yn,or).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const r=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${r}://${Bp("0x"+e[2])}`}const s=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&amp;&amp;s[1].length===64)return`bzz://${s[1]}`;_(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let s=0;s&lt;rf.length;s++){const r=e.match(rf[s]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=Ya(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(r[2]||"").split("/");if(c.length!==2)return t.push({type:`!${i}caip`,value:r[2]||""}),{url:null,linkage:t};const l=c[1],u=new yr(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const A=await u.ownerOf(l);if(a!==A)return t.push({type:"!owner",value:A}),{url:null,linkage:t};t.push({type:"owner",value:A})}else if(i==="erc1155"){const A=await u.balanceOf(a,l);if(!A)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:A.toString()})}let f=await u[o](l);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),i==="erc1155"&amp;&amp;(f=f.replace("{id}",cs(l,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&amp;&amp;(f=Ya(f)),t.push({type:"metadata-url",value:f});let h={};const p=await new Sn(f).send();p.assertOk();try{h=p.bodyJson}catch{try{t.push({type:"!metadata",value:p.bodyText})}catch{const I=p.body;return I&amp;&amp;t.push({type:"!metadata",value:z(I)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Pd)==null)return t.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:m}),m=Ya(m)}return t.push({type:"url",value:m}),{linkage:t,url:m}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),s=e.getPlugin("org.ethers.plugins.network.Ens");return _(s,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),s.address}static async fromName(t,e){var r;let s=e;for(;;){if(s===""||s==="."||e!=="eth"&amp;&amp;s==="eth")return null;const i=await D(r=fr,ba,Id).call(r,t,s);if(i!=null){const o=new fr(t,i,e);return s!==e&amp;&amp;!await o.supportsWildcard()?null:o}s=s.split(".").slice(1).join(".")}}};Kn=new WeakMap,xs=new WeakMap,Yn=new WeakSet,or=async function(t,e){e=(e||[]).slice();const s=d(this,xs).interface;e.unshift(wc(this.name));let r=null;await this.supportsWildcard()&amp;&amp;(r=s.getFunction(t),_(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[y0(this.name),s.encodeFunctionData(r,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await d(this,xs)[t](...e);return r?s.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Te(i,"CALL_EXCEPTION"))throw i}return null},ba=new WeakSet,Id=async function(t,e){const s=await fr.getEnsAddress(t);try{const i=await new yr(s,["function resolver(bytes32) view returns (address)"],t).resolver(wc(e),{enableCcipRead:!0});return i===pc?null:i}catch(r){throw r}return null},S(fr,ba);let pa=fr;const of=BigInt(0);function It(n,t){return function(e){return e==null?t:n(e)}}function _l(n){return t=&gt;{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=&gt;n(e))}}function Ao(n,t){return e=&gt;{const s={};for(const r in n){let i=r;if(t&amp;&amp;r in t&amp;&amp;!(i in e)){for(const o of t[r])if(o in e){i=o;break}}try{const o=n[r](e[i]);o!==void 0&amp;&amp;(s[r]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";_(!1,`invalid value for value.${r} (${a})`,"BAD_DATA",{value:e})}}return s}}function pw(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}E(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function ai(n){return E(St(n,!0),"invalid data","value",n),n}function _e(n){return E(St(n,32),"invalid hash","value",n),n}const gw=Ao({address:At,blockHash:_e,blockNumber:ct,data:ai,index:ct,removed:It(pw,!1),topics:_l(_e),transactionHash:_e,transactionIndex:ct},{index:["logIndex"]});function mw(n){return gw(n)}const ww=Ao({hash:It(_e),parentHash:_e,number:ct,timestamp:ct,nonce:It(ai),difficulty:W,gasLimit:W,gasUsed:W,miner:It(At),extraData:ai,baseFeePerGas:It(W)});function yw(n){const t=ww(n);return t.transactions=n.transactions.map(e=&gt;typeof e=="string"?e:xd(e)),t}const Aw=Ao({transactionIndex:ct,blockNumber:ct,transactionHash:_e,address:At,topics:_l(_e),data:ai,index:ct,blockHash:_e},{index:["logIndex"]});function bw(n){return Aw(n)}const vw=Ao({to:It(At,null),from:It(At,null),contractAddress:It(At,null),index:ct,root:It(z),gasUsed:W,logsBloom:It(ai),blockHash:_e,hash:_e,logs:_l(bw),blockNumber:ct,cumulativeGasUsed:W,effectiveGasPrice:It(W),status:It(ct),type:It(ct,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Ew(n){return vw(n)}function xd(n){n.to&amp;&amp;W(n.to)===of&amp;&amp;(n.to="0x0000000000000000000000000000000000000000");const t=Ao({hash:_e,type:e=&gt;e==="0x"||e==null?0:ct(e),accessList:It(Js,null),blockHash:It(_e,null),blockNumber:It(ct,null),transactionIndex:It(ct,null),from:At,gasPrice:It(W),maxPriorityFeePerGas:It(W),maxFeePerGas:It(W),gasLimit:W,to:It(At,null),value:W,nonce:ct,data:ai,creates:It(At,null),chainId:It(W,null)},{data:["input"],gasLimit:["gas"]})(n);if(t.to==null&amp;&amp;t.creates==null&amp;&amp;(t.creates=mm(t)),(n.type===1||n.type===2)&amp;&amp;n.accessList==null&amp;&amp;(t.accessList=[]),n.signature?t.signature=Ve.from(n.signature):t.signature=Ve.from(n),t.chainId==null){const e=t.signature.legacyChainId;e!=null&amp;&amp;(t.chainId=e)}return t.blockHash&amp;&amp;W(t.blockHash)===of&amp;&amp;(t.blockHash=null),t}const kw="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class bo{constructor(t){k(this,"name");$(this,{name:t})}clone(){return new bo(this.name)}}class Ta extends bo{constructor(e,s){e==null&amp;&amp;(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const r={effectiveBlock:e};function i(o,a){let c=(s||{})[o];c==null&amp;&amp;(c=a),E(typeof c=="number",`invalud value for ${o}`,"costs",s),r[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),$(this,r)}clone(){return new Ta(this.effectiveBlock,this)}}class _a extends bo{constructor(e,s){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");$(this,{address:e||kw,targetNetwork:s??1})}clone(){return new _a(this.address,this.targetNetwork)}}var so,ro;class Nd extends bo{constructor(e,s){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");S(this,so,void 0);S(this,ro,void 0);w(this,so,e),w(this,ro,s)}get url(){return d(this,so)}get processFunc(){return d(this,ro)}clone(){return this}}so=new WeakMap,ro=new WeakMap;const Wa=new Map;var zr,Jr,Wn;const hr=class hr{constructor(t,e){S(this,zr,void 0);S(this,Jr,void 0);S(this,Wn,void 0);w(this,zr,t),w(this,Jr,W(e)),w(this,Wn,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,zr)}set name(t){w(this,zr,t)}get chainId(){return d(this,Jr)}set chainId(t){w(this,Jr,W(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===W(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===W(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===W(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(d(this,Wn).values())}attachPlugin(t){if(d(this,Wn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Wn).set(t.name,t.clone()),this}getPlugin(t){return d(this,Wn).get(t)||null}getPlugins(t){return this.plugins.filter(e=&gt;e.name.split("#")[0]===t)}clone(){const t=new hr(this.name,this.chainId);return this.plugins.forEach(e=&gt;{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ta;let s=e.txBase;if(t.to==null&amp;&amp;(s+=e.txCreate),t.data)for(let r=2;r&lt;t.data.length;r+=2)t.data.substring(r,r+2)==="00"?s+=e.txDataZero:s+=e.txDataNonzero;if(t.accessList){const r=Js(t.accessList);for(const i in r)s+=e.txAccessListAddress+e.txAccessListStorageKey*r[i].storageKeys.length}return s}static from(t){if(Pw(),t==null)return hr.from("mainnet");if(typeof t=="number"&amp;&amp;(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=Wa.get(t);if(e)return e();if(typeof t=="bigint")return new hr("unknown",t);E(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){E(typeof t.name=="string"&amp;&amp;typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new hr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&amp;&amp;e.attachPlugin(new _a(t.ensAddress,t.ensNetwork)),e}E(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&amp;&amp;(t=BigInt(t));const s=Wa.get(t);s&amp;&amp;E(!1,`conflicting network for ${JSON.stringify(s.name)}`,"nameOrChainId",t),Wa.set(t,e)}};zr=new WeakMap,Jr=new WeakMap,Wn=new WeakMap;let on=hr;function af(n,t){const e=String(n);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const s=e.split(".");if(s.length===1&amp;&amp;s.push(""),s.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;s[1].length&lt;t;)s[1]+="0";if(s[1].length&gt;9){let r=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||r++,s[1]=r.toString()}return BigInt(s[0]+s[1])}function cf(n){return new Nd(n,async(t,e,s)=&gt;{s.setHeader("User-Agent","ethers");let r;try{const[i,o]=await Promise.all([s.send(),t()]);r=i;const a=r.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:af(a.maxFee,9),maxPriorityFeePerGas:af(a.maxPriorityFee,9)}}catch(i){_(!1,`error encountered with polygon gas station (${JSON.stringify(s.url)})`,"SERVER_ERROR",{request:s,response:r,error:i})}})}function Cw(n){return new Nd("data:",async(t,e,s)=&gt;{const r=await t();if(r.maxFeePerGas==null||r.maxPriorityFeePerGas==null)return r;const i=r.maxFeePerGas-r.maxPriorityFeePerGas;return{gasPrice:r.gasPrice,maxFeePerGas:i+n,maxPriorityFeePerGas:n}})}let lf=!1;function Pw(){if(lf)return;lf=!0;function n(t,e,s){const r=function(){const i=new on(t,e);return s.ensNetwork!=null&amp;&amp;i.attachPlugin(new _a(null,s.ensNetwork)),i.attachPlugin(new Ta),(s.plugins||[]).forEach(o=&gt;{i.attachPlugin(o)}),i};on.register(t,r),on.register(e,r),s.altNames&amp;&amp;s.altNames.forEach(i=&gt;{on.register(i,r)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("matic",137,{ensNetwork:1,plugins:[cf("https://gasstation.polygon.technology/v2")]}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[cf("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[Cw(BigInt("1000000"))]}),n("optimism-goerli",420,{}),n("xdai",100,{ensNetwork:1})}function kc(n){return JSON.parse(JSON.stringify(n))}var bn,Ne,Zn,tn,Kr,Vo;class Iw{constructor(t){S(this,Kr);S(this,bn,void 0);S(this,Ne,void 0);S(this,Zn,void 0);S(this,tn,void 0);w(this,bn,t),w(this,Ne,null),w(this,Zn,4e3),w(this,tn,-2)}get pollingInterval(){return d(this,Zn)}set pollingInterval(t){w(this,Zn,t)}start(){d(this,Ne)||(w(this,Ne,d(this,bn)._setTimeout(D(this,Kr,Vo).bind(this),d(this,Zn))),D(this,Kr,Vo).call(this))}stop(){d(this,Ne)&amp;&amp;(d(this,bn)._clearTimeout(d(this,Ne)),w(this,Ne,null))}pause(t){this.stop(),t&amp;&amp;w(this,tn,-2)}resume(){this.start()}}bn=new WeakMap,Ne=new WeakMap,Zn=new WeakMap,tn=new WeakMap,Kr=new WeakSet,Vo=async function(){try{const t=await d(this,bn).getBlockNumber();if(d(this,tn)===-2){w(this,tn,t);return}if(t!==d(this,tn)){for(let e=d(this,tn)+1;e&lt;=t;e++){if(d(this,Ne)==null)return;await d(this,bn).emit("block",e)}w(this,tn,t)}}catch{}d(this,Ne)!=null&amp;&amp;w(this,Ne,d(this,bn)._setTimeout(D(this,Kr,Vo).bind(this),d(this,Zn)))};var Ns,Ss,Xn;class Sd{constructor(t){S(this,Ns,void 0);S(this,Ss,void 0);S(this,Xn,void 0);w(this,Ns,t),w(this,Xn,!1),w(this,Ss,e=&gt;{this._poll(e,d(this,Ns))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){d(this,Xn)||(w(this,Xn,!0),d(this,Ss).call(this,-2),d(this,Ns).on("block",d(this,Ss)))}stop(){d(this,Xn)&amp;&amp;(w(this,Xn,!1),d(this,Ns).off("block",d(this,Ss)))}pause(t){this.stop()}resume(){this.start()}}Ns=new WeakMap,Ss=new WeakMap,Xn=new WeakMap;var va;class xw extends Sd{constructor(e,s){super(e);S(this,va,void 0);w(this,va,kc(s))}async _poll(e,s){throw new Error("@TODO")}}va=new WeakMap;var Yr;class Nw extends Sd{constructor(e,s){super(e);S(this,Yr,void 0);w(this,Yr,s)}async _poll(e,s){const r=await s.getTransactionReceipt(d(this,Yr));r&amp;&amp;s.emit(d(this,Yr),r)}}Yr=new WeakMap;var vn,Wr,Zr,qn,Se,Ea,Bd;class Ol{constructor(t,e){S(this,Ea);S(this,vn,void 0);S(this,Wr,void 0);S(this,Zr,void 0);S(this,qn,void 0);S(this,Se,void 0);w(this,vn,t),w(this,Wr,kc(e)),w(this,Zr,D(this,Ea,Bd).bind(this)),w(this,qn,!1),w(this,Se,-2)}start(){d(this,qn)||(w(this,qn,!0),d(this,Se)===-2&amp;&amp;d(this,vn).getBlockNumber().then(t=&gt;{w(this,Se,t)}),d(this,vn).on("block",d(this,Zr)))}stop(){d(this,qn)&amp;&amp;(w(this,qn,!1),d(this,vn).off("block",d(this,Zr)))}pause(t){this.stop(),t&amp;&amp;w(this,Se,-2)}resume(){this.start()}}vn=new WeakMap,Wr=new WeakMap,Zr=new WeakMap,qn=new WeakMap,Se=new WeakMap,Ea=new WeakSet,Bd=async function(t){if(d(this,Se)===-2)return;const e=kc(d(this,Wr));e.fromBlock=d(this,Se)+1,e.toBlock=t;const s=await d(this,vn).getLogs(e);if(s.length===0){d(this,Se)&lt;t-60&amp;&amp;w(this,Se,t-60);return}for(const r of s)d(this,vn).emit(d(this,Wr),r),w(this,Se,r.blockNumber)};const Sw=BigInt(2),Bw=10;function Lo(n){return n&amp;&amp;typeof n.then=="function"}function zo(n,t){return n+":"+JSON.stringify(t,(e,s)=&gt;{if(s==null)return"null";if(typeof s=="bigint")return`bigint:${s.toString()}`;if(typeof s=="string")return s.toLowerCase();if(typeof s=="object"&amp;&amp;!Array.isArray(s)){const r=Object.keys(s);return r.sort(),r.reduce((i,o)=&gt;(i[o]=s[o],i),{})}return s})}class Td{constructor(t){k(this,"name");$(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function Tw(n){return JSON.parse(JSON.stringify(n))}function Cc(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function Za(n,t){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&amp;&amp;(n={topics:n}),typeof n=="string")switch(n){case"block":case"pending":case"debug":case"error":case"network":return{type:n,tag:n}}if(St(n,32)){const e=n.toLowerCase();return{type:"transaction",tag:zo("tx",{hash:e}),hash:e}}if(n.orphan){const e=n;return{type:"orphan",tag:zo("orphan",e),filter:Tw(e)}}if(n.address||n.topics){const e=n,s={topics:(e.topics||[]).map(r=&gt;r==null?null:Array.isArray(r)?Cc(r.map(i=&gt;i.toLowerCase())):r.toLowerCase())};if(e.address){const r=[],i=[],o=a=&gt;{St(a)?r.push(a):i.push((async()=&gt;{r.push(await fe(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&amp;&amp;await Promise.all(i),s.address=Cc(r.map(a=&gt;a.toLowerCase()))}return{filter:s,tag:zo("event",s),type:"event"}}E(!1,"unknown ProviderEvent","event",n)}function Xa(){return new Date().getTime()}const _w={cacheTimeout:250,pollingInterval:4e3};var Wt,$n,Zt,Xr,ye,Bs,ts,En,io,Be,qr,$r,ie,Ce,oo,Pc,ao,Ic,Ts,Pi,co,xc,_s,Ii,ti,Jo;class Ow{constructor(t,e){S(this,ie);S(this,oo);S(this,ao);S(this,Ts);S(this,co);S(this,_s);S(this,ti);S(this,Wt,void 0);S(this,$n,void 0);S(this,Zt,void 0);S(this,Xr,void 0);S(this,ye,void 0);S(this,Bs,void 0);S(this,ts,void 0);S(this,En,void 0);S(this,io,void 0);S(this,Be,void 0);S(this,qr,void 0);S(this,$r,void 0);if(w(this,$r,Object.assign({},_w,e||{})),t==="any")w(this,Bs,!0),w(this,ye,null);else if(t){const s=on.from(t);w(this,Bs,!1),w(this,ye,Promise.resolve(s)),setTimeout(()=&gt;{this.emit("network",s,null)},0)}else w(this,Bs,!1),w(this,ye,null);w(this,En,-1),w(this,ts,new Map),w(this,Wt,new Map),w(this,$n,new Map),w(this,Zt,null),w(this,Xr,!1),w(this,io,1),w(this,Be,new Map),w(this,qr,!1)}get pollingInterval(){return d(this,$r).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,$n).values())}attachPlugin(t){if(d(this,$n).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,$n).set(t.name,t.connect(this)),this}getPlugin(t){return d(this,$n).get(t)||null}get disableCcipRead(){return d(this,qr)}set disableCcipRead(t){w(this,qr,!!t)}async ccipReadFetch(t,e,s){if(this.disableCcipRead||s.length===0||t.to==null)return null;const r=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a&lt;s.length;a++){const c=s[a],l=c.replace("{sender}",r).replace("{data}",i),u=new Sn(l);c.indexOf("{data}")===-1&amp;&amp;(u.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:s});let f="unknown error";const h=await u.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&amp;&amp;(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}_(h.statusCode&lt;400||h.statusCode&gt;=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:f}}),o.push(f)}_(!1,`error encountered during CCIP fetch: ${o.map(a=&gt;JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:s,errorMessages:o}})}_wrapBlock(t,e){return new $0(yw(t),this)}_wrapLog(t,e){return new yo(mw(t),this)}_wrapTransactionReceipt(t,e){return new gd(Ew(t),this)}_wrapTransactionResponse(t,e){return new Yi(xd(t),this)}_detectNetwork(){_(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){_(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=ct(await D(this,ie,Ce).call(this,{method:"getBlockNumber"}),"%response");return d(this,En)&gt;=0&amp;&amp;w(this,En,t),t}_getAddress(t){return fe(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(St(t))return St(t,32)?t:lr(t);if(typeof t=="bigint"&amp;&amp;(t=ct(t,"blockTag")),typeof t=="number")return t&gt;=0?lr(t):d(this,En)&gt;=0?lr(d(this,En)+t):this.getBlockNumber().then(e=&gt;lr(e+t));E(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(c=&gt;c==null?null:Array.isArray(c)?Cc(c.map(l=&gt;l.toLowerCase())):c.toLowerCase()),s="blockHash"in t?t.blockHash:void 0,r=(c,l,u)=&gt;{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(s&amp;&amp;(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&amp;&amp;(h.address=f),e.length&amp;&amp;(h.topics=e),l&amp;&amp;(h.fromBlock=l),u&amp;&amp;(h.toBlock=u),s&amp;&amp;(h.blockHash=s),h};let i=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)i.push(this._getAddress(c));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&amp;&amp;(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&amp;&amp;(a=this._getBlockTag(t.toBlock)),i.filter(c=&gt;typeof c!="string").length||o!=null&amp;&amp;typeof o!="string"||a!=null&amp;&amp;typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=&gt;r(c[0],c[1],c[2])):r(i,o,a)}_getTransactionRequest(t){const e=ha(t),s=[];if(["to","from"].forEach(r=&gt;{if(e[r]==null)return;const i=fe(e[r]);Lo(i)?s.push(async function(){e[r]=await i}()):e[r]=i}),e.blockTag!=null){const r=this._getBlockTag(e.blockTag);Lo(r)?s.push(async function(){e.blockTag=await r}()):e.blockTag=r}return s.length?async function(){return await Promise.all(s),e}():e}async getNetwork(){if(d(this,ye)==null){const r=this._detectNetwork().then(i=&gt;(this.emit("network",i,null),i),i=&gt;{throw d(this,ye)===r&amp;&amp;w(this,ye,null),i});return w(this,ye,r),(await r).clone()}const t=d(this,ye),[e,s]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==s.chainId&amp;&amp;(d(this,Bs)?(this.emit("network",s,e),d(this,ye)===t&amp;&amp;w(this,ye,Promise.resolve(s))):_(!1,`network changed: ${e.chainId} =&gt; ${s.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=&gt;{const{_block:r,gasPrice:i}=await ee({_block:D(this,co,xc).call(this,"latest",!1),gasPrice:(async()=&gt;{try{const l=await D(this,ie,Ce).call(this,{method:"getGasPrice"});return W(l,"%response")}catch{}return null})()});let o=null,a=null;const c=this._wrapBlock(r,t);return c&amp;&amp;c.baseFeePerGas&amp;&amp;(a=BigInt("1000000000"),o=c.baseFeePerGas*Sw+a),new ef(i,o,a)},s=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(s){const r=new Sn(s.url),i=await s.processFunc(e,this,r);return new ef(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return Lo(e)&amp;&amp;(e=await e),W(await D(this,ie,Ce).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:s}=await ee({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await D(this,ao,Ic).call(this,D(this,oo,Pc).call(this,e,s,t.enableCcipRead?0:-1))}async getBalance(t,e){return W(await D(this,Ts,Pi).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return ct(await D(this,Ts,Pi).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return z(await D(this,Ts,Pi).call(this,{method:"getCode"},t,e))}async getStorage(t,e,s){const r=W(e,"position");return z(await D(this,Ts,Pi).call(this,{method:"getStorage",position:r},t,s))}async broadcastTransaction(t){const{blockNumber:e,hash:s,network:r}=await ee({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=ua.from(t);if(i.hash!==s)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(e)}async getBlock(t,e){const{network:s,params:r}=await ee({network:this.getNetwork(),params:D(this,co,xc).call(this,t,!!e)});return r==null?null:this._wrapBlock(r,s)}async getTransaction(t){const{network:e,params:s}=await ee({network:this.getNetwork(),params:D(this,ie,Ce).call(this,{method:"getTransaction",hash:t})});return s==null?null:this._wrapTransactionResponse(s,e)}async getTransactionReceipt(t){const{network:e,params:s}=await ee({network:this.getNetwork(),params:D(this,ie,Ce).call(this,{method:"getTransactionReceipt",hash:t})});if(s==null)return null;if(s.gasPrice==null&amp;&amp;s.effectiveGasPrice==null){const r=await D(this,ie,Ce).call(this,{method:"getTransaction",hash:t});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");s.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(s,e)}async getTransactionResult(t){const{result:e}=await ee({network:this.getNetwork(),result:D(this,ie,Ce).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:z(e)}async getLogs(t){let e=this._getFilter(t);Lo(e)&amp;&amp;(e=await e);const{network:s,params:r}=await ee({network:this.getNetwork(),params:D(this,ie,Ce).call(this,{method:"getLogs",filter:e})});return r.map(i=&gt;this._wrapLog(i,s))}_getProvider(t){_(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await pa.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=At(t);const e=wc(t.substring(2).toLowerCase()+".addr.reverse");try{const s=await pa.getEnsAddress(this),i=await new yr(s,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===pc)return null;const a=await new yr(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(s){if(Te(s,"BAD_DATA")&amp;&amp;s.value==="0x"||Te(s,"CALL_EXCEPTION"))return null;throw s}return null}async waitForTransaction(t,e,s){const r=e??1;return r===0?this.getTransactionReceipt(t):new Promise(async(i,o)=&gt;{let a=null;const c=async l=&gt;{try{const u=await this.getTransactionReceipt(t);if(u!=null&amp;&amp;l-u.blockNumber+1&gt;=r){i(u),a&amp;&amp;(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};s!=null&amp;&amp;(a=setTimeout(()=&gt;{a!=null&amp;&amp;(a=null,this.off("block",c),o(Mt("timeout","TIMEOUT",{reason:"timeout"})))},s)),c(await this.getBlockNumber())})}async waitForBlock(t){_(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=d(this,Be).get(t);e&amp;&amp;(e.timer&amp;&amp;clearTimeout(e.timer),d(this,Be).delete(t))}_setTimeout(t,e){e==null&amp;&amp;(e=0);const s=mi(this,io)._++,r=()=&gt;{d(this,Be).delete(s),t()};if(this.paused)d(this,Be).set(s,{timer:null,func:r,time:e});else{const i=setTimeout(r,e);d(this,Be).set(s,{timer:i,func:r,time:Xa()})}return s}_forEachSubscriber(t){for(const e of d(this,Wt).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Td(t.type);case"block":{const e=new Iw(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new Ol(this,t.filter);case"transaction":return new Nw(this,t.hash);case"orphan":return new xw(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const s of d(this,Wt).values())if(s.subscriber===t){s.started&amp;&amp;s.subscriber.stop(),s.subscriber=e,s.started&amp;&amp;e.start(),d(this,Zt)!=null&amp;&amp;e.pause(d(this,Zt));break}}async on(t,e){const s=await D(this,ti,Jo).call(this,t);return s.listeners.push({listener:e,once:!1}),s.started||(s.subscriber.start(),s.started=!0,d(this,Zt)!=null&amp;&amp;s.subscriber.pause(d(this,Zt))),this}async once(t,e){const s=await D(this,ti,Jo).call(this,t);return s.listeners.push({listener:e,once:!0}),s.started||(s.subscriber.start(),s.started=!0,d(this,Zt)!=null&amp;&amp;s.subscriber.pause(d(this,Zt))),this}async emit(t,...e){const s=await D(this,_s,Ii).call(this,t,e);if(!s||s.listeners.length===0)return!1;const r=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:o})=&gt;{const a=new eh(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),s.listeners.length===0&amp;&amp;(s.started&amp;&amp;s.subscriber.stop(),d(this,Wt).delete(s.tag)),r&gt;0}async listenerCount(t){if(t){const s=await D(this,_s,Ii).call(this,t);return s?s.listeners.length:0}let e=0;for(const{listeners:s}of d(this,Wt).values())e+=s.length;return e}async listeners(t){if(t){const s=await D(this,_s,Ii).call(this,t);return s?s.listeners.map(({listener:r})=&gt;r):[]}let e=[];for(const{listeners:s}of d(this,Wt).values())e=e.concat(s.map(({listener:r})=&gt;r));return e}async off(t,e){const s=await D(this,_s,Ii).call(this,t);if(!s)return this;if(e){const r=s.listeners.map(({listener:i})=&gt;i).indexOf(e);r&gt;=0&amp;&amp;s.listeners.splice(r,1)}return(!e||s.listeners.length===0)&amp;&amp;(s.started&amp;&amp;s.subscriber.stop(),d(this,Wt).delete(s.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:s,subscriber:r}=await D(this,ti,Jo).call(this,t);s&amp;&amp;r.stop(),d(this,Wt).delete(e)}else for(const[e,{started:s,subscriber:r}]of d(this,Wt))s&amp;&amp;r.stop(),d(this,Wt).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return d(this,Xr)}destroy(){this.removeAllListeners();for(const t of d(this,Be).keys())this._clearTimeout(t);w(this,Xr,!0)}get paused(){return d(this,Zt)!=null}set paused(t){!!t!==this.paused&amp;&amp;(this.paused?this.resume():this.pause(!1))}pause(t){if(w(this,En,-1),d(this,Zt)!=null){if(d(this,Zt)==!!t)return;_(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=&gt;e.pause(t)),w(this,Zt,!!t);for(const e of d(this,Be).values())e.timer&amp;&amp;clearTimeout(e.timer),e.time=Xa()-e.time}resume(){if(d(this,Zt)!=null){this._forEachSubscriber(t=&gt;t.resume()),w(this,Zt,null);for(const t of d(this,Be).values()){let e=t.time;e&lt;0&amp;&amp;(e=0),t.time=Xa(),setTimeout(t.func,e)}}}}Wt=new WeakMap,$n=new WeakMap,Zt=new WeakMap,Xr=new WeakMap,ye=new WeakMap,Bs=new WeakMap,ts=new WeakMap,En=new WeakMap,io=new WeakMap,Be=new WeakMap,qr=new WeakMap,$r=new WeakMap,ie=new WeakSet,Ce=async function(t){const e=d(this,$r).cacheTimeout;if(e&lt;0)return await this._perform(t);const s=zo(t.method,t);let r=d(this,ts).get(s);return r||(r=this._perform(t),d(this,ts).set(s,r),setTimeout(()=&gt;{d(this,ts).get(s)===r&amp;&amp;d(this,ts).delete(s)},e)),await r},oo=new WeakSet,Pc=async function(t,e,s){_(s&lt;Bw,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const r=ha(t);try{return z(await this._perform({method:"call",transaction:r,blockTag:e}))}catch(i){if(!this.disableCcipRead&amp;&amp;yl(i)&amp;&amp;i.data&amp;&amp;s&gt;=0&amp;&amp;e==="latest"&amp;&amp;r.to!=null&amp;&amp;_t(i.data,0,4)==="0x556f1830"){const o=i.data,a=await fe(r.to,this);let c;try{c=Dw(_t(i.data,4))}catch(f){_(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:o}})}_(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(r,c.calldata,c.urls);_(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:Ft([c.selector,Fw([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await D(this,oo,Pc).call(this,u,e,s+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},ao=new WeakSet,Ic=async function(t){const{value:e}=await ee({network:this.getNetwork(),value:t});return e},Ts=new WeakSet,Pi=async function(t,e,s){let r=this._getAddress(e),i=this._getBlockTag(s);return(typeof r!="string"||typeof i!="string")&amp;&amp;([r,i]=await Promise.all([r,i])),await D(this,ao,Ic).call(this,D(this,ie,Ce).call(this,Object.assign(t,{address:r,blockTag:i})))},co=new WeakSet,xc=async function(t,e){if(St(t,32))return await D(this,ie,Ce).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let s=this._getBlockTag(t);return typeof s!="string"&amp;&amp;(s=await s),await D(this,ie,Ce).call(this,{method:"getBlock",blockTag:s,includeTransactions:e})},_s=new WeakSet,Ii=async function(t,e){let s=await Za(t,this);return s.type==="event"&amp;&amp;e&amp;&amp;e.length&gt;0&amp;&amp;e[0].removed===!0&amp;&amp;(s=await Za({orphan:"drop-log",log:e[0]},this)),d(this,Wt).get(s.tag)||null},ti=new WeakSet,Jo=async function(t){const e=await Za(t,this),s=e.tag;let r=d(this,Wt).get(s);return r||(r={subscriber:this._getSubscriber(e),tag:s,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,Wt).set(s,r)),r};function Lw(n,t){try{const e=Nc(n,t);if(e)return bl(e)}catch{}return null}function Nc(n,t){if(n==="0x")return null;try{const e=ct(_t(n,t,t+32)),s=ct(_t(n,e,e+32));return _t(n,e+32,e+32+s)}catch{}return null}function uf(n){const t=be(n);if(t.length&gt;32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function Rw(n){if(n.length%32===0)return n;const t=new Uint8Array(Math.ceil(n.length/32)*32);return t.set(n),t}const Uw=new Uint8Array([]);function Fw(n){const t=[];let e=0;for(let s=0;s&lt;n.length;s++)t.push(Uw),e+=32;for(let s=0;s&lt;n.length;s++){const r=gt(n[s]);t[s]=uf(e),t.push(uf(r.length)),t.push(Rw(r)),e+=32+Math.ceil(r.length/32)*32}return Ft(t)}const ff="0x0000000000000000000000000000000000000000000000000000000000000000";function Dw(n){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};_(pr(n)&gt;=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=_t(n,0,32);_(_t(e,0,12)===_t(ff,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=_t(e,12);try{const s=[],r=ct(_t(n,32,64)),i=ct(_t(n,r,r+32)),o=_t(n,r+32);for(let a=0;a&lt;i;a++){const c=Lw(o,a*32);if(c==null)throw new Error("abort");s.push(c)}t.urls=s}catch{_(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const s=Nc(n,64);if(s==null)throw new Error("abort");t.calldata=s}catch{_(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}_(_t(n,100,128)===_t(ff,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=_t(n,96,100);try{const s=Nc(n,128);if(s==null)throw new Error("abort");t.extraData=s}catch{_(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(s=&gt;t[s]),t}function tr(n,t){if(n.provider)return n.provider;_(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function hf(n,t){let e=ha(t);if(e.to!=null&amp;&amp;(e.to=fe(e.to,n)),e.from!=null){const s=e.from;e.from=Promise.all([n.getAddress(),fe(s,n)]).then(([r,i])=&gt;(E(r.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),r))}else e.from=n.getAddress();return await ee(e)}class Mw{constructor(t){k(this,"provider");$(this,{provider:t||null})}async getNonce(t){return tr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await hf(this,t)}async populateTransaction(t){const e=tr(this,"populateTransaction"),s=await hf(this,t);s.nonce==null&amp;&amp;(s.nonce=await this.getNonce("pending")),s.gasLimit==null&amp;&amp;(s.gasLimit=await this.estimateGas(s));const r=await this.provider.getNetwork();if(s.chainId!=null){const o=W(s.chainId);E(o===r.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else s.chainId=r.chainId;const i=s.maxFeePerGas!=null||s.maxPriorityFeePerGas!=null;if(s.gasPrice!=null&amp;&amp;(s.type===2||i)?E(!1,"eip-1559 transaction do not support gasPrice","tx",t):(s.type===0||s.type===1)&amp;&amp;i&amp;&amp;E(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(s.type===2||s.type==null)&amp;&amp;s.maxFeePerGas!=null&amp;&amp;s.maxPriorityFeePerGas!=null)s.type=2;else if(s.type===0||s.type===1){const o=await e.getFeeData();_(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),s.gasPrice==null&amp;&amp;(s.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(s.type==null)if(o.maxFeePerGas!=null&amp;&amp;o.maxPriorityFeePerGas!=null)if(s.type=2,s.gasPrice!=null){const a=s.gasPrice;delete s.gasPrice,s.maxFeePerGas=a,s.maxPriorityFeePerGas=a}else s.maxFeePerGas==null&amp;&amp;(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&amp;&amp;(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(_(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),s.gasPrice==null&amp;&amp;(s.gasPrice=o.gasPrice),s.type=0):_(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else s.type===2&amp;&amp;(s.maxFeePerGas==null&amp;&amp;(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&amp;&amp;(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ee(s)}async estimateGas(t){return tr(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return tr(this,"call").call(await this.populateCall(t))}async resolveName(t){return await tr(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=tr(this,"sendTransaction"),s=await this.populateTransaction(t);delete s.from;const r=ua.from(s);return await e.broadcastTransaction(await this.signTransaction(r))}}function Hw(n){return JSON.parse(JSON.stringify(n))}var oe,en,Os,es,Ls,ei,lo,Sc,uo,Bc;class _d{constructor(t){S(this,lo);S(this,uo);S(this,oe,void 0);S(this,en,void 0);S(this,Os,void 0);S(this,es,void 0);S(this,Ls,void 0);S(this,ei,void 0);w(this,oe,t),w(this,en,null),w(this,Os,D(this,lo,Sc).bind(this)),w(this,es,!1),w(this,Ls,null),w(this,ei,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){d(this,es)||(w(this,es,!0),D(this,lo,Sc).call(this,-2))}stop(){d(this,es)&amp;&amp;(w(this,es,!1),w(this,ei,!0),D(this,uo,Bc).call(this),d(this,oe).off("block",d(this,Os)))}pause(t){t&amp;&amp;D(this,uo,Bc).call(this),d(this,oe).off("block",d(this,Os))}resume(){this.start()}}oe=new WeakMap,en=new WeakMap,Os=new WeakMap,es=new WeakMap,Ls=new WeakMap,ei=new WeakMap,lo=new WeakSet,Sc=async function(t){try{d(this,en)==null&amp;&amp;w(this,en,this._subscribe(d(this,oe)));let e=null;try{e=await d(this,en)}catch(i){if(!Te(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){w(this,en,null),d(this,oe)._recoverSubscriber(this,this._recover(d(this,oe)));return}const s=await d(this,oe).getNetwork();if(d(this,Ls)||w(this,Ls,s),d(this,Ls).chainId!==s.chainId)throw new Error("chaid changed");if(d(this,ei))return;const r=await d(this,oe).send("eth_getFilterChanges",[e]);await this._emitResults(d(this,oe),r)}catch(e){console.log("@TODO",e)}d(this,oe).once("block",d(this,Os))},uo=new WeakSet,Bc=function(){const t=d(this,en);t&amp;&amp;(w(this,en,null),t.then(e=&gt;{d(this,oe).send("eth_uninstallFilter",[e])}))};var Rs;class Gw extends _d{constructor(e,s){super(e);S(this,Rs,void 0);w(this,Rs,Hw(s))}_recover(e){return new Ol(e,d(this,Rs))}async _subscribe(e){return await e.send("eth_newFilter",[d(this,Rs)])}async _emitResults(e,s){for(const r of s)e.emit(d(this,Rs),e._wrapLog(r,e._network))}}Rs=new WeakMap;class jw extends _d{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const s of e)t.emit("pending",s)}}const Qw="bigint,boolean,function,number,string,symbol".split(/,/g);function Ko(n){if(n==null||Qw.indexOf(typeof n)&gt;=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Ko);if(typeof n=="object")return Object.keys(n).reduce((t,e)=&gt;(t[e]=n[e],t),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function Vw(n){return new Promise(t=&gt;{setTimeout(t,n)})}function er(n){return n&amp;&amp;n.toLowerCase()}function df(n){return n&amp;&amp;typeof n.pollingInterval=="number"}const zw={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1&lt;&lt;20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class qa extends Mw{constructor(e,s){super(e);k(this,"address");s=At(s),$(this,{address:s})}connect(e){_(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const s=Ko(e),r=[];if(s.from){const o=s.from;r.push((async()=&gt;{const a=await fe(o,this.provider);E(a!=null&amp;&amp;a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),s.from=a})())}else s.from=this.address;if(s.gasLimit==null&amp;&amp;r.push((async()=&gt;{s.gasLimit=await this.provider.estimateGas({...s,from:this.address})})()),s.to!=null){const o=s.to;r.push((async()=&gt;{s.to=await fe(o,this.provider)})())}r.length&amp;&amp;await Promise.all(r);const i=this.provider.getRpcTransaction(s);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const s=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=&gt;{const a=[1e3,100],c=async()=&gt;{const l=await this.provider.getTransaction(r);if(l!=null){i(l.replaceableTransaction(s));return}this.provider._setTimeout(()=&gt;{c()},a.pop()||4e3)};c()})}async signTransaction(e){const s=Ko(e);if(s.from){const i=await fe(s.from,this.provider);E(i!=null&amp;&amp;i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),s.from=i}else s.from=this.address;const r=this.provider.getRpcTransaction(s);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const s=typeof e=="string"?xn(e):e;return await this.provider.send("personal_sign",[z(s),this.address.toLowerCase()])}async signTypedData(e,s,r){const i=Ko(r),o=await fa.resolveNames(e,s,i,async a=&gt;{const c=await fe(a);return E(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(fa.getPayload(o.domain,s,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const s=typeof e=="string"?xn(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),z(s)])}}var Us,ni,kn,nn,He,Cn,fo,Tc;class Jw extends Ow{constructor(e,s){super(e,s);S(this,fo);S(this,Us,void 0);S(this,ni,void 0);S(this,kn,void 0);S(this,nn,void 0);S(this,He,void 0);S(this,Cn,void 0);w(this,ni,1),w(this,Us,Object.assign({},zw,s||{})),w(this,kn,[]),w(this,nn,null),w(this,Cn,null);{let i=null;const o=new Promise(a=&gt;{i=a});w(this,He,{promise:o,resolve:i})}const r=this._getOption("staticNetwork");r&amp;&amp;(E(e==null||r.matches(e),"staticNetwork MUST match network object","options",s),w(this,Cn,r))}_getOption(e){return d(this,Us)[e]}get _network(){return _(d(this,Cn),"network is not available yet","NETWORK_ERROR"),d(this,Cn)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&amp;&amp;r.type!=null&amp;&amp;W(r.type)&amp;&amp;r.maxFeePerGas==null&amp;&amp;r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&amp;&amp;i.maxPriorityFeePerGas==null&amp;&amp;(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const s=this.getRpcRequest(e);return s!=null?await this.send(s.method,s.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return on.from(W(await this.send("eth_chainId",[])));const s={id:mi(this,ni)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:s});let r;try{r=(await this._send(s))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return on.from(W(r.result));throw this.getRpcError(s,r)}_start(){d(this,He)==null||d(this,He).resolve==null||(d(this,He).resolve(),w(this,He,null),(async()=&gt;{for(;d(this,Cn)==null&amp;&amp;!this.destroyed;)try{w(this,Cn,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Mt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Vw(1e3)}D(this,fo,Tc).call(this)})())}async _waitUntilReady(){if(d(this,He)!=null)return await d(this,He).promise}_getSubscriber(e){return e.type==="pending"?new jw(this):e.type==="event"?this._getOption("polling")?new Ol(this,e.filter):new Gw(this,e.filter):e.type==="orphan"&amp;&amp;e.filter.orphan==="drop-log"?new Td("orphan"):super._getSubscriber(e)}get ready(){return d(this,He)==null}getRpcTransaction(e){const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=&gt;{if(e[r]==null)return;let i=r;r==="gasLimit"&amp;&amp;(i="gas"),s[i]=lr(W(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=&gt;{e[r]!=null&amp;&amp;(s[r]=z(e[r]))}),e.accessList&amp;&amp;(s.accessList=Js(e.accessList)),s}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[er(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[er(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[er(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[er(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&amp;&amp;e.filter.address!=null&amp;&amp;(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(er):e.filter.address=er(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,s){const{method:r}=e,{error:i}=s;if(r==="eth_estimateGas"&amp;&amp;i.message){const c=i.message;if(!c.match(/revert/i)&amp;&amp;c.match(/insufficient funds/i))return Mt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const c=_c(i),l=Ki.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],c?c.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(Ww(i));if(typeof i.message=="string"&amp;&amp;i.message.match(/user denied|ethers-user-denied/i))return Mt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const c=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Mt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&amp;&amp;o.match(/too low/i))return Mt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&amp;&amp;o.match(/underpriced/i))return Mt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Mt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&amp;&amp;i.details&amp;&amp;i.details.startsWith("Unauthorized method:")&amp;&amp;(a=!0),a?Mt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Mt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,s){if(this.destroyed)return Promise.reject(Mt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=mi(this,ni)._++,i=new Promise((o,a)=&gt;{d(this,kn).push({resolve:o,reject:a,payload:{method:e,params:s,id:r,jsonrpc:"2.0"}})});return D(this,fo,Tc).call(this),i}async getSigner(e){e==null&amp;&amp;(e=0);const s=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await s;if(e&gt;=i.length)throw new Error("no such account");return new qa(this,i[e])}const{accounts:r}=await ee({network:this.getNetwork(),accounts:s});e=At(e);for(const i of r)if(At(i)===e)return new qa(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(s=&gt;new qa(this,s))}destroy(){d(this,nn)&amp;&amp;(clearTimeout(d(this,nn)),w(this,nn,null));for(const{payload:e,reject:s}of d(this,kn))s(Mt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));w(this,kn,[]),super.destroy()}}Us=new WeakMap,ni=new WeakMap,kn=new WeakMap,nn=new WeakMap,He=new WeakMap,Cn=new WeakMap,fo=new WeakSet,Tc=function(){if(d(this,nn))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,nn,setTimeout(()=&gt;{w(this,nn,null);const s=d(this,kn);for(w(this,kn,[]);s.length;){const r=[s.shift()];for(;s.length&amp;&amp;r.length!==d(this,Us).batchMaxCount;)if(r.push(s.shift()),JSON.stringify(r.map(o=&gt;o.payload)).length&gt;d(this,Us).batchMaxSize){s.unshift(r.pop());break}(async()=&gt;{const i=r.length===1?r[0].payload:r.map(o=&gt;o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of r){if(this.destroyed){c(Mt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(f=&gt;f.id===l.id)[0];if(u==null){const f=Mt("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of r)a(o)}})()}},e))};var ns;class Kw extends Jw{constructor(e,s){super(e,s);S(this,ns,void 0);w(this,ns,4e3)}_getSubscriber(e){const s=super._getSubscriber(e);return df(s)&amp;&amp;(s.pollingInterval=d(this,ns)),s}get pollingInterval(){return d(this,ns)}set pollingInterval(e){if(!Number.isInteger(e)||e&lt;0)throw new Error("invalid interval");w(this,ns,e),this._forEachSubscriber(s=&gt;{df(s)&amp;&amp;(s.pollingInterval=d(this,ns))})}}ns=new WeakMap;var si;class Yw extends Kw{constructor(e,s,r){e==null&amp;&amp;(e="http://localhost:8545");super(s,r);S(this,si,void 0);typeof e=="string"?w(this,si,new Sn(e)):w(this,si,e.clone())}_getConnection(){return d(this,si).clone()}async send(e,s){return await this._start(),await super.send(e,s)}async _send(e){const s=this._getConnection();s.body=JSON.stringify(e),s.setHeader("content-type","application/json");const r=await s.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}si=new WeakMap;function _c(n){if(n==null)return null;if(typeof n.message=="string"&amp;&amp;n.message.match(/revert/i)&amp;&amp;St(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const t in n){const e=_c(n[t]);if(e)return e}return null}if(typeof n=="string")try{return _c(JSON.parse(n))}catch{}return null}function Oc(n,t){if(n!=null){if(typeof n.message=="string"&amp;&amp;t.push(n.message),typeof n=="object")for(const e in n)Oc(n[e],t);if(typeof n=="string")try{return Oc(JSON.parse(n),t)}catch{}}}function Ww(n){const t=[];return Oc(n,t),t}const bi={};async function pf(n){if(bi[n])return bi[n];try{const e=await(await fetch(`https://api.token-discovery.tokenscript.org/ens/reverse?address=${n}`)).json();bi[n]=(e==null?void 0:e.ensName)??null}catch{bi[n]=null}return bi[n]}async function gf(n){const e=await Oa().getPlayInvitesList(BigInt(n.tokenId)),s=Ll(e);return console.log("Play requests: ",s),s}async function ci(n){const e=await Oa().getFriendsList(BigInt(n.tokenId));return Ll(e)}async function mf(n){const e=await Oa().getPendingInvitesList(BigInt(n.tokenId));return Ll(e)}function Ll(n){return Array.from(n).map(([t,e,s,r,i])=&gt;({tokenId:t,tokenUri:e,owner:s,level:r,canPlay:i}))}async function wf(n){const t=Oa(),e=await t.getCatInfo2(BigInt(n.tokenId)),s={};({0:s.level,1:s.numFeeds,2:s.lastFeed,3:s.numPlays,4:s.lastPlay,5:s.numCleans,6:s.lastClean,7:s.friends}=e[0]),s.pointsBalance=e[1],s.actionLimitReset=e[2],s.actionLimitCount=e[3],s.friends=Array.from(s.friends);const r=await t.getConfig2(),i=r[0];s.nextFeed=Math.max(Number(s.lastFeed+i[0]),Number(s.actionLimitReset)),s.nextPlay=Math.max(Number(s.lastPlay+i[1]),Number(s.actionLimitReset)),s.nextClean=Math.max(Number(s.lastClean+i[2]),Number(s.actionLimitReset));const o=r[1];return s.levelThresholds={feed:o[0],play:o[1],clean:o[2]},s.maxActions=r[3],console.log("Cat state: ",s),s}function Zw(){const n=new on("polygon",chainID),t=rpcURL;return new Yw(t,n,{staticNetwork:n})}function Oa(n){const t=Zw(),e="0x7573933eB12Fa15D5557b74fDafF845B3BaF0ba2";return new yr(e,[{inputs:[],name:"getConfig2",outputs:[{internalType:"uint256[3]",name:"",type:"uint256[3]"},{internalType:"uint16[3]",name:"",type:"uint16[3]"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCatInfo2",outputs:[{components:[{components:[{internalType:"uint8",name:"level",type:"uint8"},{internalType:"uint16",name:"numFeeds",type:"uint16"},{internalType:"uint256",name:"lastFeed",type:"uint256"},{internalType:"uint16",name:"numPlays",type:"uint16"},{internalType:"uint256",name:"lastPlay",type:"uint256"},{internalType:"uint16",name:"numCleans",type:"uint16"},{internalType:"uint256",name:"lastClean",type:"uint256"},{internalType:"uint256[]",name:"friends",type:"uint256[]"}],internalType:"struct SmartCatProxyV3.CatState",name:"state",type:"tuple"},{internalType:"uint256",name:"pointsBalance",type:"uint256"},{internalType:"uint256",name:"actionLimitReset",type:"uint256"},{internalType:"uint16",name:"actionLimitCount",type:"uint16"}],internalType:"struct SmartCatProxyV3.CatInfo2",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPlayInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getFriendsList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCat.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPendingInvitesList",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenUri",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint8",name:"level",type:"uint8"},{internalType:"bool",name:"canPlay",type:"bool"}],internalType:"struct SmartCatProxyV3.CatListItem[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],t)}const $a="src/components/NftIcon.svelte";function Lc(n){let t,e,s,r,i,o,a;const c={c:function(){t=b("div"),e=b("div"),s=T(),r=b("img"),v(e,"class","shimmer s-coprCO2UItih"),M(e,"display",n[1]?"none":"block"),y(e,$a,67,1,981),v(r,"alt","cat"),Qe(r.src,i=n[0])||v(r,"src",i),v(r,"class","s-coprCO2UItih"),y(r,$a,68,1,1056),v(t,"class","cat-list-image s-coprCO2UItih"),y(t,$a,66,0,951)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){Q(u,t,f),g(t,e),g(t,s),g(t,r),o||(a=$t(r,"load",n[3],!1,!1,!1,!1),o=!0)},p:function(u,[f]){f&amp;2&amp;&amp;M(e,"display",u[1]?"none":"block"),f&amp;1&amp;&amp;!Qe(r.src,i=u[0])&amp;&amp;v(r,"src",i)},i:nt,o:nt,d:function(u){u&amp;&amp;V(t),o=!1,a()}};return R("SvelteRegisterBlock",{block:c,id:Lc.name,type:"component",source:"",ctx:n}),c}function Xw(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("NftIcon",s,[]);let{tokenUri:i}=t,o,a=!1;as(async()=&gt;{try{const u=await(await fetch(i,{headers:{"Content-type":"text/plain"}})).json();e(0,o=u.image)}catch{}}),n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("tokenUri"in t||n.$$.bound[n.$$.props.tokenUri])&amp;&amp;console.warn("&lt;NftIcon&gt; was created without expected prop 'tokenUri'")});const c=["tokenUri"];Object.keys(t).forEach(u=&gt;{!~c.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;console.warn(`&lt;NftIcon&gt; was created with unknown prop '${u}'`)});const l=()=&gt;e(1,a=!0);return n.$$set=u=&gt;{"tokenUri"in u&amp;&amp;e(2,i=u.tokenUri)},n.$capture_state=()=&gt;({onMount:as,tokenUri:i,src:o,loaded:a}),n.$inject_state=u=&gt;{"tokenUri"in u&amp;&amp;e(2,i=u.tokenUri),"src"in u&amp;&amp;e(0,o=u.src),"loaded"in u&amp;&amp;e(1,a=u.loaded)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,i,l]}class On extends Rt{constructor(t){super(t),Ot(this,t,Xw,Lc,Bt,{tokenUri:2}),R("SvelteRegisterComponent",{component:this,tagName:"NftIcon",options:t,id:Lc.name})}get tokenUri(){throw new Error("&lt;NftIcon&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set tokenUri(t){throw new Error("&lt;NftIcon&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const yf="src/components/OwnerAddress.svelte";function Rc(n){let t,e,s,r=(n[1]?`${n[1]} (${n[0]})`:n[0])+"",i;const o={c:function(){t=b("small"),e=Z("Owner: "),s=b("span"),i=Z(r),y(s,yf,16,52,297),v(t,"class","eth-address"),v(t,"title",n[0]),y(t,yf,16,0,245)},l:function(c){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(c,l){Q(c,t,l),g(t,e),g(t,s),g(s,i)},p:function(c,[l]){l&amp;3&amp;&amp;r!==(r=(c[1]?`${c[1]} (${c[0]})`:c[0])+"")&amp;&amp;Ct(i,r),l&amp;1&amp;&amp;v(t,"title",c[0])},i:nt,o:nt,d:function(c){c&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:o,id:Rc.name,type:"component",source:"",ctx:n}),o}function qw(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("OwnerAddress",s,[]);let{address:i}=t,o;as(async()=&gt;{const c=await pf(i);c&amp;&amp;e(1,o=c)}),n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("address"in t||n.$$.bound[n.$$.props.address])&amp;&amp;console.warn("&lt;OwnerAddress&gt; was created without expected prop 'address'")});const a=["address"];return Object.keys(t).forEach(c=&gt;{!~a.indexOf(c)&amp;&amp;c.slice(0,2)!=="$$"&amp;&amp;c!=="slot"&amp;&amp;console.warn(`&lt;OwnerAddress&gt; was created with unknown prop '${c}'`)}),n.$$set=c=&gt;{"address"in c&amp;&amp;e(0,i=c.address)},n.$capture_state=()=&gt;({onMount:as,lookupEnsName:pf,address:i,ensName:o}),n.$inject_state=c=&gt;{"address"in c&amp;&amp;e(0,i=c.address),"ensName"in c&amp;&amp;e(1,o=c.ensName)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o]}class Ln extends Rt{constructor(t){super(t),Ot(this,t,qw,Rc,Bt,{address:0}),R("SvelteRegisterComponent",{component:this,tagName:"OwnerAddress",options:t,id:Rc.name})}get address(){throw new Error("&lt;OwnerAddress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set address(t){throw new Error("&lt;OwnerAddress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const nr="src/components/Loader.svelte";function Uc(n){let t,e,s,r,i,o,a,c,l;const u={c:function(){t=b("div"),e=b("div"),s=b("div"),r=T(),i=b("div"),o=T(),a=b("div"),c=T(),l=b("div"),v(s,"class","s-BBunC__gYdVv"),y(s,nr,54,2,947),v(i,"class","s-BBunC__gYdVv"),y(i,nr,55,2,961),v(a,"class","s-BBunC__gYdVv"),y(a,nr,56,2,975),v(l,"class","s-BBunC__gYdVv"),y(l,nr,57,2,989),v(e,"class","lds-ring s-BBunC__gYdVv"),y(e,nr,53,1,922),v(t,"class","loader-container s-BBunC__gYdVv"),y(t,nr,52,0,890)},m:function(h,p){Q(h,t,p),g(t,e),g(e,s),g(e,r),g(e,i),g(e,o),g(e,a),g(e,c),g(e,l)},d:function(h){h&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:u,id:Uc.name,type:"if",source:"(51:0) {#if show}",ctx:n}),u}function Fc(n){let t,e=n[0]&amp;&amp;Uc(n);const s={c:function(){e&amp;&amp;e.c(),t=zs()},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,o){e&amp;&amp;e.m(i,o),Q(i,t,o)},p:function(i,[o]){i[0]?e||(e=Uc(i),e.c(),e.m(t.parentNode,t)):e&amp;&amp;(e.d(1),e=null)},i:nt,o:nt,d:function(i){i&amp;&amp;V(t),e&amp;&amp;e.d(i)}};return R("SvelteRegisterBlock",{block:s,id:Fc.name,type:"component",source:"",ctx:n}),s}function $w(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Loader",s,[]);let{show:i}=t;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("show"in t||n.$$.bound[n.$$.props.show])&amp;&amp;console.warn("&lt;Loader&gt; was created without expected prop 'show'")});const o=["show"];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;Loader&gt; was created with unknown prop '${a}'`)}),n.$$set=a=&gt;{"show"in a&amp;&amp;e(0,i=a.show)},n.$capture_state=()=&gt;({show:i}),n.$inject_state=a=&gt;{"show"in a&amp;&amp;e(0,i=a.show)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i]}class Je extends Rt{constructor(t){super(t),Ot(this,t,$w,Fc,Bt,{show:0}),R("SvelteRegisterComponent",{component:this,tagName:"Loader",options:t,id:Fc.name})}get show(){throw new Error("&lt;Loader&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set show(t){throw new Error("&lt;Loader&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Ro="src/components/LevelProgress.svelte";function Dc(n){let t,e,s,r,i,o,a,c;const l={c:function(){t=b("div"),e=b("span"),s=Z(n[1]),r=Z(" / "),i=Z(n[0]),o=T(),a=b("div"),c=b("div"),v(e,"class","progress-text s-ZP8NyUOLSOsj"),y(e,Ro,38,1,594),v(c,"class","progress-inner s-ZP8NyUOLSOsj"),M(c,"width",Math.min(Math.round(parseInt(n[1])/parseInt(n[0])*100),100)+"%"),y(c,Ro,40,2,681),v(a,"class","progress-bar s-ZP8NyUOLSOsj"),y(a,Ro,39,1,652),v(t,"class","progress-contain s-ZP8NyUOLSOsj"),y(t,Ro,37,0,562)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,h){Q(f,t,h),g(t,e),g(e,s),g(e,r),g(e,i),g(t,o),g(t,a),g(a,c)},p:function(f,[h]){h&amp;2&amp;&amp;Ct(s,f[1]),h&amp;1&amp;&amp;Ct(i,f[0]),h&amp;3&amp;&amp;M(c,"width",Math.min(Math.round(parseInt(f[1])/parseInt(f[0])*100),100)+"%")},i:nt,o:nt,d:function(f){f&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:l,id:Dc.name,type:"component",source:"",ctx:n}),l}function ty(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("LevelProgress",s,[]);let{threshold:i}=t,{total:o}=t;function a(){}n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("threshold"in t||n.$$.bound[n.$$.props.threshold])&amp;&amp;console.warn("&lt;LevelProgress&gt; was created without expected prop 'threshold'"),o===void 0&amp;&amp;!("total"in t||n.$$.bound[n.$$.props.total])&amp;&amp;console.warn("&lt;LevelProgress&gt; was created without expected prop 'total'")});const c=["threshold","total"];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;LevelProgress&gt; was created with unknown prop '${l}'`)}),n.$$set=l=&gt;{"threshold"in l&amp;&amp;e(0,i=l.threshold),"total"in l&amp;&amp;e(1,o=l.total)},n.$capture_state=()=&gt;({threshold:i,total:o,getPercent:a}),n.$inject_state=l=&gt;{"threshold"in l&amp;&amp;e(0,i=l.threshold),"total"in l&amp;&amp;e(1,o=l.total)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o]}class Yo extends Rt{constructor(t){super(t),Ot(this,t,ty,Dc,Bt,{threshold:0,total:1}),R("SvelteRegisterComponent",{component:this,tagName:"LevelProgress",options:t,id:Dc.name})}get threshold(){throw new Error("&lt;LevelProgress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set threshold(t){throw new Error("&lt;LevelProgress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get total(){throw new Error("&lt;LevelProgress&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set total(t){throw new Error("&lt;LevelProgress&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const Af={1:"Curious Whisker",2:"Clever Purrer",3:"Savvy Seer",4:"Intellectual Prodigy",5:"Genius Trailblazer",6:"Enlightened Guru",7:"Sage Supreme",8:"Infinite Brilliance",9:"Academicat",10:"Paw-sitively Wise",11:"Purrful Puzzler",12:"Great Catsby",13:"Lazer Chaser",14:"Meowowsaurus",15:"Feline Supreme",16:"Colonel Meow",17:"Pounce King",18:"Mystic Meowster",19:"Quantum Leapurr",20:"Catzilla"},Oe=n=&gt;n+(Af[n]?" - "+Af[n]:"");const Mc="src/components/FriendsList.svelte";function bf(n,t,e){const s=n.slice();return s[6]=t[e],s}const ey=n=&gt;({friend:n&amp;2}),vf=n=&gt;({friend:n[6]});function Hc(n){let t;const e=n[4].default,s=Hf(e,n,n[3],vf),r={c:function(){s&amp;&amp;s.c()},m:function(o,a){s&amp;&amp;s.m(o,a),t=!0},p:function(o,a){s&amp;&amp;s.p&amp;&amp;(!t||a&amp;10)&amp;&amp;Qf(s,e,o,o[3],t?jf(e,o[3],a,ey):Vf(o[3]),vf)},i:function(o){t||(L(s,o),t=!0)},o:function(o){F(s,o),t=!1},d:function(o){s&amp;&amp;s.d(o)}};return R("SvelteRegisterBlock",{block:r,id:Hc.name,type:"each",source:"(41:1) {#each loadedFriends as friend}",ctx:n}),r}function Gc(n){let t,e,s,r;const i={c:function(){t=b("div"),e=b("button"),e.textContent="Load More",v(e,"class","load-more-btn s-J_KpBvHhFpwT"),y(e,Mc,55,2,972),v(t,"class","btn-container s-J_KpBvHhFpwT"),y(t,Mc,54,1,942)},m:function(a,c){Q(a,t,c),g(t,e),s||(r=$t(e,"click",n[5],!1,!1,!1,!1),s=!0)},p:nt,d:function(a){a&amp;&amp;V(t),s=!1,r()}};return R("SvelteRegisterBlock",{block:i,id:Gc.name,type:"if",source:"(44:1) {#if loadedFriends.length &lt; friendsList.length}",ctx:n}),i}function jc(n){let t,e,s,r=an(n[1]),i=[];for(let l=0;l&lt;r.length;l+=1)i[l]=Hc(bf(n,r,l));const o=l=&gt;F(i[l],1,1,()=&gt;{i[l]=null});let a=n[1].length&lt;n[0].length&amp;&amp;Gc(n);const c={c:function(){t=b("div");for(let u=0;u&lt;i.length;u+=1)i[u].c();e=T(),a&amp;&amp;a.c(),v(t,"class","cat-list"),y(t,Mc,49,0,800)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,f){Q(u,t,f);for(let h=0;h&lt;i.length;h+=1)i[h]&amp;&amp;i[h].m(t,null);g(t,e),a&amp;&amp;a.m(t,null),s=!0},p:function(u,[f]){if(f&amp;10){r=an(u[1]);let h;for(h=0;h&lt;r.length;h+=1){const p=bf(u,r,h);i[h]?(i[h].p(p,f),L(i[h],1)):(i[h]=Hc(p),i[h].c(),L(i[h],1),i[h].m(t,e))}for(Ht(),h=r.length;h&lt;i.length;h+=1)o(h);Gt()}u[1].length&lt;u[0].length?a?a.p(u,f):(a=Gc(u),a.c(),a.m(t,null)):a&amp;&amp;(a.d(1),a=null)},i:function(u){if(!s){for(let f=0;f&lt;r.length;f+=1)L(i[f]);s=!0}},o:function(u){i=i.filter(Boolean);for(let f=0;f&lt;i.length;f+=1)F(i[f]);s=!1},d:function(u){u&amp;&amp;V(t),ho(i,u),a&amp;&amp;a.d()}};return R("SvelteRegisterBlock",{block:c,id:jc.name,type:"component",source:"",ctx:n}),c}function ny(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("FriendsList",s,["default"]);let{friendsList:i=[]}=t,o=[];as(()=&gt;{a(5)});function a(u){const f=o.length,h=f+u,p=o;for(let m=f;m&lt;h&amp;&amp;m&lt;i.length;m++)p.push(i[m]);e(1,o=p)}const c=["friendsList"];Object.keys(t).forEach(u=&gt;{!~c.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;console.warn(`&lt;FriendsList&gt; was created with unknown prop '${u}'`)});const l=()=&gt;a(10);return n.$$set=u=&gt;{"friendsList"in u&amp;&amp;e(0,i=u.friendsList),"$$scope"in u&amp;&amp;e(3,r=u.$$scope)},n.$capture_state=()=&gt;({onMount:as,friendsList:i,loadedFriends:o,loadFriends:a}),n.$inject_state=u=&gt;{"friendsList"in u&amp;&amp;e(0,i=u.friendsList),"loadedFriends"in u&amp;&amp;e(1,o=u.loadedFriends)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a,r,s,l]}class La extends Rt{constructor(t){super(t),Ot(this,t,ny,jc,Bt,{friendsList:0}),R("SvelteRegisterComponent",{component:this,tagName:"FriendsList",options:t,id:jc.name})}get friendsList(){throw new Error("&lt;FriendsList&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set friendsList(t){throw new Error("&lt;FriendsList&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}function Qc(n){let t,e;const s={c:function(){t=new rp(!1),e=zs(),t.a=e},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,o){t.m(n[0],i,o),Q(i,e,o)},p:function(i,[o]){o&amp;1&amp;&amp;t.p(i[0])},i:nt,o:nt,d:function(i){i&amp;&amp;(V(e),t.d())}};return R("SvelteRegisterBlock",{block:s,id:Qc.name,type:"component",source:"",ctx:n}),s}function sy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("CountdownTimer",s,[]);let{epochMs:i}=t,o,a="-",c;as(()=&gt;{c=setInterval(()=&gt;{o=Date.now(),l()},1e3)});function l(){if(i&lt;o){e(0,a='&lt;span style="color: #D93F45;"&gt;Now&lt;/span&gt;'),clearInterval(c);return}const f=new Date(i),h=f.getDate()===new Date(o).getDate(),p=i-o,m=Math.floor(p/1e3),A=Math.floor(m/60),C=Math.floor(A/60),I=m%60,x=A%60;e(0,a=`
			&lt;span style="color: ${h?"#FFC759":"#000"};" title="${f.toLocaleString()}"&gt;
				${(C&lt;10?"0":"")+C}:${(x&lt;10?"0":"")+x}:${(I&lt;10?"0":"")+I}
			&lt;/span&gt;
		`)}Jl(()=&gt;{clearInterval(c)}),n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("epochMs"in t||n.$$.bound[n.$$.props.epochMs])&amp;&amp;console.warn("&lt;CountdownTimer&gt; was created without expected prop 'epochMs'")});const u=["epochMs"];return Object.keys(t).forEach(f=&gt;{!~u.indexOf(f)&amp;&amp;f.slice(0,2)!=="$$"&amp;&amp;f!=="slot"&amp;&amp;console.warn(`&lt;CountdownTimer&gt; was created with unknown prop '${f}'`)}),n.$$set=f=&gt;{"epochMs"in f&amp;&amp;e(1,i=f.epochMs)},n.$capture_state=()=&gt;({onDestroy:Jl,onMount:as,epochMs:i,nowEpochMs:o,timerValue:a,timer:c,updateTimerValue:l}),n.$inject_state=f=&gt;{"epochMs"in f&amp;&amp;e(1,i=f.epochMs),"nowEpochMs"in f&amp;&amp;(o=f.nowEpochMs),"timerValue"in f&amp;&amp;e(0,a=f.timerValue),"timer"in f&amp;&amp;(c=f.timer)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[a,i]}class Wo extends Rt{constructor(t){super(t),Ot(this,t,sy,Qc,Bt,{epochMs:1}),R("SvelteRegisterComponent",{component:this,tagName:"CountdownTimer",options:t,id:Qc.name})}get epochMs(){throw new Error("&lt;CountdownTimer&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set epochMs(t){throw new Error("&lt;CountdownTimer&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const{console:ry}=li,q="src/routes/Info.svelte";function Vc(n){let t,e,s,r,i,o=n[1].actionLimitCount+"",a,c,l=n[1].maxActions+"",u,f,h,p,m,A,C,I,x,P,B,N,O,H,J,X,U,st,ot,at,lt,rt,K,Tt,vt,Y,et,ht,Rn,fi,Ee,mt,Kt,cn,Ye,hi,Un,di,Dl,pi,hs,Ml,Ks,ds,Ys;K=new Wo({props:{epochMs:n[1].nextFeed*1e3},$$inline:!0}),Y=new Yo({props:{total:ps(n[1].numFeeds,n[1].level,n[1].levelThresholds.feed),threshold:n[1].level&lt;15?n[1].levelThresholds.feed:Number(n[1].levelThresholds.feed)*3},$$inline:!0}),mt=new Wo({props:{epochMs:n[1].nextClean*1e3},$$inline:!0}),Ye=new Yo({props:{total:ps(n[1].numCleans,n[1].level,n[1].levelThresholds.clean),threshold:n[1].level&lt;15?n[1].levelThresholds.clean:Number(n[1].levelThresholds.clean)*3},$$inline:!0}),hs=new Wo({props:{epochMs:n[1].nextPlay*1e3},$$inline:!0}),ds=new Yo({props:{total:ps(n[1].numPlays,n[1].level,n[1].levelThresholds.play),threshold:n[1].level&lt;15?n[1].levelThresholds.play:Number(n[1].levelThresholds.play)*3},$$inline:!0});const Hl={c:function(){t=b("div"),e=b("div"),s=b("h3"),s.textContent="Today's duties",r=T(),i=b("div"),a=Z(o),c=Z(" / "),u=Z(l),f=T(),h=b("table"),p=b("colgroup"),m=b("col"),A=T(),C=b("col"),I=T(),x=b("col"),P=T(),B=b("thead"),N=b("tr"),O=b("th"),O.textContent="Task",H=T(),J=b("th"),J.textContent="Due date",X=T(),U=b("th"),U.textContent="Level up",st=T(),ot=b("tr"),at=b("td"),at.textContent="Feed",lt=T(),rt=b("td"),pt(K.$$.fragment),Tt=T(),vt=b("td"),pt(Y.$$.fragment),et=T(),ht=b("tr"),Rn=b("td"),Rn.textContent="Clean",fi=T(),Ee=b("td"),pt(mt.$$.fragment),Kt=T(),cn=b("td"),pt(Ye.$$.fragment),hi=T(),Un=b("tr"),di=b("td"),di.textContent="Playdates",Dl=T(),pi=b("td"),pt(hs.$$.fragment),Ml=T(),Ks=b("td"),pt(ds.$$.fragment),v(s,"class","task-header s-AsgLAl132XNS"),y(s,q,132,3,2949),v(i,"class","action-limits s-AsgLAl132XNS"),y(i,q,133,3,2996),v(e,"class","task-header-wrapper s-AsgLAl132XNS"),y(e,q,131,2,2912),M(m,"width","30%"),y(m,q,137,4,3137),M(C,"width","30%"),y(C,q,138,4,3165),M(x,"width","40%"),y(x,q,139,4,3193),y(p,q,136,3,3122),y(O,q,143,5,3257),y(J,q,144,5,3276),M(U,"text-align","right"),y(U,q,145,5,3299),y(N,q,142,4,3247),v(B,"class","s-AsgLAl132XNS"),y(B,q,141,3,3235),v(at,"class","s-AsgLAl132XNS"),y(at,q,149,4,3378),v(rt,"class","s-AsgLAl132XNS"),y(rt,q,150,4,3396),M(vt,"text-align","right"),v(vt,"class","s-AsgLAl132XNS"),y(vt,q,153,4,3473),y(ot,q,148,3,3369),v(Rn,"class","s-AsgLAl132XNS"),y(Rn,q,159,4,3778),v(Ee,"class","s-AsgLAl132XNS"),y(Ee,q,160,4,3797),M(cn,"text-align","right"),v(cn,"class","s-AsgLAl132XNS"),y(cn,q,163,4,3875),y(ht,q,158,3,3769),v(di,"class","s-AsgLAl132XNS"),y(di,q,169,4,4184),v(pi,"class","s-AsgLAl132XNS"),y(pi,q,170,4,4207),M(Ks,"text-align","right"),v(Ks,"class","s-AsgLAl132XNS"),y(Ks,q,173,4,4284),y(Un,q,168,3,4175),v(h,"class","task-table s-AsgLAl132XNS"),y(h,q,135,2,3092),v(t,"class","info-container s-AsgLAl132XNS"),y(t,q,130,1,2881)},m:function(it,de){Q(it,t,de),g(t,e),g(e,s),g(e,r),g(e,i),g(i,a),g(i,c),g(i,u),g(t,f),g(t,h),g(h,p),g(p,m),g(p,A),g(p,C),g(p,I),g(p,x),g(h,P),g(h,B),g(B,N),g(N,O),g(N,H),g(N,J),g(N,X),g(N,U),g(h,st),g(h,ot),g(ot,at),g(ot,lt),g(ot,rt),ut(K,rt,null),g(ot,Tt),g(ot,vt),ut(Y,vt,null),g(h,et),g(h,ht),g(ht,Rn),g(ht,fi),g(ht,Ee),ut(mt,Ee,null),g(ht,Kt),g(ht,cn),ut(Ye,cn,null),g(h,hi),g(h,Un),g(Un,di),g(Un,Dl),g(Un,pi),ut(hs,pi,null),g(Un,Ml),g(Un,Ks),ut(ds,Ks,null),Ys=!0},p:function(it,de){(!Ys||de&amp;2)&amp;&amp;o!==(o=it[1].actionLimitCount+"")&amp;&amp;Ct(a,o),(!Ys||de&amp;2)&amp;&amp;l!==(l=it[1].maxActions+"")&amp;&amp;Ct(u,l);const Gl={};de&amp;2&amp;&amp;(Gl.epochMs=it[1].nextFeed*1e3),K.$set(Gl);const Ra={};de&amp;2&amp;&amp;(Ra.total=ps(it[1].numFeeds,it[1].level,it[1].levelThresholds.feed)),de&amp;2&amp;&amp;(Ra.threshold=it[1].level&lt;15?it[1].levelThresholds.feed:Number(it[1].levelThresholds.feed)*3),Y.$set(Ra);const jl={};de&amp;2&amp;&amp;(jl.epochMs=it[1].nextClean*1e3),mt.$set(jl);const Ua={};de&amp;2&amp;&amp;(Ua.total=ps(it[1].numCleans,it[1].level,it[1].levelThresholds.clean)),de&amp;2&amp;&amp;(Ua.threshold=it[1].level&lt;15?it[1].levelThresholds.clean:Number(it[1].levelThresholds.clean)*3),Ye.$set(Ua);const Ql={};de&amp;2&amp;&amp;(Ql.epochMs=it[1].nextPlay*1e3),hs.$set(Ql);const Fa={};de&amp;2&amp;&amp;(Fa.total=ps(it[1].numPlays,it[1].level,it[1].levelThresholds.play)),de&amp;2&amp;&amp;(Fa.threshold=it[1].level&lt;15?it[1].levelThresholds.play:Number(it[1].levelThresholds.play)*3),ds.$set(Fa)},i:function(it){Ys||(L(K.$$.fragment,it),L(Y.$$.fragment,it),L(mt.$$.fragment,it),L(Ye.$$.fragment,it),L(hs.$$.fragment,it),L(ds.$$.fragment,it),Ys=!0)},o:function(it){F(K.$$.fragment,it),F(Y.$$.fragment,it),F(mt.$$.fragment,it),F(Ye.$$.fragment,it),F(hs.$$.fragment,it),F(ds.$$.fragment,it),Ys=!1},d:function(it){it&amp;&amp;V(t),ft(K),ft(Y),ft(mt),ft(Ye),ft(hs),ft(ds)}};return R("SvelteRegisterBlock",{block:Hl,id:Vc.name,type:"if",source:"(119:1) {#if catState}",ctx:n}),Hl}function zc(n){let t,e,s,r=n[2].length?`(${n[2].length})`:"",i,o,a,c,l;const u=[Ld,Od],f=[];function h(m,A){return m[2].length?0:1}a=h(n),c=f[a]=u[a](n);const p={c:function(){t=b("div"),e=b("h3"),s=Z("Friends "),i=Z(r),o=T(),c.c(),M(e,"font-size","18px"),M(e,"margin-top","0"),y(e,q,183,2,4654),v(t,"class","info-container s-AsgLAl132XNS"),y(t,q,182,1,4623)},m:function(A,C){Q(A,t,C),g(t,e),g(e,s),g(e,i),g(t,o),f[a].m(t,null),l=!0},p:function(A,C){(!l||C&amp;4)&amp;&amp;r!==(r=A[2].length?`(${A[2].length})`:"")&amp;&amp;Ct(i,r);let I=a;a=h(A),a===I?f[a].p(A,C):(Ht(),F(f[I],1,1,()=&gt;{f[I]=null}),Gt(),c=f[a],c?c.p(A,C):(c=f[a]=u[a](A),c.c()),L(c,1),c.m(t,null))},i:function(A){l||(L(c),l=!0)},o:function(A){F(c),l=!1},d:function(A){A&amp;&amp;V(t),f[a].d()}};return R("SvelteRegisterBlock",{block:p,id:zc.name,type:"if",source:"(171:1) {#if friendsList}",ctx:n}),p}function Od(n){let t,e;const s={c:function(){t=b("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=b("p"),e.textContent="Once you complete play dates, new friends will appear here.",y(t,q,200,3,5237),v(e,"class","light"),y(e,q,200,53,5287)},m:function(i,o){Q(i,t,o),Q(i,e,o)},p:nt,i:nt,o:nt,d:function(i){i&amp;&amp;(V(t),V(e))}};return R("SvelteRegisterBlock",{block:s,id:Od.name,type:"else",source:"(189:2) {:else}",ctx:n}),s}function Ld(n){let t,e;t=new La({props:{friendsList:n[2],$$slots:{default:[Rd,({friend:r})=&gt;({5:r}),({friend:r})=&gt;r?32:0]},$$scope:{ctx:n}},$$inline:!0});const s={c:function(){pt(t.$$.fragment)},m:function(i,o){ut(t,i,o),e=!0},p:function(i,o){const a={};o&amp;4&amp;&amp;(a.friendsList=i[2]),o&amp;96&amp;&amp;(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i:function(i){e||(L(t.$$.fragment,i),e=!0)},o:function(i){F(t.$$.fragment,i),e=!1},d:function(i){ft(t,i)}};return R("SvelteRegisterBlock",{block:s,id:Ld.name,type:"if",source:"(174:2) {#if friendsList.length}",ctx:n}),s}function Rd(n){let t,e,s,r,i,o,a,c=n[5].tokenId+"",l,u,f,h=Oe(n[5].level)+"",p,m,A,C,I;e=new On({props:{tokenUri:n[5].tokenUri},$$inline:!0}),C=new Ln({props:{address:n[5].owner},$$inline:!0});const x={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("h4"),a=Z("#"),l=Z(c),u=T(),f=b("span"),p=Z(h),m=T(),A=b("div"),pt(C.$$.fragment),y(o,q,190,7,5019),y(f,q,191,7,5053),v(i,"class","cat-list-title"),y(i,q,189,6,4983),y(A,q,193,6,5115),v(r,"class","cat-list-info"),y(r,q,188,5,4949),v(t,"class","cat-list-item"),M(t,"cursor","unset"),y(t,q,186,4,4850)},m:function(B,N){Q(B,t,N),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(r,m),g(r,A),ut(C,A,null),I=!0},p:function(B,N){const O={};N&amp;32&amp;&amp;(O.tokenUri=B[5].tokenUri),e.$set(O),(!I||N&amp;32)&amp;&amp;c!==(c=B[5].tokenId+"")&amp;&amp;Ct(l,c),(!I||N&amp;32)&amp;&amp;h!==(h=Oe(B[5].level)+"")&amp;&amp;Ct(p,h);const H={};N&amp;32&amp;&amp;(H.address=B[5].owner),C.$set(H)},i:function(B){I||(L(e.$$.fragment,B),L(C.$$.fragment,B),I=!0)},o:function(B){F(e.$$.fragment,B),F(C.$$.fragment,B),I=!1},d:function(B){B&amp;&amp;V(t),ft(e),ft(C)}};return R("SvelteRegisterBlock",{block:x,id:Rd.name,type:"slot",source:"(175:3) &lt;FriendsList friendsList={friendsList} let:friend&gt;",ctx:n}),x}function Jc(n){let t,e,s,r,i,o,a,c,l=Oe(n[0].level)+"",u,f,h,p,m,A,C=(n[1]?n[1].pointsBalance:"-")+"",I,x,P,B,N,O,H,J,X,U,st,ot,at,lt;e=new Zf({$$inline:!0});let rt=n[1]&amp;&amp;Vc(n),K=n[2]&amp;&amp;zc(n);at=new Je({props:{show:n[3]},$$inline:!0});const Tt={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("label"),o.textContent="Smart level",a=T(),c=b("span"),u=Z(l),f=T(),h=b("div"),p=b("label"),p.textContent="SmartLayer Points",m=T(),A=b("span"),I=Z(C),x=T(),P=b("div"),B=b("div"),N=b("a"),N.textContent="View",O=T(),H=b("div"),J=b("div"),J.textContent="Share",X=T(),U=b("div"),rt&amp;&amp;rt.c(),st=T(),K&amp;&amp;K.c(),ot=T(),pt(at.$$.fragment),y(o,q,106,3,2236),y(c,q,107,3,2266),v(i,"class","score-box"),M(i,"flex","50%"),y(i,q,105,2,2190),y(p,q,110,3,2365),y(A,q,111,3,2401),v(h,"class","score-box"),M(h,"flex","50%"),y(h,q,109,2,2319),M(r,"display","flex"),M(r,"gap","8px"),M(r,"margin-top","24px"),y(r,q,104,1,2132),v(N,"href","https://www.smartlayer.network/smartcat/suitup/browse"),v(N,"target","_blank"),y(N,q,117,3,2580),v(B,"class","link-button"),M(B,"flex","50%"),y(B,q,116,2,2532),M(J,"color","rgba(1,26,255,0.56)"),M(J,"border-color","rgba(1,26,255,0.56)"),y(J,q,122,3,2737),v(H,"class","link-button"),M(H,"flex","50%"),y(H,q,121,2,2689),M(P,"display","flex"),M(P,"gap","8px"),M(P,"margin","24px 0"),y(P,q,115,1,2475),M(t,"padding","10px 10px 0"),y(t,q,102,0,2085),y(U,q,128,0,2858)},l:function(Y){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(Y,et){Q(Y,t,et),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(i,a),g(i,c),g(c,u),g(r,f),g(r,h),g(h,p),g(h,m),g(h,A),g(A,I),g(t,x),g(t,P),g(P,B),g(B,N),g(P,O),g(P,H),g(H,J),Q(Y,X,et),Q(Y,U,et),rt&amp;&amp;rt.m(U,null),g(U,st),K&amp;&amp;K.m(U,null),g(U,ot),ut(at,U,null),lt=!0},p:function(Y,[et]){(!lt||et&amp;1)&amp;&amp;l!==(l=Oe(Y[0].level)+"")&amp;&amp;Ct(u,l),(!lt||et&amp;2)&amp;&amp;C!==(C=(Y[1]?Y[1].pointsBalance:"-")+"")&amp;&amp;Ct(I,C),Y[1]?rt?(rt.p(Y,et),et&amp;2&amp;&amp;L(rt,1)):(rt=Vc(Y),rt.c(),L(rt,1),rt.m(U,st)):rt&amp;&amp;(Ht(),F(rt,1,1,()=&gt;{rt=null}),Gt()),Y[2]?K?(K.p(Y,et),et&amp;4&amp;&amp;L(K,1)):(K=zc(Y),K.c(),L(K,1),K.m(U,ot)):K&amp;&amp;(Ht(),F(K,1,1,()=&gt;{K=null}),Gt());const ht={};et&amp;8&amp;&amp;(ht.show=Y[3]),at.$set(ht)},i:function(Y){lt||(L(e.$$.fragment,Y),L(rt),L(K),L(at.$$.fragment,Y),lt=!0)},o:function(Y){F(e.$$.fragment,Y),F(rt),F(K),F(at.$$.fragment,Y),lt=!1},d:function(Y){Y&amp;&amp;(V(t),V(X),V(U)),ft(e),rt&amp;&amp;rt.d(),K&amp;&amp;K.d(),ft(at)}};return R("SvelteRegisterBlock",{block:Tt,id:Jc.name,type:"component",source:"",ctx:n}),Tt}function ps(n,t,e){const s=Number(t)-1,r=t&gt;14?14:s,i=t&gt;14?s-14:0;return Number(n)-Number(e)*r-Number(e)*i*3}function iy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Info",s,[]);let i,o=null,a=null,c=!0;const l=async()=&gt;{try{o||e(1,o=await wf(i)),a||e(2,a=await ci(i))}catch(f){console.error(f),alert("Failed to load cat info: "+f.message)}e(3,c=!1)};kt.data.subscribe(async f=&gt;{f.token&amp;&amp;(e(0,i=f.token),await l())});const u=[];return Object.keys(t).forEach(f=&gt;{!~u.indexOf(f)&amp;&amp;f.slice(0,2)!=="$$"&amp;&amp;f!=="slot"&amp;&amp;ry.warn(`&lt;Info&gt; was created with unknown prop '${f}'`)}),n.$capture_state=()=&gt;({Header:Zf,context:kt,getCatState:wf,getFriendsList:ci,NftIcon:On,OwnerAddress:Ln,Loader:Je,LevelProgress:Yo,getLevelLabel:Oe,FriendsList:La,CountdownTimer:Wo,token:i,catState:o,friendsList:a,loading:c,loadInfo:l,getCurrentLevelProgress:ps}),n.$inject_state=f=&gt;{"token"in f&amp;&amp;e(0,i=f.token),"catState"in f&amp;&amp;e(1,o=f.catState),"friendsList"in f&amp;&amp;e(2,a=f.friendsList),"loading"in f&amp;&amp;e(3,c=f.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a,c]}class Ef extends Rt{constructor(t){super(t),Ot(this,t,iy,Jc,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Info",options:t,id:Jc.name})}}const oy="src/routes/NotFound.svelte";function Kc(n){let t;const e={c:function(){t=b("h1"),t.textContent="404",y(t,oy,0,0,0)},l:function(r){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,i){Q(r,t,i)},p:nt,i:nt,o:nt,d:function(r){r&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:e,id:Kc.name,type:"component",source:"",ctx:n}),e}function ay(n,t){let{$$slots:e={},$$scope:s}=t;Lt("NotFound",e,[]);const r=[];return Object.keys(t).forEach(i=&gt;{!~r.indexOf(i)&amp;&amp;i.slice(0,2)!=="$$"&amp;&amp;i!=="slot"&amp;&amp;console.warn(`&lt;NotFound&gt; was created with unknown prop '${i}'`)}),[]}class kf extends Rt{constructor(t){super(t),Ot(this,t,ay,Kc,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"NotFound",options:t,id:Kc.name})}}const sr="src/routes/Feed.svelte";function Yc(n){let t,e,s,r,i,o,a,c,l,u,f,h,p,m;const A={c:function(){t=b("div"),e=b("div"),s=b("img"),i=T(),o=b("img"),l=T(),u=b("h3"),u.textContent="Your cat is starving!",f=T(),h=b("p"),h.textContent="Feed him something tasty to keep him happy!",v(s,"class","gif s-SlJU9hg6bRoH"),v(s,"alt","smart food"),Qe(s.src,r="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.gif")||v(s,"src",r),y(s,sr,48,2,733),v(o,"class","static s-SlJU9hg6bRoH"),v(o,"alt","smart food"),Qe(o.src,a="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/SmartFood.png")||v(o,"src",a),y(o,sr,49,2,860),v(e,"class",c="gif-container "+(n[0]?"play":"")+" s-SlJU9hg6bRoH"),y(e,sr,47,1,679),y(u,sr,51,1,997),y(h,sr,52,1,1029),y(t,sr,46,0,672)},l:function(I){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(I,x){Q(I,t,x),g(t,e),g(e,s),g(e,i),g(e,o),g(t,l),g(t,u),g(t,f),g(t,h),p||(m=$t(window,"message",n[1],!1,!1,!1,!1),p=!0)},p:function(I,[x]){x&amp;1&amp;&amp;c!==(c="gif-container "+(I[0]?"play":"")+" s-SlJU9hg6bRoH")&amp;&amp;v(e,"class",c)},i:nt,o:nt,d:function(I){I&amp;&amp;V(t),p=!1,m()}};return R("SvelteRegisterBlock",{block:A,id:Yc.name,type:"component",source:"",ctx:n}),A}function cy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Feed",s,[]);let i=!1,o=!1;const a=l=&gt;{var u,f,h;if(((u=l.data)==null?void 0:u.method)==="transactionEvent")switch((h=(f=l.data)==null?void 0:f.params)==null?void 0:h.status){case"started":e(0,i=!0);break;case"error":e(0,i=!1);break}},c=[];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;Feed&gt; was created with unknown prop '${l}'`)}),n.$capture_state=()=&gt;({feeding:i,completed:o,onMessage:a}),n.$inject_state=l=&gt;{"feeding"in l&amp;&amp;e(0,i=l.feeding),"completed"in l&amp;&amp;(o=l.completed)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,a]}class Cf extends Rt{constructor(t){super(t),Ot(this,t,cy,Yc,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Feed",options:t,id:Yc.name})}}const{console:ly}=li,le="src/routes/Play.svelte";function Pf(n,t,e){const s=n.slice();return s[7]=t[e],s}function Wc(n){let t=n[0].length&gt;0&amp;&amp;!n[0].find(If),e,s,r,i,o,a=t&amp;&amp;Zc(n);const c=[Fd,Ud],l=[];function u(h,p){return h[0].length?0:1}s=u(n),r=l[s]=c[s](n);const f={c:function(){a&amp;&amp;a.c(),e=T(),r.c(),i=zs()},m:function(p,m){a&amp;&amp;a.m(p,m),Q(p,e,m),l[s].m(p,m),Q(p,i,m),o=!0},p:function(p,m){m&amp;1&amp;&amp;(t=p[0].length&gt;0&amp;&amp;!p[0].find(If)),t?a||(a=Zc(p),a.c(),a.m(e.parentNode,e)):a&amp;&amp;(a.d(1),a=null);let A=s;s=u(p),s===A?l[s].p(p,m):(Ht(),F(l[A],1,1,()=&gt;{l[A]=null}),Gt(),r=l[s],r?r.p(p,m):(r=l[s]=c[s](p),r.c()),L(r,1),r.m(i.parentNode,i))},i:function(p){o||(L(r),o=!0)},o:function(p){F(r),o=!1},d:function(p){p&amp;&amp;(V(e),V(i)),a&amp;&amp;a.d(p),l[s].d(p)}};return R("SvelteRegisterBlock",{block:f,id:Wc.name,type:"if",source:"(38:1) {#if invites}",ctx:n}),f}function Zc(n){let t;const e={c:function(){t=b("p"),t.textContent="All cats are too tired to play at the moment, check back later.",y(t,le,46,3,1091)},m:function(r,i){Q(r,t,i)},d:function(r){r&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:e,id:Zc.name,type:"if",source:"(39:2) {#if invites.length &gt; 0 &amp;&amp; !invites.find((invitee) =&gt; invitee.canPlay === true)}",ctx:n}),e}function Ud(n){let t,e;const s={c:function(){t=b("h5"),t.textContent="You don't have any play requests yet",e=b("p"),e.textContent="Share your microchip ID with other owners or request a playdate using another microchip ID",y(t,le,68,3,1835),v(e,"class","light"),y(e,le,68,48,1880)},m:function(i,o){Q(i,t,o),Q(i,e,o)},p:nt,i:nt,o:nt,d:function(i){i&amp;&amp;(V(t),V(e))}};return R("SvelteRegisterBlock",{block:s,id:Ud.name,type:"else",source:"(61:2) {:else}",ctx:n}),s}function Fd(n){let t,e,s=an(n[0]),r=[];for(let a=0;a&lt;s.length;a+=1)r[a]=Xc(Pf(n,s,a));const i=a=&gt;F(r[a],1,1,()=&gt;{r[a]=null}),o={c:function(){t=b("div");for(let c=0;c&lt;r.length;c+=1)r[c].c();v(t,"class","cat-list"),y(t,le,49,3,1196)},m:function(c,l){Q(c,t,l);for(let u=0;u&lt;r.length;u+=1)r[u]&amp;&amp;r[u].m(t,null);e=!0},p:function(c,l){if(l&amp;11){s=an(c[0]);let u;for(u=0;u&lt;s.length;u+=1){const f=Pf(c,s,u);r[u]?(r[u].p(f,l),L(r[u],1)):(r[u]=Xc(f),r[u].c(),L(r[u],1),r[u].m(t,null))}for(Ht(),u=s.length;u&lt;r.length;u+=1)i(u);Gt()}},i:function(c){if(!e){for(let l=0;l&lt;s.length;l+=1)L(r[l]);e=!0}},o:function(c){r=r.filter(Boolean);for(let l=0;l&lt;r.length;l+=1)F(r[l]);e=!1},d:function(c){c&amp;&amp;V(t),ho(r,c)}};return R("SvelteRegisterBlock",{block:o,id:Fd.name,type:"if",source:"(42:2) {#if invites.length}",ctx:n}),o}function Xc(n){let t,e,s,r,i,o,a,c=n[7].tokenId+"",l,u,f,h=Oe(n[7].level)+"",p,m,A,C,I,x,P,B,N,O;e=new On({props:{tokenUri:n[7].tokenUri},$$inline:!0}),C=new Ln({props:{address:n[7].owner},$$inline:!0});function H(){return n[4](n[7])}const J={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("h4"),a=Z("#"),l=Z(c),u=T(),f=b("span"),p=Z(h),m=T(),A=b("div"),pt(C.$$.fragment),I=T(),y(o,le,57,7,1611),y(f,le,58,7,1646),v(i,"class","cat-list-title"),y(i,le,56,6,1575),y(A,le,60,6,1709),v(r,"class","cat-list-info"),y(r,le,55,5,1541),v(t,"class",x="cat-list-item "+(n[7].canPlay?"":"cant-play")+" "+(n[1]===n[7].tokenId?"selected":"")),v(t,"title",P=n[7].canPlay?"":"This cat is too tired to play"),y(t,le,51,4,1253)},m:function(U,st){Q(U,t,st),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(r,m),g(r,A),ut(C,A,null),g(t,I),B=!0,N||(O=$t(t,"click",H,!1,!1,!1,!1),N=!0)},p:function(U,st){n=U;const ot={};st&amp;1&amp;&amp;(ot.tokenUri=n[7].tokenUri),e.$set(ot),(!B||st&amp;1)&amp;&amp;c!==(c=n[7].tokenId+"")&amp;&amp;Ct(l,c),(!B||st&amp;1)&amp;&amp;h!==(h=Oe(n[7].level)+"")&amp;&amp;Ct(p,h);const at={};st&amp;1&amp;&amp;(at.address=n[7].owner),C.$set(at),(!B||st&amp;3&amp;&amp;x!==(x="cat-list-item "+(n[7].canPlay?"":"cant-play")+" "+(n[1]===n[7].tokenId?"selected":"")))&amp;&amp;v(t,"class",x),(!B||st&amp;1&amp;&amp;P!==(P=n[7].canPlay?"":"This cat is too tired to play"))&amp;&amp;v(t,"title",P)},i:function(U){B||(L(e.$$.fragment,U),L(C.$$.fragment,U),B=!0)},o:function(U){F(e.$$.fragment,U),F(C.$$.fragment,U),B=!1},d:function(U){U&amp;&amp;V(t),ft(e),ft(C),N=!1,O()}};return R("SvelteRegisterBlock",{block:J,id:Xc.name,type:"each",source:"(44:3) {#each invites as inviter}",ctx:n}),J}function qc(n){let t,e,s,r,i,o,a,c,l,u,f=n[0]&amp;&amp;Wc(n);a=new Je({props:{show:n[2]},$$inline:!0});const h={c:function(){t=b("div"),e=b("h3"),e.textContent="Play invites",s=T(),r=b("p"),r.textContent=`Your cat is prone to boredom!
		Accept play-dates from other cats owners to keep your cat happy.`,i=T(),f&amp;&amp;f.c(),o=T(),pt(a.$$.fragment),c=T(),l=b("input"),y(e,le,39,1,858),y(r,le,40,1,881),v(l,"id","inviter"),v(l,"type","hidden"),l.value=n[1],y(l,le,72,1,2034),y(t,le,38,0,851)},l:function(m){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,A){Q(m,t,A),g(t,e),g(t,s),g(t,r),g(t,i),f&amp;&amp;f.m(t,null),g(t,o),ut(a,t,null),g(t,c),g(t,l),u=!0},p:function(m,[A]){m[0]?f?(f.p(m,A),A&amp;1&amp;&amp;L(f,1)):(f=Wc(m),f.c(),L(f,1),f.m(t,o)):f&amp;&amp;(Ht(),F(f,1,1,()=&gt;{f=null}),Gt());const C={};A&amp;4&amp;&amp;(C.show=m[2]),a.$set(C),(!u||A&amp;2)&amp;&amp;sc(l,"value",m[1])},i:function(m){u||(L(f),L(a.$$.fragment,m),u=!0)},o:function(m){F(f),F(a.$$.fragment,m),u=!1},d:function(m){m&amp;&amp;V(t),f&amp;&amp;f.d(),ft(a)}};return R("SvelteRegisterBlock",{block:h,id:qc.name,type:"component",source:"",ctx:n}),h}const If=n=&gt;n.canPlay===!0;function uy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Play",s,[]);let i,o=null,a=0,c=!0;async function l(){try{e(0,o=await gf(i))}catch(p){console.error(p),alert("Failed to load invites: "+p.message)}e(2,c=!1)}function u(p){e(1,a=p.tokenId),web3.action.setProps({inviter:a})}kt.data.subscribe(async p=&gt;{p.token&amp;&amp;(i=p.token,await l())});const f=[];Object.keys(t).forEach(p=&gt;{!~f.indexOf(p)&amp;&amp;p.slice(0,2)!=="$$"&amp;&amp;p!=="slot"&amp;&amp;ly.warn(`&lt;Play&gt; was created with unknown prop '${p}'`)});const h=p=&gt;u(p);return n.$capture_state=()=&gt;({context:kt,getInviteList:gf,NftIcon:On,OwnerAddress:Ln,Loader:Je,getLevelLabel:Oe,token:i,invites:o,selectedInviter:a,loading:c,loadInvites:l,selectInviter:u}),n.$inject_state=p=&gt;{"token"in p&amp;&amp;(i=p.token),"invites"in p&amp;&amp;e(0,o=p.invites),"selectedInviter"in p&amp;&amp;e(1,a=p.selectedInviter),"loading"in p&amp;&amp;e(2,c=p.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,c,u,h]}class xf extends Rt{constructor(t){super(t),Ot(this,t,uy,qc,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Play",options:t,id:qc.name})}}const{console:fy}=li,Et="src/routes/Invite.svelte";function Nf(n,t,e){const s=n.slice();return s[14]=t[e],s}function $c(n){let t,e,s,r;const i=[Md,Dd],o=[];function a(l,u){return l[2].length?0:1}t=a(n),e=o[t]=i[t](n);const c={c:function(){e.c(),s=zs()},m:function(u,f){o[t].m(u,f),Q(u,s,f),r=!0},p:function(u,f){let h=t;t=a(u),t===h?o[t].p(u,f):(Ht(),F(o[h],1,1,()=&gt;{o[h]=null}),Gt(),e=o[t],e?e.p(u,f):(e=o[t]=i[t](u),e.c()),L(e,1),e.m(s.parentNode,s))},i:function(u){r||(L(e),r=!0)},o:function(u){F(e),r=!1},d:function(u){u&amp;&amp;V(s),o[t].d(u)}};return R("SvelteRegisterBlock",{block:c,id:$c.name,type:"if",source:"(107:3) {#if pendingList !== null}",ctx:n}),c}function Dd(n){let t;const e={c:function(){t=b("h5"),t.textContent="No pending invites",y(t,Et,132,5,3436)},m:function(r,i){Q(r,t,i)},p:nt,i:nt,o:nt,d:function(r){r&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:e,id:Dd.name,type:"else",source:"(124:4) {:else}",ctx:n}),e}function Md(n){let t,e,s=an(n[2]),r=[];for(let a=0;a&lt;s.length;a+=1)r[a]=tl(Nf(n,s,a));const i=a=&gt;F(r[a],1,1,()=&gt;{r[a]=null}),o={c:function(){t=b("div");for(let c=0;c&lt;r.length;c+=1)r[c].c();v(t,"class","cat-list"),y(t,Et,116,5,2998)},m:function(c,l){Q(c,t,l);for(let u=0;u&lt;r.length;u+=1)r[u]&amp;&amp;r[u].m(t,null);e=!0},p:function(c,l){if(l&amp;4){s=an(c[2]);let u;for(u=0;u&lt;s.length;u+=1){const f=Nf(c,s,u);r[u]?(r[u].p(f,l),L(r[u],1)):(r[u]=tl(f),r[u].c(),L(r[u],1),r[u].m(t,null))}for(Ht(),u=s.length;u&lt;r.length;u+=1)i(u);Gt()}},i:function(c){if(!e){for(let l=0;l&lt;s.length;l+=1)L(r[l]);e=!0}},o:function(c){r=r.filter(Boolean);for(let l=0;l&lt;r.length;l+=1)F(r[l]);e=!1},d:function(c){c&amp;&amp;V(t),ho(r,c)}};return R("SvelteRegisterBlock",{block:o,id:Md.name,type:"if",source:"(108:4) {#if pendingList.length}",ctx:n}),o}function tl(n){let t,e,s,r,i,o,a,c=n[14].tokenId+"",l,u,f,h,p,m;e=new On({props:{tokenUri:n[14].tokenUri},$$inline:!0}),h=new Ln({props:{address:n[14].owner},$$inline:!0});const A={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("h4"),a=Z("#"),l=Z(c),u=T(),f=b("div"),pt(h.$$.fragment),p=T(),y(o,Et,122,9,3242),v(i,"class","cat-list-title"),y(i,Et,121,8,3204),y(f,Et,124,8,3293),v(r,"class","cat-list-info"),y(r,Et,120,7,3168),v(t,"class","cat-list-item"),M(t,"cursor","unset"),y(t,Et,118,6,3064)},m:function(I,x){Q(I,t,x),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(o,a),g(o,l),g(r,u),g(r,f),ut(h,f,null),g(t,p),m=!0},p:function(I,x){const P={};x&amp;4&amp;&amp;(P.tokenUri=I[14].tokenUri),e.$set(P),(!m||x&amp;4)&amp;&amp;c!==(c=I[14].tokenId+"")&amp;&amp;Ct(l,c);const B={};x&amp;4&amp;&amp;(B.address=I[14].owner),h.$set(B)},i:function(I){m||(L(e.$$.fragment,I),L(h.$$.fragment,I),m=!0)},o:function(I){F(e.$$.fragment,I),F(h.$$.fragment,I),m=!1},d:function(I){I&amp;&amp;V(t),ft(e),ft(h)}};return R("SvelteRegisterBlock",{block:A,id:tl.name,type:"each",source:"(110:6) {#each pendingList as pending}",ctx:n}),A}function el(n){let t,e,s,r;const i=[Gd,Hd],o=[];function a(l,u){return l[4].length?0:1}t=a(n),e=o[t]=i[t](n);const c={c:function(){e.c(),s=zs()},m:function(u,f){o[t].m(u,f),Q(u,s,f),r=!0},p:function(u,f){let h=t;t=a(u),t===h?o[t].p(u,f):(Ht(),F(o[h],1,1,()=&gt;{o[h]=null}),Gt(),e=o[t],e?e.p(u,f):(e=o[t]=i[t](u),e.c()),L(e,1),e.m(s.parentNode,s))},i:function(u){r||(L(e),r=!0)},o:function(u){F(e),r=!1},d:function(u){u&amp;&amp;V(s),o[t].d(u)}};return R("SvelteRegisterBlock",{block:c,id:el.name,type:"if",source:"(131:3) {#if friendsList !== null}",ctx:n}),c}function Hd(n){let t,e;const s={c:function(){t=b("h5"),t.textContent="Your cat doesn't have any friends yet :-(",e=b("p"),e.textContent="Once you complete play dates, new friends will appear here.",y(t,Et,162,5,4435),v(e,"class","light"),y(e,Et,162,55,4485)},m:function(i,o){Q(i,t,o),Q(i,e,o)},p:nt,i:nt,o:nt,d:function(i){i&amp;&amp;(V(t),V(e))}};return R("SvelteRegisterBlock",{block:s,id:Hd.name,type:"else",source:"(154:4) {:else}",ctx:n}),s}function Gd(n){let t,e;t=new La({props:{friendsList:n[4],$$slots:{default:[jd,({friend:r})=&gt;({13:r}),({friend:r})=&gt;r?8192:0]},$$scope:{ctx:n}},$$inline:!0});const s={c:function(){pt(t.$$.fragment)},m:function(i,o){ut(t,i,o),e=!0},p:function(i,o){const a={};o&amp;16&amp;&amp;(a.friendsList=i[4]),o&amp;139264&amp;&amp;(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i:function(i){e||(L(t.$$.fragment,i),e=!0)},o:function(i){F(t.$$.fragment,i),e=!1},d:function(i){ft(t,i)}};return R("SvelteRegisterBlock",{block:s,id:Gd.name,type:"if",source:"(132:4) {#if friendsList.length}",ctx:n}),s}function jd(n){let t,e,s,r,i,o,a,c=n[13].tokenId+"",l,u,f,h,p,m,A,C,I,x;e=new On({props:{tokenUri:n[13].tokenUri},$$inline:!0}),h=new Ln({props:{address:n[13].owner},$$inline:!0});function P(){return n[9](n[13])}const B={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("h4"),a=Z("#"),l=Z(c),u=T(),f=b("div"),pt(h.$$.fragment),p=T(),m=b("div"),A=b("button"),A.textContent="Invite",y(o,Et,145,9,3917),v(i,"class","cat-list-title"),y(i,Et,144,8,3879),y(f,Et,147,8,3967),v(r,"class","cat-list-info"),y(r,Et,143,7,3843),v(A,"class","invite-btn s-igHLl7zY3ATx"),y(A,Et,152,8,4101),v(m,"class","invite-btn-wrapper s-igHLl7zY3ATx"),y(m,Et,151,7,4060),v(t,"class","cat-list-item"),M(t,"cursor","unset"),y(t,Et,141,6,3740)},m:function(O,H){Q(O,t,H),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(o,a),g(o,l),g(r,u),g(r,f),ut(h,f,null),g(t,p),g(t,m),g(m,A),C=!0,I||(x=$t(A,"click",P,!1,!1,!1,!1),I=!0)},p:function(O,H){n=O;const J={};H&amp;8192&amp;&amp;(J.tokenUri=n[13].tokenUri),e.$set(J),(!C||H&amp;8192)&amp;&amp;c!==(c=n[13].tokenId+"")&amp;&amp;Ct(l,c);const X={};H&amp;8192&amp;&amp;(X.address=n[13].owner),h.$set(X)},i:function(O){C||(L(e.$$.fragment,O),L(h.$$.fragment,O),C=!0)},o:function(O){F(e.$$.fragment,O),F(h.$$.fragment,O),C=!1},d:function(O){O&amp;&amp;V(t),ft(e),ft(h),I=!1,x()}};return R("SvelteRegisterBlock",{block:B,id:jd.name,type:"slot",source:"(133:5) &lt;FriendsList friendsList={friendsList} let:friend&gt;",ctx:n}),B}function nl(n){var fi;let t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C,I=(((fi=n[2])==null?void 0:fi.length)??0)+"",x,P,B,N,O,H,J,X,U,st,ot,at,lt,rt,K,Tt,vt,Y,et=n[2]!==null&amp;&amp;$c(n);ot=new Je({props:{show:n[1]},$$inline:!0});let ht=n[4]!==null&amp;&amp;el(n);K=new Je({props:{show:n[3]},$$inline:!0});const Rn={c:function(){t=b("div"),e=b("h3"),e.textContent="Play with other cats",s=T(),r=b("p"),r.textContent="Your cat is prone to boredom!",i=T(),o=b("p"),o.textContent=`Send play-dates request to other cats owners to keep your cat happy.
		Note that you cannot send invites to your own cat, or your cats brothers and sisters in the same wallet.`,a=T(),c=b("div"),l=b("input"),u=T(),f=b("label"),f.textContent="Microchip ID",h=T(),p=b("div"),m=b("div"),A=b("div"),C=Z("Pending dates ("),x=Z(I),P=Z(")"),N=T(),O=b("div"),H=Z("Friends"),X=T(),U=b("div"),et&amp;&amp;et.c(),st=T(),pt(ot.$$.fragment),at=T(),lt=b("div"),ht&amp;&amp;ht.c(),rt=T(),pt(K.$$.fragment),y(e,Et,98,1,2046),y(r,Et,99,1,2077),y(o,Et,100,1,2115),v(l,"type","text"),v(l,"placeholder"," "),v(l,"id","invitee"),v(l,"name","invitee"),l.required=!0,y(l,Et,105,2,2331),y(f,Et,106,2,2408),v(c,"class","form-field"),y(c,Et,104,1,2304),v(A,"class",B="tab-item "+(n[0]==="pending"?"selected":"")+" s-igHLl7zY3ATx"),y(A,Et,110,3,2555),v(O,"class",J="tab-item "+(n[0]==="friends"?"selected":"")+" s-igHLl7zY3ATx"),y(O,Et,111,3,2713),v(m,"class","tabs-header s-igHLl7zY3ATx"),y(m,Et,109,2,2526),v(U,"class","pending-tab"),M(U,"display",n[0]==="pending"?"block":"none"),y(U,Et,113,2,2844),v(lt,"class","friends-tab"),M(lt,"display",n[0]==="friends"?"block":"none"),y(lt,Et,137,2,3529),v(p,"class","tabs s-igHLl7zY3ATx"),y(p,Et,108,1,2505),y(t,Et,97,0,2039)},l:function(mt){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(mt,Kt){Q(mt,t,Kt),g(t,e),g(t,s),g(t,r),g(t,i),g(t,o),g(t,a),g(t,c),g(c,l),g(c,u),g(c,f),g(t,h),g(t,p),g(p,m),g(m,A),g(A,C),g(A,x),g(A,P),g(m,N),g(m,O),g(O,H),g(p,X),g(p,U),et&amp;&amp;et.m(U,null),g(U,st),ut(ot,U,null),g(p,at),g(p,lt),ht&amp;&amp;ht.m(lt,null),g(lt,rt),ut(K,lt,null),Tt=!0,vt||(Y=[$t(f,"click",n[6],!1,!1,!1,!1),$t(A,"click",n[7],!1,!1,!1,!1),$t(O,"click",n[8],!1,!1,!1,!1)],vt=!0)},p:function(mt,[Kt]){var hi;(!Tt||Kt&amp;4)&amp;&amp;I!==(I=(((hi=mt[2])==null?void 0:hi.length)??0)+"")&amp;&amp;Ct(x,I),(!Tt||Kt&amp;1&amp;&amp;B!==(B="tab-item "+(mt[0]==="pending"?"selected":"")+" s-igHLl7zY3ATx"))&amp;&amp;v(A,"class",B),(!Tt||Kt&amp;1&amp;&amp;J!==(J="tab-item "+(mt[0]==="friends"?"selected":"")+" s-igHLl7zY3ATx"))&amp;&amp;v(O,"class",J),mt[2]!==null?et?(et.p(mt,Kt),Kt&amp;4&amp;&amp;L(et,1)):(et=$c(mt),et.c(),L(et,1),et.m(U,st)):et&amp;&amp;(Ht(),F(et,1,1,()=&gt;{et=null}),Gt());const cn={};Kt&amp;2&amp;&amp;(cn.show=mt[1]),ot.$set(cn),(!Tt||Kt&amp;1)&amp;&amp;M(U,"display",mt[0]==="pending"?"block":"none"),mt[4]!==null?ht?(ht.p(mt,Kt),Kt&amp;16&amp;&amp;L(ht,1)):(ht=el(mt),ht.c(),L(ht,1),ht.m(lt,rt)):ht&amp;&amp;(Ht(),F(ht,1,1,()=&gt;{ht=null}),Gt());const Ye={};Kt&amp;8&amp;&amp;(Ye.show=mt[3]),K.$set(Ye),(!Tt||Kt&amp;1)&amp;&amp;M(lt,"display",mt[0]==="friends"?"block":"none")},i:function(mt){Tt||(L(et),L(ot.$$.fragment,mt),L(ht),L(K.$$.fragment,mt),Tt=!0)},o:function(mt){F(et),F(ot.$$.fragment,mt),F(ht),F(K.$$.fragment,mt),Tt=!1},d:function(mt){mt&amp;&amp;V(t),et&amp;&amp;et.d(),ft(ot),ht&amp;&amp;ht.d(),ft(K),vt=!1,Vs(Y)}};return R("SvelteRegisterBlock",{block:Rn,id:nl.name,type:"component",source:"",ctx:n}),Rn}function hy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Invite",s,[]);let i,o="pending",a=!1,c=null,l=!1,u=null;const f=async()=&gt;{e(1,a=!0);try{c||e(2,c=await mf(i))}catch(P){console.error(P),alert("Failed to load pending invites: "+P.message)}e(1,a=!1)},h=async()=&gt;{e(3,l=!0);try{u||e(4,u=await ci(i))}catch(P){console.error(P),alert("Failed to load pending invites: "+P.message)}e(3,l=!1)},p=P=&gt;{P==="friends"&amp;&amp;h(),e(0,o=P)};kt.data.subscribe(async P=&gt;{P.token&amp;&amp;(i=P.token,await f())});const m=[];Object.keys(t).forEach(P=&gt;{!~m.indexOf(P)&amp;&amp;P.slice(0,2)!=="$$"&amp;&amp;P!=="slot"&amp;&amp;fy.warn(`&lt;Invite&gt; was created with unknown prop '${P}'`)});const A=()=&gt;document.getElementById("invitee").focus(),C=()=&gt;p("pending"),I=()=&gt;p("friends"),x=P=&gt;{const B=document.getElementById("invitee");B.value=P.tokenId;const N=new Event("change",{bubbles:!0});B.dispatchEvent(N)};return n.$capture_state=()=&gt;({getFriendsList:ci,getPendingInvites:mf,context:kt,Loader:Je,FriendsList:La,NftIcon:On,OwnerAddress:Ln,getLevelLabel:Oe,token:i,selectedTab:o,pendingLoading:a,pendingList:c,friendsLoading:l,friendsList:u,loadPending:f,loadFriends:h,selectTab:p}),n.$inject_state=P=&gt;{"token"in P&amp;&amp;(i=P.token),"selectedTab"in P&amp;&amp;e(0,o=P.selectedTab),"pendingLoading"in P&amp;&amp;e(1,a=P.pendingLoading),"pendingList"in P&amp;&amp;e(2,c=P.pendingList),"friendsLoading"in P&amp;&amp;e(3,l=P.friendsLoading),"friendsList"in P&amp;&amp;e(4,u=P.friendsList)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,c,l,u,p,A,C,I,x]}class Sf extends Rt{constructor(t){super(t),Ot(this,t,hy,nl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Invite",options:t,id:nl.name})}}const Zo="src/routes/Clean.svelte";function Qd(n){let t,e,s;const r={c:function(){t=b("img"),v(t,"alt","overlay"),v(t,"class",e=qo(n[1]?"fade-out-image":"")+" s-zhAMHCb88KdG"),M(t,"position","absolute"),M(t,"top","0"),M(t,"left","0"),M(t,"width","100%"),M(t,"height","400px"),Qe(t.src,s="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/dirty-overlay.png")||v(t,"src",s),y(t,Zo,52,2,902)},m:function(o,a){Q(o,t,a)},p:function(o,a){a&amp;2&amp;&amp;e!==(e=qo(o[1]?"fade-out-image":"")+" s-zhAMHCb88KdG")&amp;&amp;v(t,"class",e)},d:function(o){o&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:r,id:Qd.name,type:"slot",source:"(47:1) &lt;CatImage imageUrl={token.image_preview_url}&gt;",ctx:n}),r}function sl(n){let t,e,s,r,i,o,a,c,l;e=new Tn({props:{imageUrl:n[0].image_preview_url,$$slots:{default:[Qd]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("h3"),r.textContent="Your cat is dirty!!!",i=T(),o=b("p"),o.textContent="Your cat is usually good at cleaning himself, but today he chose to roll around in the mud :-/",y(r,Zo,54,1,1146),y(o,Zo,55,1,1177),M(t,"text-align","center"),M(t,"padding","0 25px"),y(t,Zo,50,0,802)},l:function(h){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(h,p){Q(h,t,p),ut(e,t,null),g(t,s),g(t,r),g(t,i),g(t,o),a=!0,c||(l=$t(window,"message",n[2],!1,!1,!1,!1),c=!0)},p:function(h,[p]){const m={};p&amp;1&amp;&amp;(m.imageUrl=h[0].image_preview_url),p&amp;18&amp;&amp;(m.$$scope={dirty:p,ctx:h}),e.$set(m)},i:function(h){a||(L(e.$$.fragment,h),a=!0)},o:function(h){F(e.$$.fragment,h),a=!1},d:function(h){h&amp;&amp;V(t),ft(e),c=!1,l()}};return R("SvelteRegisterBlock",{block:u,id:sl.name,type:"component",source:"",ctx:n}),u}function dy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Clean",s,[]);let i,o=!1,a=!1;kt.data.subscribe(u=&gt;{e(0,i=u.token)});const c=u=&gt;{var f,h,p;if(((f=u.data)==null?void 0:f.method)==="transactionEvent")switch((p=(h=u.data)==null?void 0:h.params)==null?void 0:p.status){case"started":e(1,o=!0);break;case"error":e(1,o=!1);break;case"completed":e(1,o=!1);break}},l=[];return Object.keys(t).forEach(u=&gt;{!~l.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;console.warn(`&lt;Clean&gt; was created with unknown prop '${u}'`)}),n.$capture_state=()=&gt;({context:kt,CatImage:Tn,token:i,cleaning:o,completed:a,onMessage:c}),n.$inject_state=u=&gt;{"token"in u&amp;&amp;e(0,i=u.token),"cleaning"in u&amp;&amp;e(1,o=u.cleaning),"completed"in u&amp;&amp;(a=u.completed)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,c]}class Bf extends Rt{constructor(t){super(t),Ot(this,t,dy,sl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Clean",options:t,id:sl.name})}}const Ue="src/routes/LevelUp.svelte";function Vd(n){let t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C=Oe(n[0].level)+"",I;const x={c:function(){t=b("div"),e=b("img"),r=T(),i=b("img"),a=T(),c=b("img"),u=T(),f=b("div"),h=b("div"),p=b("label"),p.textContent="Smart level",m=T(),A=b("span"),I=Z(C),v(e,"class","level-image s-ZYX9umY93TZ_"),v(e,"alt","leveling up"),Qe(e.src,s=Xo)||v(e,"src",s),y(e,Ue,104,3,1988),v(i,"class","level-image level-image2 s-ZYX9umY93TZ_"),v(i,"alt","leveling up"),Qe(i.src,o=Xo)||v(i,"src",o),y(i,Ue,105,3,2054),v(c,"class","level-image level-image3 s-ZYX9umY93TZ_"),v(c,"alt","leveling up"),Qe(c.src,l=Xo)||v(c,"src",l),y(c,Ue,106,3,2133),v(t,"class","meme-wrapper s-ZYX9umY93TZ_"),M(t,"display",n[1]?"block":"none"),y(t,Ue,103,2,1910),y(p,Ue,110,4,2301),y(A,Ue,111,4,2332),v(h,"class","smart-level-box score-box s-ZYX9umY93TZ_"),y(h,Ue,109,3,2257),v(f,"class","smart-level-wrapper s-ZYX9umY93TZ_"),y(f,Ue,108,2,2220)},m:function(B,N){Q(B,t,N),g(t,e),g(t,r),g(t,i),g(t,a),g(t,c),Q(B,u,N),Q(B,f,N),g(f,h),g(h,p),g(h,m),g(h,A),g(A,I)},p:function(B,N){N&amp;2&amp;&amp;M(t,"display",B[1]?"block":"none"),N&amp;1&amp;&amp;C!==(C=Oe(B[0].level)+"")&amp;&amp;Ct(I,C)},d:function(B){B&amp;&amp;(V(t),V(u),V(f))}};return R("SvelteRegisterBlock",{block:x,id:Vd.name,type:"slot",source:"(97:1) &lt;CatImage imageUrl={token.image_preview_url}&gt;",ctx:n}),x}function rl(n){let t,e,s,r,i,o,a,c,l;o=new Tn({props:{imageUrl:n[0].image_preview_url,$$slots:{default:[Vd]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){t=b("div"),e=b("h3"),e.textContent="Getting smarter!",s=T(),r=b("p"),r.textContent="You've been taking good care of your cat, he's learning more skillz!",i=T(),pt(o.$$.fragment),y(e,Ue,100,1,1758),y(r,Ue,101,1,1785),y(t,Ue,99,0,1751)},l:function(h){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(h,p){Q(h,t,p),g(t,e),g(t,s),g(t,r),g(t,i),ut(o,t,null),a=!0,c||(l=$t(window,"message",n[2],!1,!1,!1,!1),c=!0)},p:function(h,[p]){const m={};p&amp;1&amp;&amp;(m.imageUrl=h[0].image_preview_url),p&amp;11&amp;&amp;(m.$$scope={dirty:p,ctx:h}),o.$set(m)},i:function(h){a||(L(o.$$.fragment,h),a=!0)},o:function(h){F(o.$$.fragment,h),a=!1},d:function(h){h&amp;&amp;V(t),ft(o),c=!1,l()}};return R("SvelteRegisterBlock",{block:u,id:rl.name,type:"component",source:"",ctx:n}),u}const Xo="https://viewer.tokenscript.org/assets/tokenscripts/smart-cat/images/Maths.png";function py(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("LevelUp",s,[]);let i;kt.data.subscribe(l=&gt;{e(0,i=l.token)});let o=!1;const a=l=&gt;{var u,f,h;if(((u=l.data)==null?void 0:u.method)==="transactionEvent")switch((h=(f=l.data)==null?void 0:f.params)==null?void 0:h.status){case"started":e(1,o=!0);break;case"error":e(1,o=!1);break;case"completed":e(1,o=!1);break}},c=[];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;LevelUp&gt; was created with unknown prop '${l}'`)}),n.$capture_state=()=&gt;({context:kt,CatImage:Tn,getLevelLabel:Oe,MathsImage:Xo,token:i,leveling:o,onMessage:a}),n.$inject_state=l=&gt;{"token"in l&amp;&amp;e(0,i=l.token),"leveling"in l&amp;&amp;e(1,o=l.leveling)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a]}class Tf extends Rt{constructor(t){super(t),Ot(this,t,py,rl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"LevelUp",options:t,id:rl.name})}}const tc="src/components/MessageBubble.svelte";function il(n){let t,e,s=n[0].message+"",r,i,o,a=n[0].sendingTokenId==n[1]&amp;&amp;n[0].read?"âœ“ (seen) ":"",c,l,u,f;const h={c:function(){t=b("div"),e=b("div"),r=Z(s),i=T(),o=b("small"),c=Z(a),l=T(),u=Z(n[2]),v(e,"class","message-content s-Rq_cryvNbnUI"),y(e,tc,50,1,894),v(o,"class","message-meta s-Rq_cryvNbnUI"),y(o,tc,53,1,953),v(t,"class",f="message-bubble "+(n[0].sendingTokenId==n[1]?"sender":"")+" s-Rq_cryvNbnUI"),y(t,tc,49,0,806)},l:function(m){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,A){Q(m,t,A),g(t,e),g(e,r),g(t,i),g(t,o),g(o,c),g(o,l),g(o,u)},p:function(m,[A]){A&amp;1&amp;&amp;s!==(s=m[0].message+"")&amp;&amp;Ct(r,s),A&amp;3&amp;&amp;a!==(a=m[0].sendingTokenId==m[1]&amp;&amp;m[0].read?"âœ“ (seen) ":"")&amp;&amp;Ct(c,a),A&amp;4&amp;&amp;Ct(u,m[2]),A&amp;3&amp;&amp;f!==(f="message-bubble "+(m[0].sendingTokenId==m[1]?"sender":"")+" s-Rq_cryvNbnUI")&amp;&amp;v(t,"class",f)},i:nt,o:nt,d:function(m){m&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:h,id:il.name,type:"component",source:"",ctx:n}),h}function gy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("MessageBubble",s,[]);let{message:i}=t,{senderTokenId:o}=t,a;n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("message"in t||n.$$.bound[n.$$.props.message])&amp;&amp;console.warn("&lt;MessageBubble&gt; was created without expected prop 'message'"),o===void 0&amp;&amp;!("senderTokenId"in t||n.$$.bound[n.$$.props.senderTokenId])&amp;&amp;console.warn("&lt;MessageBubble&gt; was created without expected prop 'senderTokenId'")});const c=["message","senderTokenId"];return Object.keys(t).forEach(l=&gt;{!~c.indexOf(l)&amp;&amp;l.slice(0,2)!=="$$"&amp;&amp;l!=="slot"&amp;&amp;console.warn(`&lt;MessageBubble&gt; was created with unknown prop '${l}'`)}),n.$$set=l=&gt;{"message"in l&amp;&amp;e(0,i=l.message),"senderTokenId"in l&amp;&amp;e(1,o=l.senderTokenId)},n.$capture_state=()=&gt;({message:i,senderTokenId:o,dateString:a}),n.$inject_state=l=&gt;{"message"in l&amp;&amp;e(0,i=l.message),"senderTokenId"in l&amp;&amp;e(1,o=l.senderTokenId),"dateString"in l&amp;&amp;e(2,a=l.dateString)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),n.$$.update=()=&gt;{if(n.$$.dirty&amp;1){const l=new Date,u=new Date(i.createdAt);u.setTime(u.getTime()+l.getTimezoneOffset()*6e4),u.getDate()&lt;l.getDate()?e(2,a=u.toLocaleString()):e(2,a=u.toLocaleTimeString())}},[i,o,a]}class zd extends Rt{constructor(t){super(t),Ot(this,t,gy,il,Bt,{message:0,senderTokenId:1}),R("SvelteRegisterComponent",{component:this,tagName:"MessageBubble",options:t,id:il.name})}get message(){throw new Error("&lt;MessageBubble&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set message(t){throw new Error("&lt;MessageBubble&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get senderTokenId(){throw new Error("&lt;MessageBubble&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set senderTokenId(t){throw new Error("&lt;MessageBubble&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const{console:Uo}=li,Dt="src/components/MessagePopup.svelte";function _f(n,t,e){const s=n.slice();return s[15]=t[e],s}function ol(n){let t,e,s=an(n[2]),r=[];for(let a=0;a&lt;s.length;a+=1)r[a]=al(_f(n,s,a));const i=a=&gt;F(r[a],1,1,()=&gt;{r[a]=null}),o={c:function(){for(let c=0;c&lt;r.length;c+=1)r[c].c();t=zs()},m:function(c,l){for(let u=0;u&lt;r.length;u+=1)r[u]&amp;&amp;r[u].m(c,l);Q(c,t,l),e=!0},p:function(c,l){if(l&amp;6){s=an(c[2]);let u;for(u=0;u&lt;s.length;u+=1){const f=_f(c,s,u);r[u]?(r[u].p(f,l),L(r[u],1)):(r[u]=al(f),r[u].c(),L(r[u],1),r[u].m(t.parentNode,t))}for(Ht(),u=s.length;u&lt;r.length;u+=1)i(u);Gt()}},i:function(c){if(!e){for(let l=0;l&lt;s.length;l+=1)L(r[l]);e=!0}},o:function(c){r=r.filter(Boolean);for(let l=0;l&lt;r.length;l+=1)F(r[l]);e=!1},d:function(c){c&amp;&amp;V(t),ho(r,c)}};return R("SvelteRegisterBlock",{block:o,id:ol.name,type:"if",source:"(153:2) {#if messages}",ctx:n}),o}function al(n){let t,e;t=new zd({props:{message:n[15],senderTokenId:n[1].tokenId},$$inline:!0});const s={c:function(){pt(t.$$.fragment)},m:function(i,o){ut(t,i,o),e=!0},p:function(i,o){const a={};o&amp;4&amp;&amp;(a.message=i[15]),o&amp;2&amp;&amp;(a.senderTokenId=i[1].tokenId),t.$set(a)},i:function(i){e||(L(t.$$.fragment,i),e=!0)},o:function(i){F(t.$$.fragment,i),e=!1},d:function(i){ft(t,i)}};return R("SvelteRegisterBlock",{block:s,id:al.name,type:"each",source:"(154:2) {#each messages as message}",ctx:n}),s}function cl(n){let t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C,I,x,P,B,N,O,H,J,X,U,st,ot,at,lt,rt,K=n[2]&amp;&amp;ol(n);h=new Je({props:{show:n[4]},$$inline:!0});const Tt={c:function(){t=b("div"),e=b("div"),s=b("div"),s.textContent="&lt;",r=T(),i=b("div"),o=Z("Chat with cat #"),a=Z(n[0]),c=T(),l=b("div"),K&amp;&amp;K.c(),u=T(),f=b("div"),pt(h.$$.fragment),p=T(),m=b("div"),A=b("textarea"),C=T(),I=b("button"),x=Le("svg"),P=Le("g"),B=Le("path"),N=Le("path"),O=Le("defs"),H=Le("linearGradient"),J=Le("stop"),X=Le("stop"),U=Le("clipPath"),st=Le("rect"),v(s,"id","message-close"),v(s,"class","s-9EDnMOFEbv0B"),y(s,Dt,169,2,3307),v(i,"id","message-title"),v(i,"class","s-9EDnMOFEbv0B"),y(i,Dt,170,2,3379),v(e,"id","message-header"),v(e,"class","s-9EDnMOFEbv0B"),y(e,Dt,168,1,3279),v(f,"class","loader-modal"),M(f,"display",n[4]?"block":"none"),y(f,Dt,180,2,3614),v(l,"id","message-history"),v(l,"class","s-9EDnMOFEbv0B"),y(l,Dt,174,1,3451),v(A,"class","message-input s-9EDnMOFEbv0B"),v(A,"placeholder","Message..."),A.disabled=n[4],y(A,Dt,185,2,3759),v(B,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),v(B,"fill","url(#paint0_linear_1078_955)"),y(B,Dt,189,5,4121),v(N,"d","M8.79492 8.20492L13.3749 12.7949L8.79492 17.3849L10.2049 18.7949L16.2049 12.7949L10.2049 6.79492L8.79492 8.20492Z"),v(N,"fill","white"),v(N,"fill-opacity","0.8"),y(N,Dt,190,5,4288),v(P,"clip-path","url(#clip0_1078_955)"),y(P,Dt,188,4,4079),v(J,"stop-color","#001AFF"),y(J,Dt,194,6,4604),v(X,"offset","1"),v(X,"stop-color","#4F95FF"),y(X,Dt,195,6,4639),v(H,"id","paint0_linear_1078_955"),v(H,"x1","12.0883"),v(H,"y1","10.7548"),v(H,"x2","20.3005"),v(H,"y2","17.941"),v(H,"gradientUnits","userSpaceOnUse"),y(H,Dt,193,5,4471),v(st,"width","24"),v(st,"height","24"),v(st,"fill","white"),v(st,"transform","translate(0.5 0.5)"),y(st,Dt,198,6,4744),v(U,"id","clip0_1078_955"),y(U,Dt,197,5,4707),y(O,Dt,192,4,4459),v(x,"width","25"),v(x,"height","25"),v(x,"viewBox","0 0 25 25"),v(x,"fill","none"),v(x,"xmlns","http://www.w3.org/2000/svg"),y(x,Dt,187,3,3979),v(I,"type","button"),I.disabled=ot=n[4]||!n[3].length,v(I,"class","s-9EDnMOFEbv0B"),y(I,Dt,186,2,3877),v(m,"id","send-message"),v(m,"class","s-9EDnMOFEbv0B"),y(m,Dt,184,1,3733),v(t,"id","message-popup"),v(t,"class","s-9EDnMOFEbv0B"),y(t,Dt,167,0,3253)},l:function(Y){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(Y,et){Q(Y,t,et),g(t,e),g(e,s),g(e,r),g(e,i),g(i,o),g(i,a),g(t,c),g(t,l),K&amp;&amp;K.m(l,null),g(l,u),g(l,f),ut(h,f,null),g(t,p),g(t,m),g(m,A),zl(A,n[3]),g(m,C),g(m,I),g(I,x),g(x,P),g(P,B),g(P,N),g(x,O),g(O,H),g(H,J),g(H,X),g(O,U),g(U,st),at=!0,lt||(rt=[$t(s,"click",n[9],!1,!1,!1,!1),$t(A,"input",n[10]),$t(I,"click",n[11],!1,!1,!1,!1)],lt=!0)},p:function(Y,[et]){(!at||et&amp;1)&amp;&amp;Ct(a,Y[0]),Y[2]?K?(K.p(Y,et),et&amp;4&amp;&amp;L(K,1)):(K=ol(Y),K.c(),L(K,1),K.m(l,u)):K&amp;&amp;(Ht(),F(K,1,1,()=&gt;{K=null}),Gt());const ht={};et&amp;16&amp;&amp;(ht.show=Y[4]),h.$set(ht),(!at||et&amp;16)&amp;&amp;M(f,"display",Y[4]?"block":"none"),(!at||et&amp;16)&amp;&amp;sc(A,"disabled",Y[4]),et&amp;8&amp;&amp;zl(A,Y[3]),(!at||et&amp;24&amp;&amp;ot!==(ot=Y[4]||!Y[3].length))&amp;&amp;sc(I,"disabled",ot)},i:function(Y){at||(L(K),L(h.$$.fragment,Y),at=!0)},o:function(Y){F(K),F(h.$$.fragment,Y),at=!1},d:function(Y){Y&amp;&amp;V(t),K&amp;&amp;K.d(),ft(h),lt=!1,Vs(rt)}};return R("SvelteRegisterBlock",{block:Tt,id:cl.name,type:"component",source:"",ctx:n}),Tt}function Fo(n=!1){setTimeout(()=&gt;{let t=document.getElementById("message-history");n?t.scroll({top:t.scrollHeight,behavior:"smooth"}):t.scrollTop=t.scrollHeight},200)}function my(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("MessagePopup",s,[]);let{closed:i}=t,{friendId:o}=t,{threadsList:a}=t,c,l,u=null,f="",h,p=!0;async function m(){e(4,p=!0);try{const N=await c.sendMessage(f,o);e(2,u=[...u,N]);const O=a.find(H=&gt;H.tokenId==o);O.messages=u,e(3,f=""),Fo(!0),console.log("Message sent: ",N)}catch(N){console.error(N),alert("Message send failed: "+N.message)}e(4,p=!1)}async function A(N=!1){const O=a.find(H=&gt;H.tokenId==o);if(O.messages&amp;&amp;!N){e(2,u=O.messages),Fo();return}O.messages=await c.getMessageHistory(o),O.unread=0,e(2,u=O.messages),Fo(N)}kt.data.subscribe(async N=&gt;{if(N.token){e(1,l=N.token),c=await kt.getMessageClient();try{await A()}catch(O){console.error(O),alert("Message load failed: "+O.message)}e(4,p=!1),h=setInterval(()=&gt;A(!0),1e4)}});function C(){h&amp;&amp;clearInterval(h),i()}n.$$.on_mount.push(function(){i===void 0&amp;&amp;!("closed"in t||n.$$.bound[n.$$.props.closed])&amp;&amp;Uo.warn("&lt;MessagePopup&gt; was created without expected prop 'closed'"),o===void 0&amp;&amp;!("friendId"in t||n.$$.bound[n.$$.props.friendId])&amp;&amp;Uo.warn("&lt;MessagePopup&gt; was created without expected prop 'friendId'"),a===void 0&amp;&amp;!("threadsList"in t||n.$$.bound[n.$$.props.threadsList])&amp;&amp;Uo.warn("&lt;MessagePopup&gt; was created without expected prop 'threadsList'")});const I=["closed","friendId","threadsList"];Object.keys(t).forEach(N=&gt;{!~I.indexOf(N)&amp;&amp;N.slice(0,2)!=="$$"&amp;&amp;N!=="slot"&amp;&amp;Uo.warn(`&lt;MessagePopup&gt; was created with unknown prop '${N}'`)});const x=()=&gt;C();function P(){f=this.value,e(3,f)}const B=()=&gt;m();return n.$$set=N=&gt;{"closed"in N&amp;&amp;e(7,i=N.closed),"friendId"in N&amp;&amp;e(0,o=N.friendId),"threadsList"in N&amp;&amp;e(8,a=N.threadsList)},n.$capture_state=()=&gt;({context:kt,MessageBubble:zd,Loader:Je,closed:i,friendId:o,threadsList:a,client:c,token:l,messages:u,newMessageText:f,reloadTimer:h,loading:p,sendMessage:m,loadMessages:A,scrollToBottom:Fo,cleanupAndClose:C}),n.$inject_state=N=&gt;{"closed"in N&amp;&amp;e(7,i=N.closed),"friendId"in N&amp;&amp;e(0,o=N.friendId),"threadsList"in N&amp;&amp;e(8,a=N.threadsList),"client"in N&amp;&amp;(c=N.client),"token"in N&amp;&amp;e(1,l=N.token),"messages"in N&amp;&amp;e(2,u=N.messages),"newMessageText"in N&amp;&amp;e(3,f=N.newMessageText),"reloadTimer"in N&amp;&amp;(h=N.reloadTimer),"loading"in N&amp;&amp;e(4,p=N.loading)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,l,u,f,p,m,C,i,a,x,P,B]}class Jd extends Rt{constructor(t){super(t),Ot(this,t,my,cl,Bt,{closed:7,friendId:0,threadsList:8}),R("SvelteRegisterComponent",{component:this,tagName:"MessagePopup",options:t,id:cl.name})}get closed(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set closed(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get friendId(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set friendId(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}get threadsList(){throw new Error("&lt;MessagePopup&gt;: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}set threadsList(t){throw new Error("&lt;MessagePopup&gt;: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '&lt;svelte:options accessors/&gt;'")}}const{console:wy}=li,Xt="src/routes/Messages.svelte";function Of(n,t,e){const s=n.slice();return s[8]=t[e],s[9]=t,s[10]=e,s}function ll(n){let t,e,s,r;const i=[Yd,Kd],o=[];function a(l,u){return l[0].length?0:1}t=a(n),e=o[t]=i[t](n);const c={c:function(){e.c(),s=zs()},m:function(u,f){o[t].m(u,f),Q(u,s,f),r=!0},p:function(u,f){let h=t;t=a(u),t===h?o[t].p(u,f):(Ht(),F(o[h],1,1,()=&gt;{o[h]=null}),Gt(),e=o[t],e?e.p(u,f):(e=o[t]=i[t](u),e.c()),L(e,1),e.m(s.parentNode,s))},i:function(u){r||(L(e),r=!0)},o:function(u){F(e),r=!1},d:function(u){u&amp;&amp;V(s),o[t].d(u)}};return R("SvelteRegisterBlock",{block:c,id:ll.name,type:"if",source:"(68:1) {#if threadsList}",ctx:n}),c}function Kd(n){let t,e;const s={c:function(){t=b("h5"),t.textContent="You don't have any friends yet :-(",e=b("p"),e.textContent="Once you complete play dates, new friends will appear here.",y(t,Xt,107,3,2458),v(e,"class","light"),y(e,Xt,107,46,2501)},m:function(i,o){Q(i,t,o),Q(i,e,o)},p:nt,i:nt,o:nt,d:function(i){i&amp;&amp;(V(t),V(e))}};return R("SvelteRegisterBlock",{block:s,id:Kd.name,type:"else",source:"(89:2) {:else}",ctx:n}),s}function Yd(n){let t,e,s=an(n[0]),r=[];for(let a=0;a&lt;s.length;a+=1)r[a]=ul(Of(n,s,a));const i=a=&gt;F(r[a],1,1,()=&gt;{r[a]=null}),o={c:function(){t=b("div");for(let c=0;c&lt;r.length;c+=1)r[c].c();v(t,"class","cat-list"),y(t,Xt,87,3,1883)},m:function(c,l){Q(c,t,l);for(let u=0;u&lt;r.length;u+=1)r[u]&amp;&amp;r[u].m(t,null);e=!0},p:function(c,l){if(l&amp;3){s=an(c[0]);let u;for(u=0;u&lt;s.length;u+=1){const f=Of(c,s,u);r[u]?(r[u].p(f,l),L(r[u],1)):(r[u]=ul(f),r[u].c(),L(r[u],1),r[u].m(t,null))}for(Ht(),u=s.length;u&lt;r.length;u+=1)i(u);Gt()}},i:function(c){if(!e){for(let l=0;l&lt;s.length;l+=1)L(r[l]);e=!0}},o:function(c){r=r.filter(Boolean);for(let l=0;l&lt;r.length;l+=1)F(r[l]);e=!1},d:function(c){c&amp;&amp;V(t),ho(r,c)}};return R("SvelteRegisterBlock",{block:o,id:Yd.name,type:"if",source:"(69:2) {#if threadsList.length}",ctx:n}),o}function ul(n){let t,e,s,r,i,o,a,c=n[8].tokenId+"",l,u,f,h=n[8].unread+"",p,m,A,C,I,x,P,B,N,O;e=new On({props:{tokenUri:n[8].tokenUri},$$inline:!0}),x=new Ln({props:{address:n[8].owner},$$inline:!0});function H(){return n[3](n[8],n[9],n[10])}const J={c:function(){t=b("div"),pt(e.$$.fragment),s=T(),r=b("div"),i=b("div"),o=b("h4"),a=Z("#"),l=Z(c),u=T(),f=b("span"),p=Z(h),m=Z(" Unread"),C=T(),I=b("div"),pt(x.$$.fragment),P=T(),y(o,Xt,96,7,2178),v(f,"class",A=qo("unread-count"+(n[8].unread&gt;0?" has-unread":""))+" s-t-aAqwnpGxxz"),y(f,Xt,97,7,2212),v(i,"class","cat-list-title"),y(i,Xt,95,6,2142),y(I,Xt,99,6,2333),v(r,"class","cat-list-info"),y(r,Xt,94,5,2108),v(t,"class","cat-list-item"),y(t,Xt,89,4,1943)},m:function(U,st){Q(U,t,st),ut(e,t,null),g(t,s),g(t,r),g(r,i),g(i,o),g(o,a),g(o,l),g(i,u),g(i,f),g(f,p),g(f,m),g(r,C),g(r,I),ut(x,I,null),g(t,P),B=!0,N||(O=$t(t,"click",H,!1,!1,!1,!1),N=!0)},p:function(U,st){n=U;const ot={};st&amp;1&amp;&amp;(ot.tokenUri=n[8].tokenUri),e.$set(ot),(!B||st&amp;1)&amp;&amp;c!==(c=n[8].tokenId+"")&amp;&amp;Ct(l,c),(!B||st&amp;1)&amp;&amp;h!==(h=n[8].unread+"")&amp;&amp;Ct(p,h),(!B||st&amp;1&amp;&amp;A!==(A=qo("unread-count"+(n[8].unread&gt;0?" has-unread":""))+" s-t-aAqwnpGxxz"))&amp;&amp;v(f,"class",A);const at={};st&amp;1&amp;&amp;(at.address=n[8].owner),x.$set(at)},i:function(U){B||(L(e.$$.fragment,U),L(x.$$.fragment,U),B=!0)},o:function(U){F(e.$$.fragment,U),F(x.$$.fragment,U),B=!1},d:function(U){U&amp;&amp;V(t),ft(e),ft(x),N=!1,O()}};return R("SvelteRegisterBlock",{block:J,id:ul.name,type:"each",source:"(71:3) {#each threadsList as friend}",ctx:n}),J}function fl(n){let t,e;t=new Jd({props:{threadsList:n[0],friendId:n[1],closed:n[4]},$$inline:!0});const s={c:function(){pt(t.$$.fragment)},m:function(i,o){ut(t,i,o),e=!0},p:function(i,o){const a={};o&amp;1&amp;&amp;(a.threadsList=i[0]),o&amp;2&amp;&amp;(a.friendId=i[1]),o&amp;2&amp;&amp;(a.closed=i[4]),t.$set(a)},i:function(i){e||(L(t.$$.fragment,i),e=!0)},o:function(i){F(t.$$.fragment,i),e=!1},d:function(i){ft(t,i)}};return R("SvelteRegisterBlock",{block:s,id:fl.name,type:"if",source:"(94:1) {#if selectedFriendId}",ctx:n}),s}function hl(n){let t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C,I,x=n[0]&amp;&amp;ll(n);A=new Je({props:{show:n[2]},$$inline:!0});let P=n[1]&amp;&amp;fl(n);const B={c:function(){t=b("h3"),t.textContent="Messages",e=T(),s=b("p"),s.textContent="Send messages to other cat owners.",r=T(),i=b("div"),o=Z(`The chat is not moderated so please:
	`),a=b("ul"),c=b("li"),c.textContent="Do not visit any links sent by people in chat",l=T(),u=b("li"),u.textContent="Be respectful &amp; mindful of inappropriate language",f=Z(`
	Offenders may have their cat confiscated by SmartCat protective services.`),h=T(),p=b("div"),x&amp;&amp;x.c(),m=T(),pt(A.$$.fragment),C=T(),P&amp;&amp;P.c(),y(t,Xt,74,0,1371),y(s,Xt,75,0,1389),y(c,Xt,79,2,1606),y(u,Xt,80,2,1663),y(a,Xt,78,1,1599),M(i,"text-align","left"),M(i,"border-radius","5px"),M(i,"border","2px solid red"),M(i,"padding","5px"),M(i,"margin","0 10px 20px 0"),M(i,"font-size","12px"),y(i,Xt,76,0,1431),v(p,"id","thread-list"),y(p,Xt,84,0,1811)},l:function(O){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(O,H){Q(O,t,H),Q(O,e,H),Q(O,s,H),Q(O,r,H),Q(O,i,H),g(i,o),g(i,a),g(a,c),g(a,l),g(a,u),g(i,f),Q(O,h,H),Q(O,p,H),x&amp;&amp;x.m(p,null),g(p,m),ut(A,p,null),g(p,C),P&amp;&amp;P.m(p,null),I=!0},p:function(O,[H]){O[0]?x?(x.p(O,H),H&amp;1&amp;&amp;L(x,1)):(x=ll(O),x.c(),L(x,1),x.m(p,m)):x&amp;&amp;(Ht(),F(x,1,1,()=&gt;{x=null}),Gt());const J={};H&amp;4&amp;&amp;(J.show=O[2]),A.$set(J),O[1]?P?(P.p(O,H),H&amp;2&amp;&amp;L(P,1)):(P=fl(O),P.c(),L(P,1),P.m(p,null)):P&amp;&amp;(Ht(),F(P,1,1,()=&gt;{P=null}),Gt())},i:function(O){I||(L(x),L(A.$$.fragment,O),L(P),I=!0)},o:function(O){F(x),F(A.$$.fragment,O),F(P),I=!1},d:function(O){O&amp;&amp;(V(t),V(e),V(s),V(r),V(i),V(h),V(p)),x&amp;&amp;x.d(),ft(A),P&amp;&amp;P.d()}};return R("SvelteRegisterBlock",{block:B,id:hl.name,type:"component",source:"",ctx:n}),B}function yy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Messages",s,[]);let i,o=null,a=null,c=!0,l;const u=async()=&gt;{var I;const m=await(await kt.getMessageClient()).getNewMessages(),A=await ci(i),C=[];for(const x of A)C.push({...x,unread:((I=m.senders[x.tokenId])==null?void 0:I.unread)??0});e(0,o=C.sort((x,P)=&gt;x.unread&lt;P.unread?1:-1))};kt.data.subscribe(async m=&gt;{if(m.token){i=m.token;try{await u()}catch(A){console.error(A)}e(2,c=!1),l=setInterval(()=&gt;u(),6e4)}});const f=[];Object.keys(t).forEach(m=&gt;{!~f.indexOf(m)&amp;&amp;m.slice(0,2)!=="$$"&amp;&amp;m!=="slot"&amp;&amp;wy.warn(`&lt;Messages&gt; was created with unknown prop '${m}'`)});const h=(m,A,C)=&gt;{e(1,a=m.tokenId),e(0,A[C].unread=0,o)},p=()=&gt;e(1,a=null);return n.$capture_state=()=&gt;({context:kt,getFriendsList:ci,NftIcon:On,OwnerAddress:Ln,MessagePopup:Jd,Loader:Je,token:i,threadsList:o,selectedFriendId:a,loading:c,reloadTimer:l,loadThreads:u}),n.$inject_state=m=&gt;{"token"in m&amp;&amp;(i=m.token),"threadsList"in m&amp;&amp;e(0,o=m.threadsList),"selectedFriendId"in m&amp;&amp;e(1,a=m.selectedFriendId),"loading"in m&amp;&amp;e(2,c=m.loading),"reloadTimer"in m&amp;&amp;(l=m.reloadTimer)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[o,a,c,h,p]}class Lf extends Rt{constructor(t){super(t),Ot(this,t,yy,hl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Messages",options:t,id:hl.name})}}const{console:Ay}=li,Pn="src/routes/Partners.svelte";function dl(n){let t,e,s,r,i,o,a,c=n[1]?"2. Complete Quest":"1. Sign Challenge",l,u,f;const h={c:function(){t=b("div"),e=b("h4"),e.textContent="Aethir",s=T(),r=b("p"),r.textContent="Follow Aethir on Twitter to get 200 points",i=T(),o=b("div"),a=b("a"),l=Z(c),y(e,Pn,64,2,1259),y(r,Pn,65,2,1277),v(a,"data-link","https://smartlayer.network/pass?enableTwitterRaid=true"),v(a,"data-challenge","AethirTwitterRaid"),v(a,"target","_blank"),v(a,"href",n[1]),y(a,Pn,67,3,1420),v(o,"class","link-button s-6qPDKcEBUYaG"),M(o,"position","relative"),M(o,"margin","0 auto"),M(o,"max-width","200px"),y(o,Pn,66,2,1329),v(t,"class","partner-link s-6qPDKcEBUYaG"),y(t,Pn,63,1,1230)},m:function(m,A){Q(m,t,A),g(t,e),g(t,s),g(t,r),g(t,i),g(t,o),g(o,a),g(a,l),u||(f=$t(a,"click",n[3],!1,!1,!1,!1),u=!0)},p:function(m,A){A&amp;2&amp;&amp;c!==(c=m[1]?"2. Complete Quest":"1. Sign Challenge")&amp;&amp;Ct(l,c),A&amp;2&amp;&amp;v(a,"href",m[1])},d:function(m){m&amp;&amp;V(t),u=!1,f()}};return R("SvelteRegisterBlock",{block:h,id:dl.name,type:"if",source:"(48:1) {#if token}",ctx:n}),h}function pl(n){let t,e,s,r,i,o,a,c=n[0]&amp;&amp;dl(n);const l={c:function(){t=b("div"),e=b("h3"),e.textContent="Our Partners",s=T(),r=b("p"),r.textContent="Earn additional SmartLayer points by completing quests only available through your SmartCat",i=T(),o=b("p"),o.textContent="These are gas free transactions powered by your SmartLayer pass.",a=T(),c&amp;&amp;c.c(),y(e,Pn,59,1,1021),y(r,Pn,60,1,1044),y(o,Pn,61,1,1144),y(t,Pn,58,0,1014)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,h){Q(f,t,h),g(t,e),g(t,s),g(t,r),g(t,i),g(t,o),g(t,a),c&amp;&amp;c.m(t,null)},p:function(f,[h]){f[0]?c?c.p(f,h):(c=dl(f),c.c(),c.m(t,null)):c&amp;&amp;(c.d(1),c=null)},i:nt,o:nt,d:function(f){f&amp;&amp;V(t),c&amp;&amp;c.d()}};return R("SvelteRegisterBlock",{block:l,id:pl.name,type:"component",source:"",ctx:n}),l}function by(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("Partners",s,[]);let i,o;kt.data.subscribe(async u=&gt;{u.token&amp;&amp;e(0,i=u.token)});function a(u){const f=u.target;if(f.getAttribute("href"))return;const p=f.getAttribute("data-link");let m=f.getAttribute("data-challenge");m+=i.tokenId,web3.personal.sign({data:m},function(A,C){if(A!=null)alert(A);else{console.log(C);const I=m+"-"+C,x=p+(p.indexOf("?")&gt;-1?"&amp;":"?")+"challenge="+encodeURIComponent(I);e(1,o=x)}})}const c=[];Object.keys(t).forEach(u=&gt;{!~c.indexOf(u)&amp;&amp;u.slice(0,2)!=="$$"&amp;&amp;u!=="slot"&amp;&amp;Ay.warn(`&lt;Partners&gt; was created with unknown prop '${u}'`)});const l=u=&gt;a(u);return n.$capture_state=()=&gt;({context:kt,token:i,challengeUrl:o,signChallengeAndOpenLink:a}),n.$inject_state=u=&gt;{"token"in u&amp;&amp;e(0,i=u.token),"challengeUrl"in u&amp;&amp;e(1,o=u.challengeUrl)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[i,o,a,l]}class Rf extends Rt{constructor(t){super(t),Ot(this,t,by,pl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"Partners",options:t,id:pl.name})}}const jt="src/routes/NewChallenges.svelte";function gl(n){let t,e,s,r,i,o,a,c,l,u,f,h,p,m,A,C,I,x,P,B,N,O,H,J,X,U,st,ot,at,lt,rt;const K={c:function(){t=b("div"),e=b("h4"),e.textContent="CoolCat Raffle",s=T(),r=b("div"),i=b("p"),i.textContent=`For the next 5 weeks, 5 Cool Cats will be raffled off to our community.
			The raffle starts December 8, 2023, and will last for five weeks. One Cool Cat will be raffled each week.`,o=T(),a=b("p"),a.textContent=`For each level your Smart Cat gains, you will earn an additional entry into the raffle.
			This means that the higher the level of your Smart Cat, the more chances you have to win the raffle.`,c=T(),l=b("p"),u=Z(`Here's a breakdown of how the raffle entries work:
			`),f=b("br"),h=b("br"),p=Z(`
			Level 1: +1 entry`),m=b("br"),A=Z(`
			Level 2: +2 entries`),C=b("br"),I=Z(`
			Level 3: +3 entries`),x=b("br"),P=Z(`
			Level 4: +4 entries`),B=b("br"),N=Z(`
			...`),O=b("br"),H=Z(`
			Level 20: +20 entries`),J=b("br"),X=T(),U=b("br"),st=b("br"),ot=Z(`
			For example, if your Smart Cat is level 3, you will have a total of 6 entries into the raffle. This is because you will earn 1 entry for level 1, 2 entries for level 2, and 3 entries for level 3.`),at=T(),lt=b("div"),rt=b("a"),rt.textContent="Learn More",M(e,"margin-bottom","20px"),y(e,jt,12,1,245),y(i,jt,14,2,332),y(a,jt,18,2,529),y(f,jt,24,3,798),y(h,jt,24,8,803),y(m,jt,25,20,829),y(C,jt,26,22,857),y(x,jt,27,22,885),y(B,jt,28,22,913),y(O,jt,29,6,925),y(J,jt,30,24,955),y(U,jt,31,3,964),y(st,jt,31,8,969),y(l,jt,22,2,737),M(r,"text-align","left"),y(r,jt,13,1,298),v(rt,"href","https://twitter.com/SmartLayer/status/1727826020651438465"),v(rt,"target","_blank"),y(rt,jt,36,2,1283),v(lt,"class","link-button"),M(lt,"position","relative"),M(lt,"margin","20px auto"),M(lt,"max-width","200px"),y(lt,jt,35,1,1190),M(t,"text-align","center"),M(t,"padding","10px"),y(t,jt,11,0,195)},l:function(vt){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(vt,Y){Q(vt,t,Y),g(t,e),g(t,s),g(t,r),g(r,i),g(r,o),g(r,a),g(r,c),g(r,l),g(l,u),g(l,f),g(l,h),g(l,p),g(l,m),g(l,A),g(l,C),g(l,I),g(l,x),g(l,P),g(l,B),g(l,N),g(l,O),g(l,H),g(l,J),g(l,X),g(l,U),g(l,st),g(l,ot),g(t,at),g(t,lt),g(lt,rt)},p:nt,i:nt,o:nt,d:function(vt){vt&amp;&amp;V(t)}};return R("SvelteRegisterBlock",{block:K,id:gl.name,type:"component",source:"",ctx:n}),K}function vy(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("NewChallenges",s,[]);let i;kt.data.subscribe(a=&gt;{i=a.token});const o=[];return Object.keys(t).forEach(a=&gt;{!~o.indexOf(a)&amp;&amp;a.slice(0,2)!=="$$"&amp;&amp;a!=="slot"&amp;&amp;console.warn(`&lt;NewChallenges&gt; was created with unknown prop '${a}'`)}),n.$capture_state=()=&gt;({context:kt,CatImage:Tn,token:i}),n.$inject_state=a=&gt;{"token"in a&amp;&amp;(i=a.token)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[]}class Uf extends Rt{constructor(t){super(t),Ot(this,t,vy,gl,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"NewChallenges",options:t,id:gl.name})}}const Ff="src/App.svelte";function ml(n){let t,e,s,r,i,o;var a=n[0];function c(u,f){return{$$inline:!0}}a&amp;&amp;(s=Wl(a,c()));const l={c:function(){t=b("div"),e=b("div"),s&amp;&amp;pt(s.$$.fragment),v(e,"id","token-container"),y(e,Ff,60,1,1317),y(t,Ff,59,0,1310)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,h){Q(f,t,h),g(t,e),s&amp;&amp;ut(s,e,null),r=!0,i||(o=$t(window,"hashchange",n[1],!1,!1,!1,!1),i=!0)},p:function(f,[h]){if(h&amp;1&amp;&amp;a!==(a=f[0])){if(s){Ht();const p=s;F(p.$$.fragment,1,0,()=&gt;{ft(p,1)}),Gt()}a?(s=Wl(a,c()),pt(s.$$.fragment),L(s.$$.fragment,1),ut(s,e,null)):s=null}},i:function(f){r||(s&amp;&amp;L(s.$$.fragment,f),r=!0)},o:function(f){s&amp;&amp;F(s.$$.fragment,f),r=!1},d:function(f){f&amp;&amp;V(t),s&amp;&amp;ft(s),i=!1,o()}};return R("SvelteRegisterBlock",{block:l,id:ml.name,type:"component",source:"",ctx:n}),l}function Ey(n,t,e){let{$$slots:s={},$$scope:r}=t;Lt("App",s,[]);let i,o=!1;const a={"#info":Ef,"#adopt":Xl,"#feed":Cf,"#play":xf,"#invite":Sf,"#clean":Bf,"#levelUp":Tf,"#messages":Lf,"#partners":Rf,"#newChallenges":Uf};let c;function l(){e(0,c=a[i.level==0?"#adopt":document.location.hash]||kf)}web3.tokens.dataChanged=async(f,h,p)=&gt;{o||(kt.setToken(h.currentInstance),i=h.currentInstance,o=!0,l())};const u=[];return Object.keys(t).forEach(f=&gt;{!~u.indexOf(f)&amp;&amp;f.slice(0,2)!=="$$"&amp;&amp;f!=="slot"&amp;&amp;console.warn(`&lt;App&gt; was created with unknown prop '${f}'`)}),n.$capture_state=()=&gt;({Adopt:Xl,Info:Ef,NotFound:kf,Feed:Cf,Play:xf,Invite:Sf,Clean:Bf,LevelUp:Tf,Messages:Lf,context:kt,Partners:Rf,NewChallenges:Uf,token:i,initialised:o,routingMap:a,page:c,routeChange:l}),n.$inject_state=f=&gt;{"token"in f&amp;&amp;(i=f.token),"initialised"in f&amp;&amp;(o=f.initialised),"page"in f&amp;&amp;e(0,c=f.page)},t&amp;&amp;"$$inject"in t&amp;&amp;n.$inject_state(t.$$inject),[c,l]}class ky extends Rt{constructor(t){super(t),Ot(this,t,Ey,ml,Bt,{}),R("SvelteRegisterComponent",{component:this,tagName:"App",options:t,id:ml.name})}}new ky({target:document.body});


//]]&gt;</script>
<link xmlns="http://www.w3.org/1999/xhtml" rel="preconnect" href="https://fonts.googleapis.com"/>
<link xmlns="http://www.w3.org/1999/xhtml" rel="preconnect" href="https://fonts.gstatic.com"/>
<link xmlns="http://www.w3.org/1999/xhtml" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>


<style>
					/* <![CDATA[ */
					
* {
	font-family: "Rubik", sans-serif;
	box-sizing: border-box;
}

body {
	text-align: center;
	color: #0B0B0B;
}

h1 {
	font-size: 22px;
}

h2 {
	font-size: 20px;
}

h3 {
	font-size: 18px;
}

h5 {
	font-size: 16px;
	margin-bottom: 12px;
}

p.light {
	color: #545454;
}

.cat-list {
	display: flex;
	flex-direction: column;
}

.cat-list-item {
	width: 100%;
	margin: 6px 0;
	display: flex;
	cursor: pointer;
	overflow: hidden;
	height: 64px;
	position: relative;
	border-radius: 8px;
	border: 1px solid #DDD;
	background: #FFFEFE;
	box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

.cat-list-item.cant-play {
	opacity: 0.7;
}

.cat-list-item.selected {
	background-color: #8A9CB81F;
}

.cat-list-info {
	flex-grow: 1;
	text-align: left;
	padding: 10px;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	justify-content: center;
	gap: 8px;
}

.cat-list-title {
	display: flex;
	align-items: center;
	font-size: 14px;
}

.cat-list-info h4 {
	flex-grow: 1;
	margin: 0;
	font-weight: 600;
}

.eth-address {
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow: hidden;
	max-width: 100%;
	display: block;
	font-size: 12px;
}

.loader-modal {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
}

.score-box {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	flex: 1 0 0;
}

.score-box label {
	font-size: 16px;
	color: #8B8B8B;
}

.score-box span {
	font-weight: 600;
	color: #011aff;
}

.form-field {
	position: relative;
	margin: 25px auto;
	height: 50px;
	width: 100%;
	max-width: 300px;
}

.form-field label {
	position: absolute;
	left: 12px;
	top: 12px;
	transition: all 0.3s ease;
	font-size: 16px;
	color: #969696;
	background: #fff;
	padding: 2px 4px;
}

.form-field input {
	background-color: transparent;
	padding: 16px 12px;
	border: 1px solid #969696;
	border-radius: 4px;
	width: 100%;
}

.form-field input:focus + label, input:not(:placeholder-shown) ~ label {
	top: -8px;
	font-size: 12px;
	color: #011aff;
}

.form-field input:focus {
	outline: 0;
	border-color: #011aff !important;
}

.link-button a, .link-button div {
	height: 56px;
	padding: 0 24px;
	display: flex;
	justify-content: center;
	align-items: center;
	border-radius: 10px;
	border: 2px solid #011aff;
	color: #011aff;
	font-size: 16px;
	font-weight: 600;
	text-decoration: none;
}

					/* ]]> */
				</style></ts:viewContent>

		<ts:card buttonClass="featured" exclude="notAdoptedYet" name="New" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Win a CoolCat!</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="newChallenges" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Info" origins="SmartCatNFT" type="token">
			<ts:label>
				<ts:string xml:lang="en">Cat Bio</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="info" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="adopted" name="adopt" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Adopt</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="adopt" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="cantLevelUp" name="levelUp" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Level Up!</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="levelUp">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="levelUp" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyFed" name="feedCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Feed Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="feedCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="feed" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyCleaned" name="cleanCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Clean Cat</ts:string>
			</ts:label>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="cleanCat">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="clean" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="alreadyPlayed" name="playDateRequests" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Accept Playdates</ts:string>
			</ts:label>
			<ts:attribute name="inviter">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="acceptPlayDate">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="inviter"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="play" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="inviteCat" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Invite Cat for Playdate</ts:string>
			</ts:label>
			<ts:attribute name="invitee">
				<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
				<ts:origins>
					<ts:user-entry as="uint"/>
				</ts:origins>
			</ts:attribute>
			<ts:transaction>
				<ethereum:transaction as="uint" contract="SmartCatScore" function="inviteCatForPlaying">
					<ts:data>
						<ts:uint256 ref="tokenId"/>
						<ts:uint256 local-ref="invitee"/>
					</ts:data>
				</ethereum:transaction>
			</ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" urlFragment="invite" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="messages" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Messages</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="messages" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card exclude="notAdoptedYet" name="Partners" origins="SmartCatNFT" type="action">
			<ts:label>
				<ts:string xml:lang="en">Partners</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="partners" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

	</ts:cards>

	<ts:attribute name="level">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Level</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="uint" contract="SmartCatScore" function="getLevel">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canFeed">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Feed</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canFeed">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canPlay">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Play</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canPlay">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canClean">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Clean</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canClean">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="canLevelUp">
		<ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.7</ts:syntax></ts:type>
		<ts:label>
			<ts:string xml:lang="en">Can Level Up</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="bool" contract="SmartCatScore" function="canLevelUp">
				<ts:data>
					<ts:uint256 ref="tokenId"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

<ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"/><ds:Reference><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>x51l9kP7c22FoWaNYPHOUSvamlPDkGBNteZMgwgdm9Y=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>TyubDE7vIYCyyP/qH9V5HLk9wFWYk55VMhsrzQP9yMoAC4qI+dKFIInxJXssJeJdsIlhLSUJl1Hj9KtWOXVxfA==</ds:SignatureValue><ds:KeyInfo><ds:KeyValue><ecdsa:ECDSAKeyValue xmlns:ecdsa="http://www.w3.org/2001/04/xmldsig-more#"><ecdsa:DomainParameters><ecdsa:NamedCurve URI="urn:oid:1.3.132.0.10"/></ecdsa:DomainParameters><ecdsa:PublicKey><ecdsa:X>4AQVAWD3IY5tHmASnBn38RKHrVTFodVnV4IAFStb3sg=</ecdsa:X><ecdsa:Y>ZmUq25j5e065TtcZyDY7FqHBTk8aJ2Jc/Kq5kHYq2mQ=</ecdsa:Y></ecdsa:PublicKey></ecdsa:ECDSAKeyValue></ds:KeyValue><ds:X509Data><ds:X509Certificate>MIIBxjCCAWygAwIBAgIBATAKBggqhkjOPQQDAjATMREwDwYDVQQDEwhTbWFydENhdDAeFw0yMzEwMjcwMjA5NTVaFw0yNTEwMjcwMjA5NTVaMBUxEzARBgNVBAMTCm1pY2N5Mi5ldGgwVjAQBgcqhkjOPQIBBgUrgQQACgNCAATgBBUBYPchjm0eYBKcGffxEoetVMWh1WdXggAVK1veyGZlKtuY+XtOuU7XGcg2OxahwU5PGidiXPyquZB2Ktpko4GxMIGuMA8GA1UdEwEB/wQFMAMCAQAwDgYDVR0PAQH/BAQDAgeAMB0GA1UdDgQWBBT3uFcb7xlllKr0HM1DFQJHJ8hyejAfBgNVHSMEGDAWgBQTK5vtCxgRHrj6QrtB/Rla2wPb6zBLBgNVHRIBAf8EQQQiMGC8T8daGKYhMWFsHwmZeRV1aawywGcGKDKIC6NV7LE1OxsmNRtSSKXkJJkhw8SYX8B8XYadL2Tsb1LMgUVfMAoGCCqGSM49BAMCA0gAMEUCIFDiOxh1gdQLKpGTgWvfYstsEd4uDZGlz9JEfC+nIApKAiEA1Onj6C8Bu0X3mUU++GnbV3wW01mxM7eQPzi7ebd10ek=</ds:X509Certificate></ds:X509Data></ds:KeyInfo></ds:Signature></ts:token>